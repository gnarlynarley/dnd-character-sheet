(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const da=!1;var jr=Array.isArray,tu=Array.prototype.indexOf,ar=Array.prototype.includes,Ti=Array.from,Yl=Object.defineProperty,Pn=Object.getOwnPropertyDescriptor,Wl=Object.getOwnPropertyDescriptors,nu=Object.prototype,ru=Array.prototype,Ca=Object.getPrototypeOf,Ja=Object.isExtensible;function Jn(e){return typeof e=="function"}const Re=()=>{};function iu(e){return e()}function wi(e){for(var t=0;t<e.length;t++)e[t]()}function Gl(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const ot=2,Fr=4,lr=8,va=1<<24,cn=16,Jt=32,Yn=64,Di=128,Mt=512,nt=1024,_t=2048,fn=4096,At=8192,an=16384,fr=32768,yn=65536,ha=1<<17,Aa=1<<18,dr=1<<19,Ql=1<<20,pn=1<<25,Hn=32768,pa=1<<21,Ta=1<<22,Cn=1<<23,ln=Symbol("$state"),Xl=Symbol("legacy props"),au=Symbol(""),Fn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},Hr=3,On=8;function Ri(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function lu(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ou(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function su(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function uu(e){throw new Error("https://svelte.dev/e/effect_orphan")}function cu(){throw new Error("https://svelte.dev/e/effect_pending_outside_reaction")}function fu(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function du(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function vu(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function hu(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pu(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function gu(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function mu(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const _u=1,bu=2,Kl=4,yu=8,wu=16,xu=1,Su=2,ku=4,Eu=8,$u=16,Iu=1,Pu=2,Cu=4,Au=1,Tu=2,Du="[",Ni="[!",Da="]",Ur={},ut=Symbol(),Ru="http://www.w3.org/1999/xhtml";function Vr(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function Nu(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Ou(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let ve=!1;function mn(e){ve=e}let _e;function rt(e){if(e===null)throw Vr(),Ur;return _e=e}function wn(){return rt(Vt(_e))}function O(e){if(ve){if(Vt(_e)!==null)throw Vr(),Ur;_e=e}}function Ee(e=1){if(ve){for(var t=e,n=_e;t--;)n=Vt(n);_e=n}}function Br(e=!0){for(var t=0,n=_e;;){if(n.nodeType===On){var r=n.data;if(r===Da){if(t===0)return n;t-=1}else(r===Du||r===Ni)&&(t+=1)}var i=Vt(n);e&&n.remove(),n=i}}function Zl(e){if(!e||e.nodeType!==On)throw Vr(),Ur;return e.data}function Jl(e){return e===this.v}function eo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function to(e){return!eo(e,this.v)}let _n=!1,vr=!1,Lu=!1;function zu(){_n=!0}function Fu(){vr=!0}let Le=null;function or(e){Le=e}function Se(e,t=!1,n){Le={p:Le,i:!1,c:null,e:null,s:e,x:null,l:vr&&!t?{s:null,u:null,$:[]}:null}}function ke(e){var t=Le,n=t.e;if(n!==null){t.e=null;for(var r of n)Io(r)}return t.i=!0,Le=t.p,{}}function Yr(){return!vr||Le!==null&&Le.l===null}let Bn=[];function no(){var e=Bn;Bn=[],wi(e)}function qt(e){if(Bn.length===0&&!Tr){var t=Bn;queueMicrotask(()=>{t===Bn&&no()})}Bn.push(e)}function Bu(){for(;Bn.length>0;)no()}function ro(e){var t=ye;if(t===null)return $e.f|=Cn,e;if((t.f&fr)===0){if((t.f&Di)===0)throw e;t.b.error(e)}else Un(e,t)}function Un(e,t){for(;t!==null;){if((t.f&Di)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Mu=-7169;function Je(e,t){e.f=e.f&Mu|t}function Ra(e){(e.f&Mt)!==0||e.deps===null?Je(e,nt):Je(e,fn)}function io(e){if(e!==null)for(const t of e)(t.f&ot)===0||(t.f&Hn)===0||(t.f^=Hn,io(t.deps))}function ao(e,t,n){(e.f&_t)!==0?t.add(e):(e.f&fn)!==0&&n.add(e),io(e.deps),Je(e,nt)}const Qn=new Set;let xe=null,xi=null,ct=null,It=[],Oi=null,ga=!1,Tr=!1;class An{committed=!1;current=new Map;previous=new Map;#e=new Set;#i=new Set;#t=0;#a=0;#l=null;#r=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#a>0}process(t){It=[],this.apply();var n=[],r=[];for(const i of t)this.#s(i,n,r);if(this.is_deferred()){this.#u(r),this.#u(n);for(const i of this.skipped_effects)uo(i)}else{for(const i of this.#e)i();this.#e.clear(),this.#t===0&&this.#c(),xi=this,xe=null,el(r),el(n),xi=null,this.#l?.resolve()}ct=null}#s(t,n,r){t.f^=nt;for(var i=t.first,a=null;i!==null;){var l=i.f,o=(l&(Jt|Yn))!==0,s=o&&(l&nt)!==0,u=s||(l&At)!==0||this.skipped_effects.has(i);if(_n&&a===null&&(l&Di)!==0&&i.b?.is_pending&&(a=i),!u&&i.fn!==null){o?i.f^=nt:a!==null&&(l&(Fr|lr|va))!==0?a.b.defer_effect(i):(l&Fr)!==0?n.push(i):_n&&(l&(lr|va))!==0?r.push(i):gr(i)&&((l&cn)!==0&&this.#n.add(i),ur(i));var d=i.first;if(d!==null){i=d;continue}}var c=i.parent;for(i=i.next;i===null&&c!==null;)c===a&&(a=null),i=c.next,c=c.parent}}#u(t){for(var n=0;n<t.length;n+=1)ao(t[n],this.#r,this.#n)}capture(t,n){n!==ut&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&Cn)===0&&(this.current.set(t,t.v),ct?.set(t,t.v))}activate(){xe=this,this.apply()}deactivate(){xe===this&&(xe=null,ct=null)}flush(){if(this.activate(),It.length>0){if(ma(),xe!==null&&xe!==this)return}else this.#t===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#i)t(this);this.#i.clear()}#c(){if(Qn.size>1){this.previous.clear();var t=ct,n=!0;for(const i of Qn){if(i===this){n=!1;continue}const a=[];for(const[o,s]of this.current){if(i.current.has(o))if(n&&s!==i.current.get(o))i.current.set(o,s);else continue;a.push(o)}if(a.length===0)continue;const l=[...i.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var r=It;It=[];const o=new Set,s=new Map;for(const u of a)oo(u,l,o,s);if(It.length>0){xe=i,i.apply();for(const u of It)i.#s(u,[],[]);i.deactivate()}It=r}}xe=null,ct=t}this.committed=!0,Qn.delete(this)}increment(t){this.#t+=1,t&&(this.#a+=1)}decrement(t){this.#t-=1,t&&(this.#a-=1),!this.#o&&(this.#o=!0,qt(()=>{this.#o=!1,this.is_deferred()?It.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),Je(t,_t),xn(t);for(const t of this.#n)Je(t,fn),xn(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#i.add(t)}settled(){return(this.#l??=Gl()).promise}static ensure(){if(xe===null){const t=xe=new An;Qn.add(xe),Tr||qt(()=>{xe===t&&t.flush()})}return xe}apply(){if(!(!_n||!this.is_fork&&Qn.size===1)){ct=new Map(this.current);for(const t of Qn)if(t!==this)for(const[n,r]of t.previous)ct.has(n)||ct.set(n,r)}}}function lo(e){var t=Tr;Tr=!0;try{var n;for(e&&(xe!==null&&ma(),n=e());;){if(Bu(),It.length===0&&(xe?.flush(),It.length===0))return Oi=null,n;ma()}}finally{Tr=t}}function ma(){ga=!0;var e=null;try{for(var t=0;It.length>0;){var n=An.ensure();if(t++>1e3){var r,i;qu()}n.process(It),Tn.clear()}}finally{ga=!1,Oi=null}}function qu(){try{fu()}catch(e){Un(e,Oi)}}let nn=null;function el(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(an|At))===0&&gr(r)&&(nn=new Set,ur(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?To(r):r.fn=null),nn?.size>0)){Tn.clear();for(const i of nn){if((i.f&(an|At))!==0)continue;const a=[i];let l=i.parent;for(;l!==null;)nn.has(l)&&(nn.delete(l),a.push(l)),l=l.parent;for(let o=a.length-1;o>=0;o--){const s=a[o];(s.f&(an|At))===0&&ur(s)}}nn.clear()}}nn=null}}function oo(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;(a&ot)!==0?oo(i,t,n,r):(a&(Ta|cn))!==0&&(a&_t)===0&&so(i,t,r)&&(Je(i,_t),xn(i))}}function so(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(ar.call(t,i))return!0;if((i.f&ot)!==0&&so(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function xn(e){for(var t=Oi=e;t.parent!==null;){t=t.parent;var n=t.f;if(ga&&t===ye&&(n&cn)!==0&&(n&Aa)===0)return;if((n&(Yn|Jt))!==0){if((n&nt)===0)return;t.f^=nt}}It.push(t)}let Si=[];function ju(){try{lo(()=>{for(const e of Si)Xu(e)})}finally{Si=[]}}function Hu(e){var t=Dn(0),n=!0,r=void 0;return y(t),nc(()=>{if(n){var i=ct;try{ct=null,r=e()}finally{ct=i}return}Si.length===0&&qt(ju),Si.push(t)}),n=!1,r}function uo(e){if(!((e.f&Jt)!==0&&(e.f&nt)!==0)){Je(e,nt);for(var t=e.first;t!==null;)uo(t),t=t.next}}function Uu(e){let t=0,n=Dn(0),r;return()=>{La()&&(y(n),Wn(()=>(t===0&&(r=U(()=>e(()=>Rr(n)))),t+=1,()=>{qt(()=>{t-=1,t===0&&(r?.(),r=void 0,Rr(n))})})))}}var Vu=yn|dr|Di;function co(e,t,n){new Yu(e,t,n)}class Yu{parent;is_pending=!1;#e;#i=ve?_e:null;#t;#a;#l;#r=null;#n=null;#o=null;#s=null;#u=null;#c=0;#f=0;#h=!1;#v=!1;#p=new Set;#g=new Set;#d=null;#w=Uu(()=>(this.#d=Dn(this.#c),()=>{this.#d=null}));constructor(t,n,r){this.#e=t,this.#t=n,this.#a=r,this.parent=ye.b,this.is_pending=!!this.#t.pending,this.#l=pr(()=>{if(ye.b=this,ve){const a=this.#i;wn(),a.nodeType===On&&a.data===Ni?this.#S():(this.#x(),this.#f===0&&(this.is_pending=!1))}else{var i=this.#b();try{this.#r=Bt(()=>r(i))}catch(a){this.error(a)}this.#f>0?this.#_():this.is_pending=!1}return()=>{this.#u?.remove()}},Vu),ve&&(this.#e=_e)}#x(){try{this.#r=Bt(()=>this.#a(this.#e))}catch(t){this.error(t)}}#S(){const t=this.#t.pending;t&&(this.#n=Bt(()=>t(this.#e)),qt(()=>{var n=this.#b();this.#r=this.#m(()=>(An.ensure(),Bt(()=>this.#a(n)))),this.#f>0?this.#_():(qn(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#b(){var t=this.#e;return this.is_pending&&(this.#u=mt(),this.#e.before(this.#u),t=this.#u),t}defer_effect(t){ao(t,this.#p,this.#g)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#m(t){var n=ye,r=$e,i=Le;sn(this.#l),Yt(this.#l),or(this.#l.ctx);try{return t()}catch(a){return ro(a),null}finally{sn(n),Yt(r),or(i)}}#_(){const t=this.#t.pending;this.#r!==null&&(this.#s=document.createDocumentFragment(),this.#s.append(this.#u),No(this.#r,this.#s)),this.#n===null&&(this.#n=Bt(()=>t(this.#e)))}#y(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(t);return}if(this.#f+=t,this.#f===0){this.is_pending=!1;for(const n of this.#p)Je(n,_t),xn(n);for(const n of this.#g)Je(n,fn),xn(n);this.#p.clear(),this.#g.clear(),this.#n&&qn(this.#n,()=>{this.#n=null}),this.#s&&(this.#e.before(this.#s),this.#s=null)}}update_pending_count(t){this.#y(t),this.#c+=t,!(!this.#d||this.#h)&&(this.#h=!0,qt(()=>{this.#h=!1,this.#d&&sr(this.#d,this.#c)}))}get_effect_pending(){return this.#w(),y(this.#d)}error(t){var n=this.#t.onerror;let r=this.#t.failed;if(this.#v||!n&&!r)throw t;this.#r&&(xt(this.#r),this.#r=null),this.#n&&(xt(this.#n),this.#n=null),this.#o&&(xt(this.#o),this.#o=null),ve&&(rt(this.#i),Ee(),rt(Br()));var i=!1,a=!1;const l=()=>{if(i){Ou();return}i=!0,a&&mu(),An.ensure(),this.#c=0,this.#o!==null&&qn(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#m(()=>(this.#v=!1,Bt(()=>this.#a(this.#e)))),this.#f>0?this.#_():this.is_pending=!1};qt(()=>{try{a=!0,n?.(t,l),a=!1}catch(o){Un(o,this.#l&&this.#l.parent)}r&&(this.#o=this.#m(()=>{An.ensure(),this.#v=!0;try{return Bt(()=>{r(this.#e,()=>t,()=>l)})}catch(o){return Un(o,this.#l.parent),null}finally{this.#v=!1}}))})}}function fo(){return ye.b}function Wu(){ye===null&&cu();var e=ye.b;return e===null?0:e.get_effect_pending()}function Li(e,t,n,r){const i=Yr()?Gr:Fi;var a=e.filter(v=>!v.settled);if(n.length===0&&a.length===0){r(t.map(i));return}var l=xe,o=ye,s=ho(),u=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(v=>v.promise)):null;function d(v){s();try{r(v)}catch(f){(o.f&an)===0&&Un(f,o)}l?.deactivate(),ki()}if(n.length===0){u.then(()=>d(t.map(i)));return}function c(){s(),Promise.all(n.map(v=>zi(v))).then(v=>d([...t.map(i),...v])).catch(v=>Un(v,o))}u?u.then(c):c()}function vo(e,t){Li(e,[],[],t)}function ho(){var e=ye,t=$e,n=Le,r=xe;return function(a=!0){sn(e),Yt(t),or(n),a&&r?.activate()}}function ki(){sn(null),Yt(null),or(null)}function Wr(e){const t=ho();var n=fo(),r=xe,i=n.is_rendered();n.update_pending_count(1),r.increment(i);var a=ye,l=null;const o=c=>{l={error:c},rl(a)||Un(c,a)};var s=Promise.resolve(e[0]()).catch(o),u={promise:s,settled:!1},d=[u];s.finally(()=>{u.settled=!0});for(const c of e.slice(1)){s=s.then(()=>{if(l)throw l.error;if(rl(a))throw Fn;return t(),c()}).catch(o);const v={promise:s,settled:!1};d.push(v),s.finally(()=>{v.settled=!0,ki(),xe?.deactivate()})}return s.then(()=>Promise.resolve()).finally(()=>{n.update_pending_count(-1),r.decrement(i)}),d}function Gr(e){var t=ot|_t,n=$e!==null&&($e.f&ot)!==0?$e:null;return ye!==null&&(ye.f|=dr),{ctx:Le,deps:null,effects:null,equals:Jl,f:t,fn:e,reactions:null,rv:0,v:ut,wv:0,parent:n??ye,ac:null}}function zi(e,t,n){let r=ye;r===null&&lu();var i=r.b,a=void 0,l=Dn(ut),o=!$e,s=new Map;return lc(()=>{var u=Gl();a=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{d===xe&&d.committed&&d.deactivate(),ki()})}catch(f){u.reject(f),ki()}var d=xe;if(o){var c=i.is_rendered();i.update_pending_count(1),d.increment(c),s.get(d)?.reject(Fn),s.delete(d),s.set(d,u)}const v=(f,p=void 0)=>{if(d.activate(),p)p!==Fn&&(l.f|=Cn,sr(l,p));else{(l.f&Cn)!==0&&(l.f^=Cn),sr(l,f);for(const[x,m]of s){if(s.delete(x),x===d)break;m.reject(Fn)}}o&&(i.update_pending_count(-1),d.decrement(c))};u.promise.then(v,f=>v(null,f||"unknown"))}),Mi(()=>{for(const u of s.values())u.reject(Fn)}),new Promise(u=>{function d(c){function v(){c===a?u(l):d(a)}c.then(v,v)}d(a)})}function Oe(e){const t=Gr(e);return _n||Oo(t),t}function Fi(e){const t=Gr(e);return t.equals=to,t}function po(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)xt(t[n])}}function Gu(e){for(var t=e.parent;t!==null;){if((t.f&ot)===0)return(t.f&an)===0?t:null;t=t.parent}return null}function Na(e){var t,n=ye;sn(Gu(e));try{e.f&=~Hn,po(e),t=Bo(e)}finally{sn(n)}return t}function go(e){var t=Na(e);if(!e.equals(t)&&(e.wv=zo(),(!xe?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){Je(e,nt);return}Nn||(ct!==null?(La()||xe?.is_fork)&&ct.set(e,t):Ra(e))}let _a=new Set;const Tn=new Map;let mo=!1;function Dn(e,t){var n={f:0,v:e,reactions:null,equals:Jl,rv:0,wv:0};return n}function Ae(e,t){const n=Dn(e);return Oo(n),n}function Dr(e,t=!1,n=!0){const r=Dn(e);return t||(r.equals=to),vr&&n&&Le!==null&&Le.l!==null&&(Le.l.s??=[]).push(r),r}function oe(e,t,n=!1){$e!==null&&(!Xt||($e.f&ha)!==0)&&Yr()&&($e.f&(ot|cn|Ta|ha))!==0&&(jt===null||!ar.call(jt,e))&&gu();let r=n?In(t):t;return sr(e,r)}function sr(e,t){if(!e.equals(t)){var n=e.v;Nn?Tn.set(e,t):Tn.set(e,n),e.v=t;var r=An.ensure();if(r.capture(e,n),(e.f&ot)!==0){const i=e;(e.f&_t)!==0&&Na(i),Ra(i)}e.wv=zo(),_o(e,_t),Yr()&&ye!==null&&(ye.f&nt)!==0&&(ye.f&(Jt|Yn))===0&&(Ft===null?uc([e]):Ft.push(e)),!r.is_fork&&_a.size>0&&!mo&&Qu()}return t}function Qu(){mo=!1;for(const e of _a)(e.f&nt)!==0&&Je(e,fn),gr(e)&&ur(e);_a.clear()}function Xu(e,t=1){var n=y(e),r=t===1?n++:n--;return oe(e,n),r}function Rr(e){oe(e,e.v+1)}function _o(e,t){var n=e.reactions;if(n!==null)for(var r=Yr(),i=n.length,a=0;a<i;a++){var l=n[a],o=l.f;if(!(!r&&l===ye)){var s=(o&_t)===0;if(s&&Je(l,t),(o&ot)!==0){var u=l;ct?.delete(u),(o&Hn)===0&&(o&Mt&&(l.f|=Hn),_o(u,fn))}else s&&((o&cn)!==0&&nn!==null&&nn.add(l),xn(l))}}}function In(e){if(typeof e!="object"||e===null||ln in e)return e;const t=Ca(e);if(t!==nu&&t!==ru)return e;var n=new Map,r=jr(e),i=Ae(0),a=jn,l=o=>{if(jn===a)return o();var s=$e,u=jn;Yt(null),al(a);var d=o();return Yt(s),al(u),d};return r&&n.set("length",Ae(e.length)),new Proxy(e,{defineProperty(o,s,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&hu();var d=n.get(s);return d===void 0?d=l(()=>{var c=Ae(u.value);return n.set(s,c),c}):oe(d,u.value,!0),!0},deleteProperty(o,s){var u=n.get(s);if(u===void 0){if(s in o){const d=l(()=>Ae(ut));n.set(s,d),Rr(i)}}else oe(u,ut),Rr(i);return!0},get(o,s,u){if(s===ln)return e;var d=n.get(s),c=s in o;if(d===void 0&&(!c||Pn(o,s)?.writable)&&(d=l(()=>{var f=In(c?o[s]:ut),p=Ae(f);return p}),n.set(s,d)),d!==void 0){var v=y(d);return v===ut?void 0:v}return Reflect.get(o,s,u)},getOwnPropertyDescriptor(o,s){var u=Reflect.getOwnPropertyDescriptor(o,s);if(u&&"value"in u){var d=n.get(s);d&&(u.value=y(d))}else if(u===void 0){var c=n.get(s),v=c?.v;if(c!==void 0&&v!==ut)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(o,s){if(s===ln)return!0;var u=n.get(s),d=u!==void 0&&u.v!==ut||Reflect.has(o,s);if(u!==void 0||ye!==null&&(!d||Pn(o,s)?.writable)){u===void 0&&(u=l(()=>{var v=d?In(o[s]):ut,f=Ae(v);return f}),n.set(s,u));var c=y(u);if(c===ut)return!1}return d},set(o,s,u,d){var c=n.get(s),v=s in o;if(r&&s==="length")for(var f=u;f<c.v;f+=1){var p=n.get(f+"");p!==void 0?oe(p,ut):f in o&&(p=l(()=>Ae(ut)),n.set(f+"",p))}if(c===void 0)(!v||Pn(o,s)?.writable)&&(c=l(()=>Ae(void 0)),oe(c,In(u)),n.set(s,c));else{v=c.v!==ut;var x=l(()=>In(u));oe(c,x)}var m=Reflect.getOwnPropertyDescriptor(o,s);if(m?.set&&m.set.call(d,u),!v){if(r&&typeof s=="string"){var _=n.get("length"),P=Number(s);Number.isInteger(P)&&P>=_.v&&oe(_,P+1)}Rr(i)}return!0},ownKeys(o){y(i);var s=Reflect.ownKeys(o).filter(c=>{var v=n.get(c);return v===void 0||v.v!==ut});for(var[u,d]of n)d.v!==ut&&!(u in o)&&s.push(u);return s},setPrototypeOf(){pu()}})}function tl(e){try{if(e!==null&&typeof e=="object"&&ln in e)return e[ln]}catch{}return e}function Ku(e,t){return Object.is(tl(e),tl(t))}var Rn,bo,yo,wo,xo;function Zu(){if(Rn===void 0){Rn=window,bo=document,yo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;wo=Pn(t,"firstChild").get,xo=Pn(t,"nextSibling").get,Ja(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ja(n)&&(n.__t=void 0)}}function mt(e=""){return document.createTextNode(e)}function gt(e){return wo.call(e)}function Vt(e){return xo.call(e)}function L(e,t){if(!ve)return gt(e);var n=gt(_e);if(n===null)n=_e.appendChild(mt());else if(t&&n.nodeType!==Hr){var r=mt();return n?.before(r),rt(r),r}return t&&Bi(n),rt(n),n}function Q(e,t=!1){if(!ve){var n=gt(e);return n instanceof Comment&&n.data===""?Vt(n):n}if(t){if(_e?.nodeType!==Hr){var r=mt();return _e?.before(r),rt(r),r}Bi(_e)}return _e}function C(e,t=1,n=!1){let r=ve?_e:e;for(var i;t--;)i=r,r=Vt(r);if(!ve)return r;if(n){if(r?.nodeType!==Hr){var a=mt();return r===null?i?.after(a):r.before(a),rt(a),a}Bi(r)}return rt(r),r}function So(e){e.textContent=""}function ko(){if(!_n||nn!==null)return!1;var e=ye.f;return(e&fr)!==0}function Bi(e){if(e.nodeValue.length<65536)return;let t=e.nextSibling;for(;t!==null&&t.nodeType===Hr;)t.remove(),e.nodeValue+=t.nodeValue,t=e.nextSibling}function Ju(e){ve&&gt(e)!==null&&So(e)}let nl=!1;function Eo(){nl||(nl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function hr(e){var t=$e,n=ye;Yt(null),sn(null);try{return e()}finally{Yt(t),sn(n)}}function Oa(e,t,n,r=n){e.addEventListener(t,()=>hr(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Eo()}function $o(e){ye===null&&($e===null&&uu(),su()),Nn&&ou()}function ec(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Wt(e,t,n){var r=ye;r!==null&&(r.f&At)!==0&&(e|=At);var i={ctx:Le,deps:null,nodes:null,f:e|_t|Mt,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{ur(i),i.f|=fr}catch(o){throw xt(i),o}else t!==null&&xn(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&dr)===0&&(a=a.first,(e&cn)!==0&&(e&yn)!==0&&a!==null&&(a.f|=yn)),a!==null&&(a.parent=r,r!==null&&ec(a,r),$e!==null&&($e.f&ot)!==0&&(e&Yn)===0)){var l=$e;(l.effects??=[]).push(a)}return i}function La(){return $e!==null&&!Xt}function Mi(e){const t=Wt(lr,null,!1);return Je(t,nt),t.teardown=e,t}function on(e){$o();var t=ye.f,n=!$e&&(t&Jt)!==0&&(t&fr)===0;if(n){var r=Le;(r.e??=[]).push(e)}else return Io(e)}function Io(e){return Wt(Fr|Ql,e,!1)}function tc(e){return $o(),Wt(lr|Ql,e,!0)}function nc(e){return Wt(ha,e,!0)}function rc(e){An.ensure();const t=Wt(Yn|dr,e,!0);return(n={})=>new Promise(r=>{n.outro?qn(t,()=>{xt(t),r(void 0)}):(xt(t),r(void 0))})}function qi(e){return Wt(Fr,e,!1)}function ic(e,t){var n=Le,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Wn(()=>{e(),!r.ran&&(r.ran=!0,U(t))})}function ac(){var e=Le;Wn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&nt)!==0&&n.deps!==null&&Je(n,fn),gr(n)&&ur(n),t.ran=!1}})}function lc(e){return Wt(Ta|dr,e,!0)}function Wn(e,t=0){return Wt(lr|t,e,!0)}function de(e,t=[],n=[],r=[]){Li(r,t,n,i=>{Wt(lr,()=>e(...i.map(y)),!0)})}function oc(e,t=[],n=[],r=[]){var i=xe,a=n.length>0||r.length>0;a&&i.increment(!0),Li(r,t,n,l=>{Wt(Fr,()=>e(...l.map(y)),!1),a&&i.decrement(!0)})}function pr(e,t=0){var n=Wt(cn|t,e,!0);return n}function Bt(e){return Wt(Jt|dr,e,!0)}function Po(e){var t=e.teardown;if(t!==null){const n=Nn,r=$e;il(!0),Yt(null);try{t.call(null)}finally{il(n),Yt(r)}}}function Co(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&hr(()=>{i.abort(Fn)});var r=n.next;(n.f&Yn)!==0?n.parent=null:xt(n,t),n=r}}function sc(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Jt)===0&&xt(t),t=n}}function xt(e,t=!0){var n=!1;(t||(e.f&Aa)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ao(e.nodes.start,e.nodes.end),n=!0),Co(e,t&&!n),Ei(e,0),Je(e,an);var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)a.stop();Po(e);var i=e.parent;i!==null&&i.first!==null&&To(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ao(e,t){for(;e!==null;){var n=e===t?null:Vt(e);e.remove(),e=n}}function To(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function qn(e,t,n=!0){var r=[];Do(e,r,!0);var i=()=>{n&&xt(e),t&&t()},a=r.length;if(a>0){var l=()=>--a||i();for(var o of r)o.out(l)}else i()}function Do(e,t,n){if((e.f&At)===0){e.f^=At;var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)(o.is_global||n)&&t.push(o);for(var i=e.first;i!==null;){var a=i.next,l=(i.f&yn)!==0||(i.f&Jt)!==0&&(e.f&cn)!==0;Do(i,t,l?n:!1),i=a}}}function za(e){Ro(e,!0)}function Ro(e,t){if((e.f&At)!==0){e.f^=At,(e.f&nt)===0&&(Je(e,_t),xn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&yn)!==0||(n.f&Jt)!==0;Ro(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(const l of a)(l.is_global||t)&&l.in()}}function rl(e=ye){return(e.f&an)!==0}function No(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Vt(n);t.append(n),n=i}}let _i=!1,Nn=!1;function il(e){Nn=e}let $e=null,Xt=!1;function Yt(e){$e=e}let ye=null;function sn(e){ye=e}let jt=null;function Oo(e){$e!==null&&(!_n||($e.f&ot)!==0)&&(jt===null?jt=[e]:jt.push(e))}let wt=null,$t=0,Ft=null;function uc(e){Ft=e}let Lo=1,Mn=0,jn=Mn;function al(e){jn=e}function zo(){return++Lo}function gr(e){var t=e.f;if((t&_t)!==0)return!0;if(t&ot&&(e.f&=~Hn),(t&fn)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var a=n[i];if(gr(a)&&go(a),a.wv>e.wv)return!0}(t&Mt)!==0&&ct===null&&Je(e,nt)}return!1}function Fo(e,t,n=!0){var r=e.reactions;if(r!==null&&!(!_n&&jt!==null&&ar.call(jt,e)))for(var i=0;i<r.length;i++){var a=r[i];(a.f&ot)!==0?Fo(a,t,!1):t===a&&(n?Je(a,_t):(a.f&nt)!==0&&Je(a,fn),xn(a))}}function Bo(e){var t=wt,n=$t,r=Ft,i=$e,a=jt,l=Le,o=Xt,s=jn,u=e.f;wt=null,$t=0,Ft=null,$e=(u&(Jt|Yn))===0?e:null,jt=null,or(e.ctx),Xt=!1,jn=++Mn,e.ac!==null&&(hr(()=>{e.ac.abort(Fn)}),e.ac=null);try{e.f|=pa;var d=e.fn,c=d(),v=e.deps,f=xe?.is_fork;if(wt!==null){var p;if(f||Ei(e,$t),v!==null&&$t>0)for(v.length=$t+wt.length,p=0;p<wt.length;p++)v[$t+p]=wt[p];else e.deps=v=wt;if(La()&&(e.f&Mt)!==0)for(p=$t;p<v.length;p++)(v[p].reactions??=[]).push(e)}else!f&&v!==null&&$t<v.length&&(Ei(e,$t),v.length=$t);if(Yr()&&Ft!==null&&!Xt&&v!==null&&(e.f&(ot|fn|_t))===0)for(p=0;p<Ft.length;p++)Fo(Ft[p],e);if(i!==null&&i!==e){if(Mn++,i.deps!==null)for(let x=0;x<n;x+=1)i.deps[x].rv=Mn;if(t!==null)for(const x of t)x.rv=Mn;Ft!==null&&(r===null?r=Ft:r.push(...Ft))}return(e.f&Cn)!==0&&(e.f^=Cn),c}catch(x){return ro(x)}finally{e.f^=pa,wt=t,$t=n,Ft=r,$e=i,jt=a,or(l),Xt=o,jn=s}}function cc(e,t){let n=t.reactions;if(n!==null){var r=tu.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&ot)!==0&&(wt===null||!ar.call(wt,t))){var a=t;(a.f&Mt)!==0&&(a.f^=Mt,a.f&=~Hn),Ra(a),po(a),Ei(a,0)}}function Ei(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)cc(e,n[r])}function ur(e){var t=e.f;if((t&an)===0){Je(e,nt);var n=ye,r=_i;ye=e,_i=!0;try{(t&(cn|va))!==0?sc(e):Co(e),Po(e);var i=Bo(e);e.teardown=typeof i=="function"?i:null,e.wv=Lo;var a;da&&Lu&&(e.f&_t)!==0&&e.deps}finally{_i=r,ye=n}}}async function ji(){if(_n)return new Promise(e=>{requestAnimationFrame(()=>e()),setTimeout(()=>e())});await Promise.resolve(),lo()}function y(e){var t=e.f,n=(t&ot)!==0;if($e!==null&&!Xt){var r=ye!==null&&(ye.f&an)!==0;if(!r&&(jt===null||!ar.call(jt,e))){var i=$e.deps;if(($e.f&pa)!==0)e.rv<Mn&&(e.rv=Mn,wt===null&&i!==null&&i[$t]===e?$t++:wt===null?wt=[e]:wt.push(e));else{($e.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[$e]:ar.call(a,$e)||a.push($e)}}}if(Nn&&Tn.has(e))return Tn.get(e);if(n){var l=e;if(Nn){var o=l.v;return((l.f&nt)===0&&l.reactions!==null||qo(l))&&(o=Na(l)),Tn.set(l,o),o}var s=(l.f&Mt)===0&&!Xt&&$e!==null&&(_i||($e.f&Mt)!==0),u=l.deps===null;gr(l)&&(s&&(l.f|=Mt),go(l)),s&&!u&&Mo(l)}if(ct?.has(e))return ct.get(e);if((e.f&Cn)!==0)throw e.v;return e.v}function Mo(e){if(e.deps!==null){e.f|=Mt;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&ot)!==0&&(t.f&Mt)===0&&Mo(t)}}function qo(e){if(e.v===ut)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Tn.has(t)||(t.f&ot)!==0&&qo(t))return!0;return!1}function U(e){var t=Xt;try{return Xt=!0,e()}finally{Xt=t}}function jo(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ln in e)ba(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ln in n&&ba(n)}}}function ba(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ba(e[r],t)}catch{}const n=Ca(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Wl(n);for(let i in r){const a=r[i].get;if(a)try{a.call(e)}catch{}}}}}const fc=["touchstart","touchmove"];function dc(e){return fc.includes(e)}const Ho=new Set,ya=new Set;function vc(e,t,n,r={}){function i(a){if(r.capture||Cr.call(t,a),!a.cancelBubble)return hr(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?qt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Kt(e,t,n,r,i){var a={capture:r,passive:i},l=vc(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Mi(()=>{t.removeEventListener(e,l,a)})}function Nt(e){for(var t=0;t<e.length;t++)Ho.add(e[t]);for(var n of ya)n(e)}let ll=null;function Cr(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;ll=e;var l=0,o=ll===e&&e.__root;if(o){var s=i.indexOf(o);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;s<=u&&(l=s)}if(a=i[l]||e.target,a!==t){Yl(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=$e,c=ye;Yt(null),sn(null);try{for(var v,f=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var x=a["__"+r];x!=null&&(!a.disabled||e.target===a)&&x.call(a,e)}catch(m){v?f.push(m):v=m}if(e.cancelBubble||p===t||p===null)break;a=p}if(v){for(let m of f)queueMicrotask(()=>{throw m});throw v}}finally{e.__root=t,delete e.currentTarget,Yt(d),sn(c)}}}function Fa(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ht(e,t){var n=ye;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function B(e,t){var n=(t&Au)!==0,r=(t&Tu)!==0,i,a=!e.startsWith("<!>");return()=>{if(ve)return Ht(_e,null),_e;i===void 0&&(i=Fa(a?e:"<!>"+e),n||(i=gt(i)));var l=r||yo?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=gt(l),s=l.lastChild;Ht(o,s)}else Ht(l,l);return l}}function hc(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(ve)return Ht(_e,null),_e;if(!a){var l=Fa(i),o=gt(l);a=gt(o)}var s=a.cloneNode(!0);return Ht(s,s),s}}function pc(e,t){return hc(e,t,"svg")}function Ze(e=""){if(!ve){var t=mt(e+"");return Ht(t,t),t}var n=_e;return n.nodeType!==Hr?(n.before(n=mt()),rt(n)):Bi(n),Ht(n,n),n}function Ut(){if(ve)return Ht(_e,null),_e;var e=document.createDocumentFragment(),t=document.createComment(""),n=mt();return e.append(t,n),Ht(t,n),e}function T(e,t){if(ve){var n=ye;((n.f&fr)===0||n.nodes.end===null)&&(n.nodes.end=_e),wn();return}e!==null&&e.before(t)}function gc(){if(ve&&_e&&_e.nodeType===On&&_e.textContent?.startsWith("$")){const e=_e.textContent.substring(1);return wn(),e}return(window.__svelte??={}).uid??=1,`c${window.__svelte.uid++}`}let wa=!0;function Be(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function mc(e,t){return _c(e,t)}const Xn=new Map;function _c(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:l=!0}){Zu();var o=new Set,s=c=>{for(var v=0;v<c.length;v++){var f=c[v];if(!o.has(f)){o.add(f);var p=dc(f);t.addEventListener(f,Cr,{passive:p});var x=Xn.get(f);x===void 0?(document.addEventListener(f,Cr,{passive:p}),Xn.set(f,1)):Xn.set(f,x+1)}}};s(Ti(Ho)),ya.add(s);var u=void 0,d=rc(()=>{var c=n??t.appendChild(mt());return co(c,{pending:()=>{}},v=>{if(a){Se({});var f=Le;f.c=a}if(i&&(r.$$events=i),ve&&Ht(v,null),wa=l,u=e(v,r)||{},wa=!0,ve&&(ye.nodes.end=_e,_e===null||_e.nodeType!==On||_e.data!==Da))throw Vr(),Ur;a&&ke()}),()=>{for(var v of o){t.removeEventListener(v,Cr);var f=Xn.get(v);--f===0?(document.removeEventListener(v,Cr),Xn.delete(v)):Xn.set(v,f)}ya.delete(s),c!==n&&c.parentNode?.removeChild(c)}});return bc.set(u,d),u}let bc=new WeakMap;function lt(e,t=[],n=[],r){var i=ve;if(i&&wn(),n.length===0&&t.every(d=>d.settled)){r(e);return}var a=fo(),l=xe,o=a.is_rendered();if(a.update_pending_count(1),l.increment(o),i){var s=_e,u=Br(!1);rt(u)}Li(t,[],n,d=>{i&&(mn(!0),rt(s));try{for(const c of d)y(c);r(e,...d)}finally{i&&mn(!1),a.update_pending_count(-1),l.decrement(o)}})}class Ba{anchor;#e=new Map;#i=new Map;#t=new Map;#a=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#r=()=>{var t=xe;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#i.get(n);if(r)za(r),this.#a.delete(n);else{var i=this.#t.get(n);i&&(this.#i.set(n,i.effect),this.#t.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[a,l]of this.#e){if(this.#e.delete(a),a===t)break;const o=this.#t.get(l);o&&(xt(o.effect),this.#t.delete(l))}for(const[a,l]of this.#i){if(a===n||this.#a.has(a))continue;const o=()=>{if(Array.from(this.#e.values()).includes(a)){var u=document.createDocumentFragment();No(l,u),u.append(mt()),this.#t.set(a,{effect:l,fragment:u})}else xt(l);this.#a.delete(a),this.#i.delete(a)};this.#l||!r?(this.#a.add(a),qn(l,o,!1)):o()}}};#n=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#t)n.includes(r)||(xt(i.effect),this.#t.delete(r))};ensure(t,n){var r=xe,i=ko();if(n&&!this.#i.has(t)&&!this.#t.has(t))if(i){var a=document.createDocumentFragment(),l=mt();a.append(l),this.#t.set(t,{effect:Bt(()=>n(l)),fragment:a})}else this.#i.set(t,Bt(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[o,s]of this.#i)o===t?r.skipped_effects.delete(s):r.skipped_effects.add(s);for(const[o,s]of this.#t)o===t?r.skipped_effects.delete(s.effect):r.skipped_effects.add(s.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else ve&&(this.anchor=_e),this.#r()}}function ze(e,t,n=!1){ve&&wn();var r=new Ba(e),i=n?yn:0;function a(l,o){if(ve){const u=Zl(e)===Ni;if(l===u){var s=Br();rt(s),r.anchor=s,mn(!1),r.ensure(l,o),mn(!0);return}}r.ensure(l,o)}pr(()=>{var l=!1;t((o,s=!0)=>{l=!0,a(s,o)}),l||a(!1,null)},i)}function ol(e,t){ve&&rt(gt(e)),Wn(()=>{var n=t();for(var r in n){var i=n[r];i?e.style.setProperty(r,i):e.style.removeProperty(r)}})}function Zt(e,t){return t}function yc(e,t,n){for(var r=[],i=t.length,a,l=t.length,o=0;o<i;o++){let c=t[o];qn(c,()=>{if(a){if(a.pending.delete(c),a.done.add(c),a.pending.size===0){var v=e.outrogroups;xa(Ti(a.done)),v.delete(a),v.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var s=r.length===0&&n!==null;if(s){var u=n,d=u.parentNode;So(d),d.append(u),e.items.clear()}xa(t,!s)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function xa(e,t=!0){for(var n=0;n<e.length;n++)xt(e[n],t)}var sl;function Tt(e,t,n,r,i,a=null){var l=e,o=new Map,s=(t&Kl)!==0;if(s){var u=e;l=ve?rt(gt(u)):u.appendChild(mt())}ve&&wn();var d=null,c=Fi(()=>{var _=n();return jr(_)?_:_==null?[]:Ti(_)}),v,f=!0;function p(){m.fallback=d,wc(m,v,l,t,r),d!==null&&(v.length===0?(d.f&pn)===0?za(d):(d.f^=pn,Ar(d,null,l)):qn(d,()=>{d=null}))}var x=pr(()=>{v=y(c);var _=v.length;let P=!1;if(ve){var R=Zl(l)===Ni;R!==(_===0)&&(l=Br(),rt(l),mn(!1),P=!0)}for(var F=new Set,k=xe,b=ko(),I=0;I<_;I+=1){ve&&_e.nodeType===On&&_e.data===Da&&(l=_e,P=!0,mn(!1));var z=v[I],M=r(z,I),E=f?null:o.get(M);E?(E.v&&sr(E.v,z),E.i&&sr(E.i,I),b&&k.skipped_effects.delete(E.e)):(E=xc(o,f?l:sl??=mt(),z,M,I,i,t,n),f||(E.e.f|=pn),o.set(M,E)),F.add(M)}if(_===0&&a&&!d&&(f?d=Bt(()=>a(l)):(d=Bt(()=>a(sl??=mt())),d.f|=pn)),ve&&_>0&&rt(Br()),!f)if(b){for(const[q,j]of o)F.has(q)||k.skipped_effects.add(j.e);k.oncommit(p),k.ondiscard(()=>{})}else p();P&&mn(!0),y(c)}),m={effect:x,items:o,outrogroups:null,fallback:d};f=!1,ve&&(l=_e)}function $r(e){for(;e!==null&&(e.f&Jt)===0;)e=e.next;return e}function wc(e,t,n,r,i){var a=(r&yu)!==0,l=t.length,o=e.items,s=$r(e.effect.first),u,d=null,c,v=[],f=[],p,x,m,_;if(a)for(_=0;_<l;_+=1)p=t[_],x=i(p,_),m=o.get(x).e,(m.f&pn)===0&&(m.nodes?.a?.measure(),(c??=new Set).add(m));for(_=0;_<l;_+=1){if(p=t[_],x=i(p,_),m=o.get(x).e,e.outrogroups!==null)for(const E of e.outrogroups)E.pending.delete(m),E.done.delete(m);if((m.f&pn)!==0)if(m.f^=pn,m===s)Ar(m,null,n);else{var P=d?d.next:s;m===e.effect.last&&(e.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),$n(e,d,m),$n(e,m,P),Ar(m,P,n),d=m,v=[],f=[],s=$r(d.next);continue}if((m.f&At)!==0&&(za(m),a&&(m.nodes?.a?.unfix(),(c??=new Set).delete(m))),m!==s){if(u!==void 0&&u.has(m)){if(v.length<f.length){var R=f[0],F;d=R.prev;var k=v[0],b=v[v.length-1];for(F=0;F<v.length;F+=1)Ar(v[F],R,n);for(F=0;F<f.length;F+=1)u.delete(f[F]);$n(e,k.prev,b.next),$n(e,d,k),$n(e,b,R),s=R,d=b,_-=1,v=[],f=[]}else u.delete(m),Ar(m,s,n),$n(e,m.prev,m.next),$n(e,m,d===null?e.effect.first:d.next),$n(e,d,m),d=m;continue}for(v=[],f=[];s!==null&&s!==m;)(u??=new Set).add(s),f.push(s),s=$r(s.next);if(s===null)continue}(m.f&pn)===0&&v.push(m),d=m,s=$r(m.next)}if(e.outrogroups!==null){for(const E of e.outrogroups)E.pending.size===0&&(xa(Ti(E.done)),e.outrogroups?.delete(E));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||u!==void 0){var I=[];if(u!==void 0)for(m of u)(m.f&At)===0&&I.push(m);for(;s!==null;)(s.f&At)===0&&s!==e.fallback&&I.push(s),s=$r(s.next);var z=I.length;if(z>0){var M=(r&Kl)!==0&&l===0?n:null;if(a){for(_=0;_<z;_+=1)I[_].nodes?.a?.measure();for(_=0;_<z;_+=1)I[_].nodes?.a?.fix()}yc(e,I,M)}}a&&qt(()=>{if(c!==void 0)for(m of c)m.nodes?.a?.apply()})}function xc(e,t,n,r,i,a,l,o){var s=(l&_u)!==0?(l&wu)===0?Dr(n,!1,!1):Dn(n):null,u=(l&bu)!==0?Dn(i):null;return{v:s,i:u,e:Bt(()=>(a(t,s??n,u??i,o),()=>{e.delete(r)}))}}function Ar(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&(t.f&pn)===0?t.nodes.start:n;r!==null;){var l=Vt(r);if(a.before(r),r===i)return;r=l}}function $n(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Sc(e,t,n=!1,r=!1,i=!1){var a=e,l="";de(()=>{var o=ye;if(l===(l=t()??"")){ve&&wn();return}if(o.nodes!==null&&(Ao(o.nodes.start,o.nodes.end),o.nodes=null),l!==""){if(ve){_e.data;for(var s=wn(),u=s;s!==null&&(s.nodeType!==On||s.data!=="");)u=s,s=Vt(s);if(s===null)throw Vr(),Ur;Ht(_e,u),a=rt(s);return}var d=l+"";n?d=`<svg>${d}</svg>`:r&&(d=`<math>${d}</math>`);var c=Fa(d);if((n||r)&&(c=gt(c)),Ht(gt(c),c.lastChild),n||r)for(;gt(c);)a.before(gt(c));else a.before(c)}})}function pt(e,t,...n){var r=new Ba(e);pr(()=>{const i=t()??null;r.ensure(i,i&&(a=>i(a,...n)))},yn)}function ul(e,t,n){ve&&wn();var r=new Ba(e);pr(()=>{var i=t()??null;r.ensure(i,i&&(a=>n(a,i)))},yn)}const kc=()=>performance.now(),vn={tick:e=>requestAnimationFrame(e),now:()=>kc(),tasks:new Set};function Uo(){const e=vn.now();vn.tasks.forEach(t=>{t.c(e)||(vn.tasks.delete(t),t.f())}),vn.tasks.size!==0&&vn.tick(Uo)}function Ec(e){let t;return vn.tasks.size===0&&vn.tick(Uo),{promise:new Promise(n=>{vn.tasks.add(t={c:e,f:n})}),abort(){vn.tasks.delete(t)}}}function $i(e,t){hr(()=>{e.dispatchEvent(new CustomEvent(t))})}function $c(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function cl(e){const t={},n=e.split(";");for(const r of n){const[i,a]=r.split(":");if(!i||a===void 0)break;const l=$c(i.trim());t[l]=a.trim()}return t}const Ic=e=>e;function fl(e,t,n,r){var i=(e&Iu)!==0,a=(e&Pu)!==0,l=i&&a,o=(e&Cu)!==0,s=l?"both":i?"in":"out",u,d=t.inert,c=t.style.overflow,v,f;function p(){return hr(()=>u??=n()(t,r?.()??{},{direction:s}))}var x={is_global:o,in(){if(t.inert=d,!i){f?.abort(),f?.reset?.();return}a||v?.abort(),v=Sa(t,p(),f,1,()=>{$i(t,"introend"),v?.abort(),v=u=void 0,t.style.overflow=c})},out(R){if(!a){R?.(),u=void 0;return}t.inert=!0,f=Sa(t,p(),v,0,()=>{$i(t,"outroend"),R?.()})},stop:()=>{v?.abort(),f?.abort()}},m=ye;if((m.nodes.t??=[]).push(x),i&&wa){var _=o;if(!_){for(var P=m.parent;P&&(P.f&yn)!==0;)for(;(P=P.parent)&&(P.f&cn)===0;);_=!P||(P.f&fr)!==0}_&&qi(()=>{U(()=>x.in())})}}function Sa(e,t,n,r,i){var a=r===1;if(Jn(t)){var l,o=!1;return qt(()=>{if(!o){var m=t({direction:a?"in":"out"});l=Sa(e,m,n,r,i)}}),{abort:()=>{o=!0,l?.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(n?.deactivate(),!t?.duration&&!t?.delay)return $i(e,a?"introstart":"outrostart"),i(),{abort:Re,deactivate:Re,reset:Re,t:()=>r};const{delay:s=0,css:u,tick:d,easing:c=Ic}=t;var v=[];if(a&&n===void 0&&(d&&d(0,1),u)){var f=cl(u(0,1));v.push(f,f)}var p=()=>1-r,x=e.animate(v,{duration:s,fill:"forwards"});return x.onfinish=()=>{x.cancel(),$i(e,a?"introstart":"outrostart");var m=n?.t()??1-r;n?.abort();var _=r-m,P=t.duration*Math.abs(_),R=[];if(P>0){var F=!1;if(u)for(var k=Math.ceil(P/16.666666666666668),b=0;b<=k;b+=1){var I=m+_*c(b/k),z=cl(u(I,1-I));R.push(z),F||=z.overflow==="hidden"}F&&(e.style.overflow="hidden"),p=()=>{var M=x.currentTime;return m+_*c(M/P)},d&&Ec(()=>{if(x.playState!=="running")return!1;var M=p();return d(M,1-M),!0})}x=e.animate(R,{duration:P,fill:"forwards"}),x.onfinish=()=>{p=()=>r,d?.(r,1-r),i()}},{abort:()=>{x&&(x.cancel(),x.effect=null,x.onfinish=Re)},deactivate:()=>{i=Re},reset:()=>{r===0&&d?.(1,0)},t:()=>p()}}function Pc(e,t){let n=null,r=ve;var i;if(ve){n=_e;for(var a=gt(document.head);a!==null&&(a.nodeType!==On||a.data!==e);)a=Vt(a);if(a===null)mn(!1);else{var l=Vt(a);a.remove(),rt(l)}}ve||(i=document.head.appendChild(mt()));try{pr(()=>t(i),Aa)}finally{r&&(mn(!0),rt(n))}}function Mr(e,t,n){qi(()=>{var r=U(()=>t(e,n?.())||{});if(r?.destroy)return()=>r.destroy()})}const dl=[...` 	
\r\fÂ \v\uFEFF`];function Cc(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var a=i.length,l=0;(l=r.indexOf(i,l))>=0;){var o=l+a;(l===0||dl.includes(r[l-1]))&&(o===r.length||dl.includes(r[o]))?r=(l===0?"":r.substring(0,l))+r.substring(o+1):l=o}}return r===""?null:r}function Ac(e,t){return e==null?null:String(e)}function Dt(e,t,n,r,i,a){var l=e.__className;if(ve||l!==n||l===void 0){var o=Cc(n,r,a);(!ve||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=n}else if(a&&i!==a)for(var s in a){var u=!!a[s];(i==null||u!==!!i[s])&&e.classList.toggle(s,u)}return a}function Tc(e,t,n,r){var i=e.__style;if(ve||i!==t){var a=Ac(t);(!ve||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=t}return r}function Vo(e,t,n=!1){if(e.multiple){if(t==null)return;if(!jr(t))return Nu();for(var r of e.options)r.selected=t.includes(Nr(r));return}for(r of e.options){var i=Nr(r);if(Ku(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Dc(e){var t=new MutationObserver(()=>{Vo(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Mi(()=>{t.disconnect()})}function Rc(e,t,n=t){var r=new WeakSet,i=!0;Oa(e,"change",a=>{var l=a?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(l),Nr);else{var s=e.querySelector(l)??e.querySelector("option:not([disabled])");o=s&&Nr(s)}n(o),xe!==null&&r.add(xe)}),qi(()=>{var a=t();if(e===document.activeElement){var l=xi??xe;if(r.has(l))return}if(Vo(e,a,i),i&&a===void 0){var o=e.querySelector(":checked");o!==null&&(a=Nr(o),n(a))}e.__value=a,i=!1}),Dc(e)}function Nr(e){return"__value"in e?e.__value:e.value}const Nc=Symbol("is custom element"),Oc=Symbol("is html");function rr(e){if(ve){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Rt(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;Rt(e,"checked",null),e.checked=i}}};e.__on_r=n,qt(n),Eo()}}function Rt(e,t,n,r){var i=Lc(e);ve&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[au]=n),n==null?e.removeAttribute(t):typeof n!="string"&&zc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Lc(e){return e.__attributes??={[Nc]:e.nodeName.includes("-"),[Oc]:e.namespaceURI===Ru}}var vl=new Map;function zc(e){var t=e.getAttribute("is")||e.nodeName,n=vl.get(t);if(n)return n;vl.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){r=Wl(i);for(var l in r)r[l].set&&n.push(l);i=Ca(i)}return n}function ir(e,t,n=t){var r=new WeakSet;Oa(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=ra(e)?ia(a):a,n(a),xe!==null&&r.add(xe),await ji(),a!==(a=t())){var l=e.selectionStart,o=e.selectionEnd,s=e.value.length;if(e.value=a??"",o!==null){var u=e.value.length;l===o&&o===s&&u>s?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=l,e.selectionEnd=Math.min(o,u))}}}),(ve&&e.defaultValue!==e.value||U(t)==null&&e.value)&&(n(ra(e)?ia(e.value):e.value),xe!==null&&r.add(xe)),Wn(()=>{var i=t();if(e===document.activeElement){var a=xi??xe;if(r.has(a))return}ra(e)&&i===ia(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Fc(e,t,n=t){Oa(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),(ve&&e.defaultChecked!==e.checked||U(t)==null)&&n(e.checked),Wn(()=>{var r=t();e.checked=!!r})}function ra(e){var t=e.type;return t==="number"||t==="range"}function ia(e){return e===""?null:+e}function hl(e,t){return e===t||e?.[ln]===t}function Vn(e={},t,n,r){return qi(()=>{var i,a;return Wn(()=>{i=a,a=[],U(()=>{e!==n(...a)&&(t(e,...a),i&&hl(n(...i),e)&&t(null,...i))})}),()=>{qt(()=>{a&&hl(n(...a),e)&&t(null,...a)})}}),e}function Ma(e=!1){const t=Le,n=t.l.u;if(!n)return;let r=()=>jo(t.s);if(e){let i=0,a={};const l=Gr(()=>{let o=!1;const s=t.s;for(const u in s)s[u]!==a[u]&&(a[u]=s[u],o=!0);return o&&i++,i});r=()=>y(l)}n.b.length&&tc(()=>{pl(t,r),wi(n.b)}),on(()=>{const i=U(()=>n.m.map(iu));return()=>{for(const a of i)typeof a=="function"&&a()}}),n.a.length&&on(()=>{pl(t,r),wi(n.a)})}function pl(e,t){if(e.l.s)for(const n of e.l.s)y(n);t()}function gl(e,t){var n=e.$$events?.[t.type],r=jr(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,t)}function qa(e,t,n){if(e==null)return t(void 0),n&&n(void 0),Re;const r=U(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Kn=[];function Yo(e,t){return{subscribe:cr(e,t).subscribe}}function cr(e,t=Re){let n=null;const r=new Set;function i(o){if(eo(e,o)&&(e=o,n)){const s=!Kn.length;for(const u of r)u[1](),Kn.push(u,e);if(s){for(let u=0;u<Kn.length;u+=2)Kn[u][0](Kn[u+1]);Kn.length=0}}}function a(o){i(o(e))}function l(o,s=Re){const u=[o,s];return r.add(u),r.size===1&&(n=t(i,a)||Re),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:l}}function Wo(e,t,n){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return Yo(n,(l,o)=>{let s=!1;const u=[];let d=0,c=Re;const v=()=>{if(d)return;c();const p=t(r?u[0]:u,l,o);a?l(p):c=typeof p=="function"?p:Re},f=i.map((p,x)=>qa(p,m=>{u[x]=m,d&=~(1<<x),s&&v()},()=>{d|=1<<x}));return s=!0,v(),function(){wi(f),c(),s=!1}})}function Bc(e){let t;return qa(e,n=>t=n)(),t}let di=!1,ka=Symbol();function je(e,t,n){const r=n[t]??={store:null,source:Dr(void 0),unsubscribe:Re};if(r.store!==e&&!(ka in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Re;else{var i=!0;r.unsubscribe=qa(e,a=>{i?r.source.v=a:oe(r.source,a)}),i=!1}return e&&ka in n?Bc(e):y(r.source)}function Mc(e,t,n){let r=n[t];return r&&r.store!==e&&(r.unsubscribe(),r.unsubscribe=Re),e}function qc(e,t){return e.set(t),t}function gn(e,t){var n=e[t];n.store!==null&&qc(n.store,n.source.v)}function it(){const e={};function t(){Mi(()=>{for(var n in e)e[n].unsubscribe();Yl(e,ka,{enumerable:!1,value:!0})})}return[e,t]}function he(e,t,n){return e.set(n),t}function jc(e){var t=di;try{return di=!1,[e(),di]}finally{di=t}}const Hc={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Jn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];Jn(i)&&(i=i());const a=Pn(i,t);if(a&&a.set)return a.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Jn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Pn(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===ln||t===Xl)return!1;for(let n of e.props)if(Jn(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Jn(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function ml(...e){return new Proxy({props:e},Hc)}function ht(e,t,n,r){var i=!vr||(n&Su)!==0,a=(n&Eu)!==0,l=(n&$u)!==0,o=r,s=!0,u=()=>(s&&(s=!1,o=l?U(r):r),o),d;if(a){var c=ln in e||Xl in e;d=Pn(e,t)?.set??(c&&t in e?R=>e[t]=R:void 0)}var v,f=!1;a?[v,f]=jc(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=u(),d&&(i&&vu(),d(v)));var p;if(i?p=()=>{var R=e[t];return R===void 0?u():(s=!0,R)}:p=()=>{var R=e[t];return R!==void 0&&(o=void 0),R===void 0?o:R},i&&(n&ku)===0)return p;if(d){var x=e.$$legacy;return(function(R,F){return arguments.length>0?((!i||!F||x||f)&&d(F?p():R),R):p()})}var m=!1,_=((n&xu)!==0?Gr:Fi)(()=>(m=!1,p()));a&&y(_);var P=ye;return(function(R,F){if(arguments.length>0){const k=F?y(_):i&&a?In(R):R;return oe(_,k),m=!0,o!==void 0&&(o=k),R}return Nn&&m||(P.f&an)!==0?_.v:y(_)})}function Uc(e){Le===null&&Ri(),vr&&Le.l!==null?Go(Le).m.push(e):on(()=>{const t=U(e);if(typeof t=="function")return t})}function Vc(e){Le===null&&Ri(),Uc(()=>()=>U(e))}function Yc(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Wc(){const e=Le;return e===null&&Ri(),(t,n,r)=>{const i=e.s.$$events?.[t];if(i){const a=jr(i)?i.slice():[i],l=Yc(t,n,r);for(const o of a)o.call(e.x,l);return!l.defaultPrevented}return!0}}function Gc(e){Le===null&&Ri(),Le.l===null&&du(),Go(Le).a.push(e)}function Go(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Qc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Qc);Fu();zu();var Xc=B("<div><!></div>");function re(e,t){var n=Xc();let r;var i=L(n);pt(i,()=>t.children??Re),O(n),de(()=>r=Dt(n,1,"flex svelte-13pc1i9",null,r,{paddingVertical:t.padding==="vertical"||t.padding===!0,paddingHorizontal:t.padding==="horizontal"||t.padding===!0,column:t.column,full:t.full,nogap:t.nogap,justifyStart:t.justify==="start",justifyCenter:t.justify==="center",justifyEnd:t.justify==="end",justifyBetween:t.justify==="between",alignStart:t.align==="start",alignCenter:t.align==="center",alignEnd:t.align==="end",sm:t.sm,xl:t.xl,nogrow:t.nogrow})),T(e,n)}var Kc=B("<h1>oops! something went wrong.</h1> <pre> </pre> <button>oops! try again</button>",1),Zc=B("<h1>loading...</h1>"),Jc=B("<!> <!>",1);function ef(e,t){var n=Ut(),r=Q(n);co(r,{failed:(a,l=Re,o=Re)=>{var s=Kc(),u=C(Q(s),2),d=L(u,!0);O(u);var c=C(u,2);c.__click=function(...v){o()?.apply(this,v)},de(v=>Be(d,v),[()=>JSON.stringify(l(),null,2)]),T(a,s)}},a=>{var l=Jc(),o=Q(l);pt(o,()=>t.children??Re);var s=C(o,2);{var u=d=>{re(d,{justify:"center",padding:!0,children:(c,v)=>{var f=Zc();T(c,f)}})};ze(s,d=>{Hu(Wu)&&d(u)})}T(a,l)}),T(e,n)}Nt(["click"]);const tf="modulepreload",nf=function(e){return"/dnd-character-sheet/"+e},_l={},Qr=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(c=>Promise.resolve(c).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=u;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=u(n.map(d=>{if(d=nf(d),d in _l)return;_l[d]=!0;const c=d.endsWith(".css"),v=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":tf,c||(f.as="script"),f.crossOrigin="",f.href=d,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((p,x)=>{f.addEventListener("load",p),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function Qo(e){return e>0?`+${e}`:e.toString()}function Hi(e){return Math.floor((e-10)/2)}function rf(e){switch(e){case"none":return 0;case"proficient":return 1;case"double":return 2;case"half":return .5}}function af(e,t,n){const r=rf(n),i=Hi(e);return Math.floor(i+t*r)}function lf(e){return Object.entries(e)}function Xo(e){const t=URL.createObjectURL(e);return new Promise((n,r)=>{const i=document.createElement("img");i.dispose=()=>{URL.revokeObjectURL(t)},i.onload=()=>{n(i)},i.onerror=()=>{r(new Error("Image could not be loaded"))},i.src=t})}function of(e,t){const n=e.indexOf(t),r=Array.from(e);return n===-1?r.push(t):r.splice(n,1),r}function sf(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"")}function aa(e,t){const{[t]:n,...r}=e;return r}function uf(){return(Date.now()+Math.floor(Math.random()*1e3)).toString(36)}function cf(e,t){const n=e.indexOf(t);if(n===-1)return[e,""];const r=e.slice(0,n),i=e.slice(n+t.length);return[r.trim(),i.trim()]}function Ko(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}const ja=cr([]);function Ii(e,t="info"){const n={id:uf(),message:e,type:t};ja.update(r=>[...r,n])}function bl(e){ja.update(t=>t.filter(n=>n.id!==e))}const ff=e=>e;function df(e){const t=e-1;return t*t*t+1}function yl(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function vf(e,{delay:t=0,duration:n=400,easing:r=ff}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}function hf(e,{delay:t=0,duration:n=400,easing:r=df,x:i=0,y:a=0,opacity:l=0}={}){const o=getComputedStyle(e),s=+o.opacity,u=o.transform==="none"?"":o.transform,d=s*(1-l),[c,v]=yl(i),[f,p]=yl(a);return{delay:t,duration:n,easing:r,css:(x,m)=>`
			transform: ${u} translate(${(1-x)*c}${v}, ${(1-x)*f}${p});
			opacity: ${s-d*m}`}}var pf=B('<div><div class="inner svelte-foxhw6"><!></div></div>');function et(e,t){var n=pf();let r;var i=L(n),a=L(i);pt(a,()=>t.children??Re),O(i),O(n),de(()=>r=Dt(n,1,"container svelte-foxhw6",null,r,{nopadding:t.nopadding,grid:t.grid,absolute:t.absolute,rounded:t.rounded,noshadow:t.noshadow,transparent:t.transparent,faded:t.faded,small:t.small,nogrow:t.nogrow,withHover:t.withHover,flex:t.flex})),T(e,n)}var gf=B('<div class="message"> </div>'),mf=B('<button type="button" class="container"><!></button>');function _f(e,t){Se(t,!0);const n=4e3;let r=Ae(!1);function i(){bl(t.notification.id)}function a(){oe(r,!0)}function l(){oe(r,!1)}on(()=>{if(y(r))return;const u=setTimeout(()=>{bl(t.notification.id)},n);return()=>{clearTimeout(u)}});var o=mf();o.__click=i;var s=L(o);et(s,{children:(u,d)=>{var c=gf(),v=L(c,!0);O(c),de(()=>Be(v,t.notification.message)),T(u,c)}}),O(o),Kt("mouseenter",o,a),Kt("mouseleave",o,l),fl(1,o,()=>hf,()=>({y:100,duration:300})),fl(2,o,()=>vf,()=>({duration:300})),T(e,o),ke()}Nt(["click"]);var bf=B('<div class="notification"><!></div>'),yf=B('<div class="container hide-print svelte-1tpaxq5"></div>');function wf(e){const t=()=>je(ja,"$notifications",n),[n,r]=it();var i=yf();Tt(i,5,t,a=>a.id,(a,l)=>{var o=bf(),s=L(o);_f(s,{get notification(){return y(l)}}),O(o),T(a,o)}),O(i),T(e,i),r()}var xf=pc('<svg width="0" height="0" style="display: none;"><filter id="pencil"><feTurbulence type="fractalNoise" baseFrequency="0.5" numOctaves="1" result="noise"></feTurbulence><feDisplacementMap in="SourceGraphic" in2="noise"></feDisplacementMap></filter></svg>');function Sf(e){let n=Ae(2.2);function r(){oe(n,.8)}function i(){oe(n,2.2)}var a=xf();Kt("beforeprint",Rn,r),Kt("afterprint",Rn,i);var l=L(a),o=C(L(l));O(l),O(a),de(()=>Rt(o,"scale",y(n))),T(e,a)}let la;function Zo(e){return{lang:la?.lang,message:e?.message,abortEarly:la?.abortEarly,abortPipeEarly:la?.abortPipeEarly}}let kf;function Ef(e){return kf?.get(e)}let $f;function If(e){return $f?.get(e)}let Pf;function Cf(e,t){return Pf?.get(e)?.get(t)}function Jo(e){const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function Sn(e,t,n,r,i){const a=i&&"input"in i?i.input:n.value,l=i?.expected??e.expects??null,o=i?.received??Jo(a),s={kind:e.kind,type:e.type,input:a,expected:l,received:o,message:`Invalid ${t}: ${l?`Expected ${l} but r`:"R"}eceived ${o}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u=e.kind==="schema",d=i?.message??e.message??Cf(e.reference,s.lang)??(u?If(s.lang):null)??r.message??Ef(s.lang);d!==void 0&&(s.message=typeof d=="function"?d(s):d),u&&(n.typed=!1),n.issues?n.issues.push(s):n.issues=[s]}function en(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Zo())}}}function Af(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}function wl(e,t){const n={};for(const r of e)n[r]=t;return n}var Tf=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function es(e){return{kind:"validation",type:"non_empty",reference:es,async:!1,expects:"!0",message:e,"~run"(t,n){return t.typed&&t.value.length===0&&Sn(this,"length",t,n,{received:"0"}),t}}}function ts(e,t,n){return typeof e.fallback=="function"?e.fallback(t,n):e.fallback}function Df(e,t){return{...e,fallback:t,get"~standard"(){return en(this)},"~run"(n,r){const i=e["~run"](n,r);return i.issues?{typed:!0,value:ts(this,i,r)}:i}}}function Ha(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function er(e,t){return{kind:"schema",type:"array",reference:er,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return en(this)},"~run"(n,r){const i=n.value;if(Array.isArray(i)){n.typed=!0,n.value=[];for(let a=0;a<i.length;a++){const l=i[a],o=this.item["~run"]({value:l},r);if(o.issues){const s={type:"array",origin:"value",input:i,key:a,value:l};for(const u of o.issues)u.path?u.path.unshift(s):u.path=[s],n.issues?.push(u);if(n.issues||(n.issues=o.issues),r.abortEarly){n.typed=!1;break}}o.typed||(n.typed=!1),n.value.push(o.value)}}else Sn(this,"type",n,r);return n}}}function ns(e){return{kind:"schema",type:"boolean",reference:ns,expects:"boolean",async:!1,message:e,get"~standard"(){return en(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:Sn(this,"type",t,n),t}}}function rs(e,t){return{kind:"schema",type:"instance",reference:rs,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return en(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:Sn(this,"type",n,r),n}}}function is(e,t){return{kind:"schema",type:"nullable",reference:is,expects:`(${e.expects} | null)`,async:!1,wrapped:e,default:t,get"~standard"(){return en(this)},"~run"(n,r){return n.value===null&&(this.default!==void 0&&(n.value=Ha(this,n,r)),n.value===null)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function ft(e){return{kind:"schema",type:"number",reference:ft,expects:"number",async:!1,message:e,get"~standard"(){return en(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Sn(this,"type",t,n),t}}}function hn(e,t){return{kind:"schema",type:"object",reference:hn,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return en(this)},"~run"(n,r){const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const a in this.entries){const l=this.entries[a];if(a in i||(l.type==="exact_optional"||l.type==="optional"||l.type==="nullish")&&l.default!==void 0){const o=a in i?i[a]:Ha(l),s=l["~run"]({value:o},r);if(s.issues){const u={type:"object",origin:"value",input:i,key:a,value:o};for(const d of s.issues)d.path?d.path.unshift(u):d.path=[u],n.issues?.push(d);if(n.issues||(n.issues=s.issues),r.abortEarly){n.typed=!1;break}}s.typed||(n.typed=!1),n.value[a]=s.value}else if(l.fallback!==void 0)n.value[a]=ts(l);else if(l.type!=="exact_optional"&&l.type!=="optional"&&l.type!=="nullish"&&(Sn(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]}),r.abortEarly))break}}else Sn(this,"type",n,r);return n}}}function le(e,t){return{kind:"schema",type:"optional",reference:le,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return en(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Ha(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Xr(e,t){return{kind:"schema",type:"picklist",reference:Xr,expects:Af(e.map(Jo),"|"),async:!1,options:e,message:t,get"~standard"(){return en(this)},"~run"(n,r){return this.options.includes(n.value)?n.typed=!0:Sn(this,"type",n,r),n}}}function Fe(e){return{kind:"schema",type:"string",reference:Fe,expects:"string",async:!1,message:e,get"~standard"(){return en(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:Sn(this,"type",t,n),t}}}function Ua(e,t,n){const r=e["~run"]({value:t},Zo(n));if(r.issues)throw new Tf(r.issues);return r.value}function Rf(...e){return{...e[0],pipe:e,get"~standard"(){return en(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const as=["light","dark","automatic"],Nf=Df(Xr(as),"automatic"),tt=cr({edit:!1,theme:Ua(Nf,localStorage.getItem("theme")),hasChanges:!1});tt.subscribe(e=>{e.hasChanges?window.onbeforeunload=()=>"There are unsaved changed, these will get lost if you continue":window.onbeforeunload=null,console.log("theme changed"),document.documentElement.classList.remove("dark-mode"),document.documentElement.classList.remove("light-mode"),e.theme==="light"&&document.documentElement.classList.add("light-mode"),e.theme==="dark"&&document.documentElement.classList.add("dark-mode"),localStorage.setItem("theme",e.theme)});var Of=B("<div></div>");function me(e,t){var n=Of();let r;de(()=>r=Dt(n,1,"svelte-avds",null,r,{spread:t.spread,vertical:t.vertical})),T(e,n)}var Lf=B("<label> </label>"),zf=B("<option> </option>"),Ff=B("<!> <select></select>",1);function ls(e,t){const n=gc();Se(t,!0);let r=ht(t,"value",15);re(e,{children:(i,a)=>{var l=Ff(),o=Q(l);{var s=d=>{var c=Lf(),v=L(c,!0);O(c),de(()=>{Rt(c,"for",n),Be(v,t.label)}),T(d,c)};ze(o,d=>{t.label&&d(s)})}var u=C(o,2);Tt(u,21,()=>t.options,Zt,(d,c)=>{var v=zf(),f=L(v,!0);O(v);var p={};de(()=>{Be(f,y(c)),p!==(p=y(c))&&(v.value=(v.__value=y(c))??"")}),T(d,v)}),O(u),de(()=>Rt(u,"id",n)),Rc(u,r),T(i,l)}}),ke()}var Bf=B('<footer><!> <div class="inner svelte-4jwo3w"><!></div></footer>');function Mf(e,t){Se(t,!1);const n=()=>je(tt,"$appSettings",r),[r,i]=it();Ma();var a=Bf(),l=L(a);me(l,{});var o=C(l,2),s=L(o);ls(s,{label:"Theme",get options(){return as},get value(){return n().theme},set value(u){he(tt,U(n).theme=u,U(n))},$$legacy:!0}),O(o),O(a),T(e,a),ke(),i()}function os(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,l=[],o="",s=e.split("/");for(s[0]||s.shift();i=s.shift();)n=i[0],n==="*"?(l.push("wild"),o+="/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),l.push(i.substring(1,~r?r:~a?a:i.length)),o+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~r?"?":"")+"\\"+i.substring(a))):o+="/"+i;return{keys:l,pattern:new RegExp("^"+o+"/?$","i")}}function xl(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Ui=Yo(null,function(t){t(xl());const n=()=>{t(xl())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Wo(Ui,e=>e.location);Wo(Ui,e=>e.querystring);const Sl=cr(void 0);async function qf(e){if(!e||e.length<1||e.charAt(0)!="/"&&e.indexOf("#/")!==0)throw Error("Invalid parameter location");await ji(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(e.charAt(0)=="#"?"":"#")+e}function Pi(e,t){if(t=El(t),!e||!e.tagName||e.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return kl(e,t),{update(n){n=El(n),kl(e,n)}}}function jf(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function kl(e,t){let n=t.href||e.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);e.setAttribute("href",n),e.addEventListener("click",r=>{r.preventDefault(),t.disabled||Hf(r.currentTarget.getAttribute("href"))})}function El(e){return e&&typeof e=="string"?{href:e}:e||{}}function Hf(e){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=e}function Uf(e,t){Se(t,!1);let n=ht(t,"routes",24,()=>({})),r=ht(t,"prefix",8,""),i=ht(t,"restoreScrollState",8,!1);class a{constructor(b,I){if(!I||typeof I!="function"&&(typeof I!="object"||I._sveltesparouter!==!0))throw Error("Invalid component object");if(!b||typeof b=="string"&&(b.length<1||b.charAt(0)!="/"&&b.charAt(0)!="*")||typeof b=="object"&&!(b instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:z,keys:M}=os(b);this.path=b,typeof I=="object"&&I._sveltesparouter===!0?(this.component=I.component,this.conditions=I.conditions||[],this.userData=I.userData,this.props=I.props||{}):(this.component=()=>Promise.resolve(I),this.conditions=[],this.props={}),this._pattern=z,this._keys=M}match(b){if(r()){if(typeof r()=="string")if(b.startsWith(r()))b=b.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const E=b.match(r());if(E&&E[0])b=b.substr(E[0].length)||"/";else return null}}const I=this._pattern.exec(b);if(I===null)return null;if(this._keys===!1)return I;const z={};let M=0;for(;M<this._keys.length;){try{z[this._keys[M]]=decodeURIComponent(I[M+1]||"")||null}catch{z[this._keys[M]]=null}M++}return z}async checkConditions(b){for(let I=0;I<this.conditions.length;I++)if(!await this.conditions[I](b))return!1;return!0}}const l=[];n()instanceof Map?n().forEach((k,b)=>{l.push(new a(b,k))}):Object.keys(n()).forEach(k=>{l.push(new a(k,n()[k]))});let o=Dr(null),s=Dr(null),u=Dr({});const d=Wc();async function c(k,b){await ji(),d(k,b)}let v=null,f=null;i()&&(f=k=>{k.state&&(k.state.__svelte_spa_router_scrollY||k.state.__svelte_spa_router_scrollX)?v=k.state:v=null},window.addEventListener("popstate",f),Gc(()=>{jf(v)}));let p=null,x=null;const m=Ui.subscribe(async k=>{p=k;let b=0;for(;b<l.length;){const I=l[b].match(k.location);if(!I){b++;continue}const z={route:l[b].path,location:k.location,querystring:k.querystring,userData:l[b].userData,params:I&&typeof I=="object"&&Object.keys(I).length?I:null};if(!await l[b].checkConditions(z)){oe(o,null),x=null,c("conditionsFailed",z);return}c("routeLoading",Object.assign({},z));const M=l[b].component;if(x!=M){M.loading?(oe(o,M.loading),x=M,oe(s,M.loadingParams),oe(u,{}),c("routeLoaded",Object.assign({},z,{component:y(o),name:y(o).name,params:y(s)}))):(oe(o,null),x=null);const E=await M();if(k!=p)return;oe(o,E&&E.default||E),x=M}I&&typeof I=="object"&&Object.keys(I).length?oe(s,I):oe(s,null),oe(u,l[b].props),c("routeLoaded",Object.assign({},z,{component:y(o),name:y(o).name,params:y(s)})).then(()=>{Sl.set(y(s))});return}oe(o,null),x=null,Sl.set(void 0)});Vc(()=>{m(),f&&window.removeEventListener("popstate",f)}),ic(()=>jo(i()),()=>{history.scrollRestoration=i()?"manual":"auto"}),ac(),Ma();var _=Ut(),P=Q(_);{var R=k=>{var b=Ut(),I=Q(b);ul(I,()=>y(o),(z,M)=>{M(z,ml({get params(){return y(s)}},()=>y(u),{$$events:{routeEvent(E){gl.call(this,t,E)}}}))}),T(k,b)},F=k=>{var b=Ut(),I=Q(b);ul(I,()=>y(o),(z,M)=>{M(z,ml(()=>y(u),{$$events:{routeEvent(E){gl.call(this,t,E)}}}))}),T(k,b)};ze(P,k=>{y(s)?k(R):k(F,!1)})}T(e,_),ke()}const Or=1300,Lr=1e3;function Vf(e,t,n=.4,r=!1,i=128){const a=e.width|0,l=e.height|0;if(a<=0||l<=0)return;const o=t.getImageData(0,0,a,l),s=o.data,d=Math.max(-1,Math.min(1,n))*255,c=259*(d+255)/(255*(259-d)),v=p=>p<0?0:p>255?255:p,f=p=>v(c*(p-128)+128);for(let p=0;p<s.length;p+=4){if(s[p+3]===0)continue;const m=s[p+0],_=s[p+1],P=s[p+2];if(r){const R=.2126*m+.7152*_+.0722*P,k=f(R)<i?0:255;s[p+0]=k,s[p+1]=k,s[p+2]=k}else s[p+0]=f(m),s[p+1]=f(_),s[p+2]=f(P)}t.putImageData(o,0,0)}function Yf(e,t,n,r){const i=t.getImageData(0,0,e.width,e.height),a=i.data,l=r*255,o=n*r*(255-r);for(let s=0;s<a.length;s+=4){const u=a[s],d=a[s+1],c=a[s+2],v=.299*u+.587*d+.114*c;let f=0;v>o&&(f=190),v>l&&(f=255),a[s]=f,a[s+1]=f,a[s+2]=f}t.putImageData(i,0,0)}function Wf(e,t,n=6,r=45){const i=e.width|0,a=e.height|0;if(i<=0||a<=0)return;const o=t.getImageData(0,0,i,a).data,s=150,u=i*a,d=new Uint8Array(u),c=new Uint8Array(u);for(let I=0;I<u;I++){const z=I*4;if(o[z+3]===0){d[I]=255,c[I]=0;continue}const E=o[z+0],q=o[z+1],j=o[z+2],Y=.2126*E+.7152*q+.0722*j|0;d[I]=Y,c[I]=Y<=s?1:0}const v=document.createElement("canvas");v.width=i,v.height=a;const f=v.getContext("2d");if(!f)return;f.clearRect(0,0,i,a),f.fillStyle="#fff",f.fillRect(0,0,i,a),f.fillStyle="#000";const p=r*Math.PI/180,x=Math.cos(p),m=Math.sin(p),_=Math.max(2,Math.round(n*2)),P=i/2,R=a/2,F=Math.sqrt(i*i+a*a)/2;for(let I=-F;I<=F;I+=_)for(let z=-F;z<=F;z+=_){const M=P+z*x-I*m,E=R+z*m+I*x,q=M|0,j=E|0;if(q<0||q>=i||j<0||j>=a)continue;const Y=j*i+q,Z=Y*4;if(o[Z+3]===0||c[Y])continue;const te=(1-d[Y]/255)*n;te<=.15||(f.beginPath(),f.arc(M,E,te,0,Math.PI*2),f.fill())}const k=f.getImageData(0,0,i,a),b=k.data;for(let I=0;I<u;I++){const z=I*4,M=o[z+3];if(M===0){b[z+3]=0;continue}if(c[I]){const E=d[I];b[z+0]=E,b[z+1]=E,b[z+2]=E,b[z+3]=M}else b[z+3]=M}t.putImageData(k,0,0)}function Gf(e,t,n,r,i){const a=e.getContext("2d");if(!a)return;const{width:l,height:o}=t;a.drawImage(t,n,r,l*i,o*i)}var Qf=B('<div class="wrapper svelte-rcmikk"><div class="overlay svelte-rcmikk" data-html2canvas-ignore=""></div> <canvas class="svelte-rcmikk"></canvas></div>');function ss(e,t){Se(t,!0);let n=ht(t,"canvas",15),r=ht(t,"context",15);on(()=>{r(n()?.getContext("2d",{willReadFrequently:!0})??null)});var i=Qf(),a=C(L(i),2);Vn(a,l=>n(l),()=>n()),O(i),de(()=>{Rt(a,"width",t.width),Rt(a,"height",t.height)}),T(e,i),ke()}var Xf=B('<div class="canvas svelte-nzlhga"><!></div>');function Va(e,t){Se(t,!0);const n=Oe(()=>t.avatar.blob);var r,i,a,l,o,s,u=Wr([async()=>r=await zi(async()=>y(n)?await Xo(y(n)):null),()=>i=Ae(null),()=>a=Ae(null),()=>l=Oe(()=>t.avatar.contrast),()=>o=Oe(()=>t.avatar.gray),()=>s=Oe(()=>t.avatar.black),()=>{on(()=>{!y(r)||!y(a)||!y(i)||(y(a).clearRect(0,0,y(i).width,y(i).height),Gf(y(i),y(r),t.avatar.x,t.avatar.y,t.avatar.scale),t.disableEffects||(Vf(y(i),y(a),y(l)),Yf(y(i),y(a),y(o),y(s)),Wf(y(i),y(a),4,45)))})}]),d=Xf(),c=L(d);lt(c,[u[1],u[2]],void 0,v=>{ss(c,{get width(){return Lr},get height(){return Or},get canvas(){return y(i)},set canvas(f){oe(i,f,!0)},get context(){return y(a)},set context(f){oe(a,f,!0)}})}),O(d),T(e,d),ke()}var Kf=B('<div class="inner svelte-l89b3q"><!></div>'),Zf=B("<div><!></div>");function Ci(e,t){var n=Zf();let r;var i=L(n);et(i,{withHover:!0,nopadding:!0,children:(a,l)=>{var o=Kf(),s=L(o);pt(s,()=>t.children??Re),O(o),T(a,o)}}),O(n),de(()=>r=Dt(n,1,"wrapper svelte-l89b3q",null,r,{pending:t.pending})),T(e,n)}var Jf=B("<button><!></button>");function dt(e,t){Se(t,!0);const n=ht(t,"type",3,"button");let r=Ae(!1);function i(){y(r)||(oe(r,!0),Promise.resolve(t.onclick?.()).finally(()=>{oe(r,!1)}))}var a=Jf();a.__click=i;let l;var o=L(a);Ci(o,{get pending(){return y(r)},children:(s,u)=>{var d=Ut(),c=Q(d);pt(c,()=>t.children??Re),T(s,d)}}),O(a),de(()=>{Rt(a,"type",n()),l=Dt(a,1,"svelte-18sv61c",null,l,{pending:y(r)})}),T(e,a),ke()}Nt(["click"]);var ed=B('<div class="dot svelte-6jkwtr"></div> <div class="dot svelte-6jkwtr"></div> <div class="dot svelte-6jkwtr"></div>',1),td=B('<!> <div class="label"> </div>',1);function Ai(e,t){re(e,{column:!0,sm:!0,children:(n,r)=>{var i=td(),a=Q(i);re(a,{sm:!0,children:(s,u)=>{var d=ed();Ee(4),T(s,d)},$$slots:{default:!0}});var l=C(a,2),o=L(l,!0);O(l),de(()=>Be(o,t.label)),T(n,i)}})}var nd=B('<div class="push svelte-1c0ge01"></div>');function bn(e){var t=nd();T(e,t)}var rd=B('<div class="wrapper svelte-1mlq5p3"><!> <div class="inner"><!></div></div>');function Ya(e,t){var n=rd(),r=L(n);me(r,{});var i=C(r,2),a=L(i);pt(a,()=>t.children??Re),O(i),O(n),T(e,n)}function Vi(e,t){Pc("1822nxv",n=>{oc(()=>{bo.title=t.title??""})})}var id=B('<div class="divider svelte-1iq5b9c"><!></div>'),ad=B("<div><!></div> <!>",1);function Me(e,t){const n=ht(t,"row",3,!1),r=ht(t,"cell",3,!1),i=Oe(()=>{if(n())return;let c="";return t.cells&&(c+=`--cells:${t.cells};`),t.fillCell&&(c+=`--full:${t.fillCell};`),c||void 0});var a=ad(),l=Q(a);let o;var s=L(l);pt(s,()=>t.children??Re),O(l);var u=C(l,2);{var d=c=>{var v=id(),f=L(v);me(f,{}),O(v),T(c,v)};ze(u,c=>{n()&&c(d)})}de(()=>{Tc(l,y(i)),o=Dt(l,1,"svelte-1iq5b9c",null,o,{table:n()===!1&&r()===!1,row:n(),cell:r(),centered:t.centered,right:t.right})}),T(e,a)}const ld=["acrobatics","animalHandling","arcana","athletics","deception","history","insight","intimidation","investigation","medicine","nature","perception","performance","persuasion","religion","sleightOfHand","stealth","survival"],us=["str","dex","con","int","wis","cha"],od=["none","str","dex","con","int","wis","cha"],sd=["none","proficient","double","half"],ud=Xr(us),cd=Xr(od),fd=Xr(sd),dd=hn({name:le(Fe(),""),hit:le(ft(),0),damage:le(Fe(),""),details:le(Fe(),"")}),cs=hn({name:le(Fe(),""),level:le(ft(),0),castingTime:le(Fe(),""),range:le(Fe(),""),components:le(Fe(),""),duration:le(Fe(),""),description:le(Fe(),""),notes:le(Fe(),""),prepared:le(ns(),!0)}),vd=hn({blob:le(is(rs(Blob)),null),contrast:le(ft(),0),gray:le(ft(),.5),black:le(ft(),.25),x:le(ft(),0),y:le(ft(),0),scale:le(ft(),1)}),hd=hn({slug:Rf(Fe(),es()),avatar:le(vd,{blob:null,contrast:1,gray:.5,black:.25,x:0,y:0,scale:1}),name:le(Fe(),""),playerName:le(Fe(),""),level:le(ft(),1),class:le(Fe(),""),subclass:le(Fe(),""),species:le(Fe(),""),size:le(Fe(),""),speed:le(ft(),30),background:le(Fe(),""),alignment:le(Fe(),""),armorClass:le(ft(),10),hitDice:le(Fe(),"1d8"),hitPoints:le(ft(),1),proficiencyBonus:le(ft(),2),proficienies:le(Fe(),""),abilityScores:le(hn(wl(us,le(ft(),10))),{str:10,dex:10,con:10,int:10,wis:10,cha:10}),abilityProficiencies:le(er(ud),[]),skillProficiencies:le(hn(wl(ld,le(fd,"none"))),{acrobatics:"none",animalHandling:"none",arcana:"none",athletics:"none",deception:"none",history:"none",insight:"none",intimidation:"none",investigation:"none",medicine:"none",nature:"none",perception:"none",performance:"none",persuasion:"none",religion:"none",sleightOfHand:"none",stealth:"none",survival:"none"}),languages:le(Fe(),""),features:le(hn({feats:le(Fe(),""),species:le(Fe(),""),class:le(Fe(),"")}),{feats:"",species:"",class:""}),weapons:le(er(dd),[]),spells:le(er(cs),[]),spellcastingAbility:le(cd,"none"),spellSlots:le(er(hn({level:le(ft(),1),amount:le(ft(),0)})),[]),inventory:le(er(Fe()),[])});function Yi(e){return Ua(hd,e)}function fs(e){try{return Yi(e)}catch{return null}}const pd={acrobatics:"dex",animalHandling:"wis",arcana:"int",athletics:"str",deception:"cha",history:"int",insight:"wis",intimidation:"cha",investigation:"int",medicine:"wis",nature:"int",perception:"wis",performance:"cha",persuasion:"cha",religion:"int",sleightOfHand:"dex",stealth:"dex",survival:"wis"},gd="/dnd-character-sheet/assets/belo-DO5QS6YM.jpg",md="/dnd-character-sheet/assets/belo-CgmwwWUB.yml";async function ds(e,t,n){const r=await Xo(e),i=r.width/r.height,a=t/n;let l,o,s;return i>a?(l=n/r.height,o=(t-r.width*l)/2,s=0):(l=t/r.width,o=0,s=(n-r.height*l)/2),r.dispose(),{x:o,y:s,scale:l}}var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var oa={exports:{}};var $l;function _d(){return $l||($l=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,a){function l(u,d){if(!i[u]){if(!r[u]){var c=typeof hi=="function"&&hi;if(!d&&c)return c(u,!0);if(o)return o(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var f=i[u]={exports:{}};r[u][0].call(f.exports,function(p){var x=r[u][1][p];return l(x||p)},f,f.exports,n,r,i,a)}return i[u].exports}for(var o=typeof hi=="function"&&hi,s=0;s<a.length;s++)l(a[s]);return l})({1:[function(n,r,i){(function(a){var l=a.MutationObserver||a.WebKitMutationObserver,o;if(l){var s=0,u=new l(p),d=a.document.createTextNode("");u.observe(d,{characterData:!0}),o=function(){d.data=s=++s%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var c=new a.MessageChannel;c.port1.onmessage=p,o=function(){c.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?o=function(){var m=a.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:o=function(){setTimeout(p,0)};var v,f=[];function p(){v=!0;for(var m,_,P=f.length;P;){for(_=f,f=[],m=-1;++m<P;)_[m]();P=f.length}v=!1}r.exports=x;function x(m){f.push(m)===1&&!v&&o()}}).call(this,typeof vi<"u"?vi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var a=n(1);function l(){}var o={},s=["REJECTED"],u=["FULFILLED"],d=["PENDING"];r.exports=c;function c(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,k!==l&&x(this,k)}c.prototype.catch=function(k){return this.then(null,k)},c.prototype.then=function(k,b){if(typeof k!="function"&&this.state===u||typeof b!="function"&&this.state===s)return this;var I=new this.constructor(l);if(this.state!==d){var z=this.state===u?k:b;f(I,z,this.outcome)}else this.queue.push(new v(I,k,b));return I};function v(k,b,I){this.promise=k,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(k){o.resolve(this.promise,k)},v.prototype.otherCallFulfilled=function(k){f(this.promise,this.onFulfilled,k)},v.prototype.callRejected=function(k){o.reject(this.promise,k)},v.prototype.otherCallRejected=function(k){f(this.promise,this.onRejected,k)};function f(k,b,I){a(function(){var z;try{z=b(I)}catch(M){return o.reject(k,M)}z===k?o.reject(k,new TypeError("Cannot resolve promise with itself")):o.resolve(k,z)})}o.resolve=function(k,b){var I=m(p,b);if(I.status==="error")return o.reject(k,I.value);var z=I.value;if(z)x(k,z);else{k.state=u,k.outcome=b;for(var M=-1,E=k.queue.length;++M<E;)k.queue[M].callFulfilled(b)}return k},o.reject=function(k,b){k.state=s,k.outcome=b;for(var I=-1,z=k.queue.length;++I<z;)k.queue[I].callRejected(b);return k};function p(k){var b=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof b=="function")return function(){b.apply(k,arguments)}}function x(k,b){var I=!1;function z(j){I||(I=!0,o.reject(k,j))}function M(j){I||(I=!0,o.resolve(k,j))}function E(){b(M,z)}var q=m(E);q.status==="error"&&z(q.value)}function m(k,b){var I={};try{I.value=k(b),I.status="success"}catch(z){I.status="error",I.value=z}return I}c.resolve=_;function _(k){return k instanceof this?k:o.resolve(new this(l),k)}c.reject=P;function P(k){var b=new this(l);return o.reject(b,k)}c.all=R;function R(k){var b=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=k.length,z=!1;if(!I)return this.resolve([]);for(var M=new Array(I),E=0,q=-1,j=new this(l);++q<I;)Y(k[q],q);return j;function Y(Z,J){b.resolve(Z).then(te,function(ie){z||(z=!0,o.reject(j,ie))});function te(ie){M[J]=ie,++E===I&&!z&&(z=!0,o.resolve(j,M))}}}c.race=F;function F(k){var b=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=k.length,z=!1;if(!I)return this.resolve([]);for(var M=-1,E=new this(l);++M<I;)q(k[M]);return E;function q(j){b.resolve(j).then(function(Y){z||(z=!0,o.resolve(E,Y))},function(Y){z||(z=!0,o.reject(E,Y))})}}},{1:1}],3:[function(n,r,i){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof vi<"u"?vi:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};function l(h,$){if(!(h instanceof $))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var s=o();function u(){try{if(!s||!s.open)return!1;var h=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),$=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!h||$)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(h,$){h=h||[],$=$||{};try{return new Blob(h,$)}catch(A){if(A.name!=="TypeError")throw A;for(var g=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,D=new g,N=0;N<h.length;N+=1)D.append(h[N]);return D.getBlob($.type)}}typeof Promise>"u"&&n(3);var c=Promise;function v(h,$){$&&h.then(function(g){$(null,g)},function(g){$(g)})}function f(h,$,g){typeof $=="function"&&h.then($),typeof g=="function"&&h.catch(g)}function p(h){return typeof h!="string"&&(console.warn(h+" used as a key, but it is not a string."),h=String(h)),h}function x(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",_=void 0,P={},R=Object.prototype.toString,F="readonly",k="readwrite";function b(h){for(var $=h.length,g=new ArrayBuffer($),D=new Uint8Array(g),N=0;N<$;N++)D[N]=h.charCodeAt(N);return g}function I(h){return new c(function($){var g=h.transaction(m,k),D=d([""]);g.objectStore(m).put(D,"key"),g.onabort=function(N){N.preventDefault(),N.stopPropagation(),$(!1)},g.oncomplete=function(){var N=navigator.userAgent.match(/Chrome\/(\d+)/),A=navigator.userAgent.match(/Edge\//);$(A||!N||parseInt(N[1],10)>=43)}}).catch(function(){return!1})}function z(h){return typeof _=="boolean"?c.resolve(_):I(h).then(function($){return _=$,_})}function M(h){var $=P[h.name],g={};g.promise=new c(function(D,N){g.resolve=D,g.reject=N}),$.deferredOperations.push(g),$.dbReady?$.dbReady=$.dbReady.then(function(){return g.promise}):$.dbReady=g.promise}function E(h){var $=P[h.name],g=$.deferredOperations.pop();if(g)return g.resolve(),g.promise}function q(h,$){var g=P[h.name],D=g.deferredOperations.pop();if(D)return D.reject($),D.promise}function j(h,$){return new c(function(g,D){if(P[h.name]=P[h.name]||ge(),h.db)if($)M(h),h.db.close();else return g(h.db);var N=[h.name];$&&N.push(h.version);var A=s.open.apply(s,N);$&&(A.onupgradeneeded=function(H){var V=A.result;try{V.createObjectStore(h.storeName),H.oldVersion<=1&&V.createObjectStore(m)}catch(W){if(W.name==="ConstraintError")console.warn('The database "'+h.name+'" has been upgraded from version '+H.oldVersion+" to version "+H.newVersion+', but the storage "'+h.storeName+'" already exists.');else throw W}}),A.onerror=function(H){H.preventDefault(),D(A.error)},A.onsuccess=function(){var H=A.result;H.onversionchange=function(V){V.target.close()},g(H),E(h)}})}function Y(h){return j(h,!1)}function Z(h){return j(h,!0)}function J(h,$){if(!h.db)return!0;var g=!h.db.objectStoreNames.contains(h.storeName),D=h.version<h.db.version,N=h.version>h.db.version;if(D&&(h.version!==$&&console.warn('The database "'+h.name+`" can't be downgraded from version `+h.db.version+" to version "+h.version+"."),h.version=h.db.version),N||g){if(g){var A=h.db.version+1;A>h.version&&(h.version=A)}return!0}return!1}function te(h){return new c(function($,g){var D=new FileReader;D.onerror=g,D.onloadend=function(N){var A=btoa(N.target.result||"");$({__local_forage_encoded_blob:!0,data:A,type:h.type})},D.readAsBinaryString(h)})}function ie(h){var $=b(atob(h.data));return d([$],{type:h.type})}function se(h){return h&&h.__local_forage_encoded_blob}function pe(h){var $=this,g=$._initReady().then(function(){var D=P[$._dbInfo.name];if(D&&D.dbReady)return D.dbReady});return f(g,h,h),g}function S(h){M(h);for(var $=P[h.name],g=$.forages,D=0;D<g.length;D++){var N=g[D];N._dbInfo.db&&(N._dbInfo.db.close(),N._dbInfo.db=null)}return h.db=null,Y(h).then(function(A){return h.db=A,J(h)?Z(h):A}).then(function(A){h.db=$.db=A;for(var H=0;H<g.length;H++)g[H]._dbInfo.db=A}).catch(function(A){throw q(h,A),A})}function ee(h,$,g,D){D===void 0&&(D=1);try{var N=h.db.transaction(h.storeName,$);g(null,N)}catch(A){if(D>0&&(!h.db||A.name==="InvalidStateError"||A.name==="NotFoundError"))return c.resolve().then(function(){if(!h.db||A.name==="NotFoundError"&&!h.db.objectStoreNames.contains(h.storeName)&&h.version<=h.db.version)return h.db&&(h.version=h.db.version+1),Z(h)}).then(function(){return S(h).then(function(){ee(h,$,g,D-1)})}).catch(g);g(A)}}function ge(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function w(h){var $=this,g={db:null};if(h)for(var D in h)g[D]=h[D];var N=P[g.name];N||(N=ge(),P[g.name]=N),N.forages.push($),$._initReady||($._initReady=$.ready,$.ready=pe);var A=[];function H(){return c.resolve()}for(var V=0;V<N.forages.length;V++){var W=N.forages[V];W!==$&&A.push(W._initReady().catch(H))}var G=N.forages.slice(0);return c.all(A).then(function(){return g.db=N.db,Y(g)}).then(function(K){return g.db=K,J(g,$._defaultConfig.version)?Z(g):K}).then(function(K){g.db=N.db=K,$._dbInfo=g;for(var ne=0;ne<G.length;ne++){var we=G[ne];we!==$&&(we._dbInfo.db=g.db,we._dbInfo.version=g.version)}})}function ue(h,$){var g=this;h=p(h);var D=new c(function(N,A){g.ready().then(function(){ee(g._dbInfo,F,function(H,V){if(H)return A(H);try{var W=V.objectStore(g._dbInfo.storeName),G=W.get(h);G.onsuccess=function(){var K=G.result;K===void 0&&(K=null),se(K)&&(K=ie(K)),N(K)},G.onerror=function(){A(G.error)}}catch(K){A(K)}})}).catch(A)});return v(D,$),D}function be(h,$){var g=this,D=new c(function(N,A){g.ready().then(function(){ee(g._dbInfo,F,function(H,V){if(H)return A(H);try{var W=V.objectStore(g._dbInfo.storeName),G=W.openCursor(),K=1;G.onsuccess=function(){var ne=G.result;if(ne){var we=ne.value;se(we)&&(we=ie(we));var De=h(we,ne.key,K++);De!==void 0?N(De):ne.continue()}else N()},G.onerror=function(){A(G.error)}}catch(ne){A(ne)}})}).catch(A)});return v(D,$),D}function ce(h,$,g){var D=this;h=p(h);var N=new c(function(A,H){var V;D.ready().then(function(){return V=D._dbInfo,R.call($)==="[object Blob]"?z(V.db).then(function(W){return W?$:te($)}):$}).then(function(W){ee(D._dbInfo,k,function(G,K){if(G)return H(G);try{var ne=K.objectStore(D._dbInfo.storeName);W===null&&(W=void 0);var we=ne.put(W,h);K.oncomplete=function(){W===void 0&&(W=null),A(W)},K.onabort=K.onerror=function(){var De=we.error?we.error:we.transaction.error;H(De)}}catch(De){H(De)}})}).catch(H)});return v(N,g),N}function Ie(h,$){var g=this;h=p(h);var D=new c(function(N,A){g.ready().then(function(){ee(g._dbInfo,k,function(H,V){if(H)return A(H);try{var W=V.objectStore(g._dbInfo.storeName),G=W.delete(h);V.oncomplete=function(){N()},V.onerror=function(){A(G.error)},V.onabort=function(){var K=G.error?G.error:G.transaction.error;A(K)}}catch(K){A(K)}})}).catch(A)});return v(D,$),D}function Pe(h){var $=this,g=new c(function(D,N){$.ready().then(function(){ee($._dbInfo,k,function(A,H){if(A)return N(A);try{var V=H.objectStore($._dbInfo.storeName),W=V.clear();H.oncomplete=function(){D()},H.onabort=H.onerror=function(){var G=W.error?W.error:W.transaction.error;N(G)}}catch(G){N(G)}})}).catch(N)});return v(g,h),g}function Ce(h){var $=this,g=new c(function(D,N){$.ready().then(function(){ee($._dbInfo,F,function(A,H){if(A)return N(A);try{var V=H.objectStore($._dbInfo.storeName),W=V.count();W.onsuccess=function(){D(W.result)},W.onerror=function(){N(W.error)}}catch(G){N(G)}})}).catch(N)});return v(g,h),g}function Ue(h,$){var g=this,D=new c(function(N,A){if(h<0){N(null);return}g.ready().then(function(){ee(g._dbInfo,F,function(H,V){if(H)return A(H);try{var W=V.objectStore(g._dbInfo.storeName),G=!1,K=W.openKeyCursor();K.onsuccess=function(){var ne=K.result;if(!ne){N(null);return}h===0||G?N(ne.key):(G=!0,ne.advance(h))},K.onerror=function(){A(K.error)}}catch(ne){A(ne)}})}).catch(A)});return v(D,$),D}function We(h){var $=this,g=new c(function(D,N){$.ready().then(function(){ee($._dbInfo,F,function(A,H){if(A)return N(A);try{var V=H.objectStore($._dbInfo.storeName),W=V.openKeyCursor(),G=[];W.onsuccess=function(){var K=W.result;if(!K){D(G);return}G.push(K.key),K.continue()},W.onerror=function(){N(W.error)}}catch(K){N(K)}})}).catch(N)});return v(g,h),g}function kt(h,$){$=x.apply(this,arguments);var g=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||g.name,h.storeName=h.storeName||g.storeName);var D=this,N;if(!h.name)N=c.reject("Invalid arguments");else{var A=h.name===g.name&&D._dbInfo.db,H=A?c.resolve(D._dbInfo.db):Y(h).then(function(V){var W=P[h.name],G=W.forages;W.db=V;for(var K=0;K<G.length;K++)G[K]._dbInfo.db=V;return V});h.storeName?N=H.then(function(V){if(V.objectStoreNames.contains(h.storeName)){var W=V.version+1;M(h);var G=P[h.name],K=G.forages;V.close();for(var ne=0;ne<K.length;ne++){var we=K[ne];we._dbInfo.db=null,we._dbInfo.version=W}var De=new c(function(Ne,Ke){var Xe=s.open(h.name,W);Xe.onerror=function(zt){var Er=Xe.result;Er.close(),Ke(zt)},Xe.onupgradeneeded=function(){var zt=Xe.result;zt.deleteObjectStore(h.storeName)},Xe.onsuccess=function(){var zt=Xe.result;zt.close(),Ne(zt)}});return De.then(function(Ne){G.db=Ne;for(var Ke=0;Ke<K.length;Ke++){var Xe=K[Ke];Xe._dbInfo.db=Ne,E(Xe._dbInfo)}}).catch(function(Ne){throw(q(h,Ne)||c.resolve()).catch(function(){}),Ne})}}):N=H.then(function(V){M(h);var W=P[h.name],G=W.forages;V.close();for(var K=0;K<G.length;K++){var ne=G[K];ne._dbInfo.db=null}var we=new c(function(De,Ne){var Ke=s.deleteDatabase(h.name);Ke.onerror=function(){var Xe=Ke.result;Xe&&Xe.close(),Ne(Ke.error)},Ke.onblocked=function(){console.warn('dropInstance blocked for database "'+h.name+'" until all open connections are closed')},Ke.onsuccess=function(){var Xe=Ke.result;Xe&&Xe.close(),De(Xe)}});return we.then(function(De){W.db=De;for(var Ne=0;Ne<G.length;Ne++){var Ke=G[Ne];E(Ke._dbInfo)}}).catch(function(De){throw(q(h,De)||c.resolve()).catch(function(){}),De})})}return v(N,$),N}var Ve={_driver:"asyncStorage",_initStorage:w,_support:u(),iterate:be,getItem:ue,setItem:ce,removeItem:Ie,clear:Pe,length:Ce,key:Ue,keys:We,dropInstance:kt};function kn(){return typeof openDatabase=="function"}var Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qe="~~local_forage_type~",st=/^~~local_forage_type~([^~]+)~/,Ye="__lfsc__:",bt=Ye.length,dn="arbf",mr="blob",Zr="si08",Jr="ui08",ei="uic8",ti="si16",ni="si32",En="ur16",ri="ui32",ii="fl32",_r="fl64",ai=bt+dn.length,br=Object.prototype.toString;function yr(h){var $=h.length*.75,g=h.length,D,N=0,A,H,V,W;h[h.length-1]==="="&&($--,h[h.length-2]==="="&&$--);var G=new ArrayBuffer($),K=new Uint8Array(G);for(D=0;D<g;D+=4)A=Ge.indexOf(h[D]),H=Ge.indexOf(h[D+1]),V=Ge.indexOf(h[D+2]),W=Ge.indexOf(h[D+3]),K[N++]=A<<2|H>>4,K[N++]=(H&15)<<4|V>>2,K[N++]=(V&3)<<6|W&63;return G}function wr(h){var $=new Uint8Array(h),g="",D;for(D=0;D<$.length;D+=3)g+=Ge[$[D]>>2],g+=Ge[($[D]&3)<<4|$[D+1]>>4],g+=Ge[($[D+1]&15)<<2|$[D+2]>>6],g+=Ge[$[D+2]&63];return $.length%3===2?g=g.substring(0,g.length-1)+"=":$.length%3===1&&(g=g.substring(0,g.length-2)+"=="),g}function Gi(h,$){var g="";if(h&&(g=br.call(h)),h&&(g==="[object ArrayBuffer]"||h.buffer&&br.call(h.buffer)==="[object ArrayBuffer]")){var D,N=Ye;h instanceof ArrayBuffer?(D=h,N+=dn):(D=h.buffer,g==="[object Int8Array]"?N+=Zr:g==="[object Uint8Array]"?N+=Jr:g==="[object Uint8ClampedArray]"?N+=ei:g==="[object Int16Array]"?N+=ti:g==="[object Uint16Array]"?N+=En:g==="[object Int32Array]"?N+=ni:g==="[object Uint32Array]"?N+=ri:g==="[object Float32Array]"?N+=ii:g==="[object Float64Array]"?N+=_r:$(new Error("Failed to get type for BinaryArray"))),$(N+wr(D))}else if(g==="[object Blob]"){var A=new FileReader;A.onload=function(){var H=Qe+h.type+"~"+wr(this.result);$(Ye+mr+H)},A.readAsArrayBuffer(h)}else try{$(JSON.stringify(h))}catch(H){console.error("Couldn't convert value into a JSON string: ",h),$(null,H)}}function Qi(h){if(h.substring(0,bt)!==Ye)return JSON.parse(h);var $=h.substring(ai),g=h.substring(bt,ai),D;if(g===mr&&st.test($)){var N=$.match(st);D=N[1],$=$.substring(N[0].length)}var A=yr($);switch(g){case dn:return A;case mr:return d([A],{type:D});case Zr:return new Int8Array(A);case Jr:return new Uint8Array(A);case ei:return new Uint8ClampedArray(A);case ti:return new Int16Array(A);case En:return new Uint16Array(A);case ni:return new Int32Array(A);case ri:return new Uint32Array(A);case ii:return new Float32Array(A);case _r:return new Float64Array(A);default:throw new Error("Unkown type: "+g)}}var xr={serialize:Gi,deserialize:Qi,stringToBuffer:yr,bufferToString:wr};function li(h,$,g,D){h.executeSql("CREATE TABLE IF NOT EXISTS "+$.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],g,D)}function Xi(h){var $=this,g={db:null};if(h)for(var D in h)g[D]=typeof h[D]!="string"?h[D].toString():h[D];var N=new c(function(A,H){try{g.db=openDatabase(g.name,String(g.version),g.description,g.size)}catch(V){return H(V)}g.db.transaction(function(V){li(V,g,function(){$._dbInfo=g,A()},function(W,G){H(G)})},H)});return g.serializer=xr,N}function tn(h,$,g,D,N,A){h.executeSql(g,D,N,function(H,V){V.code===V.SYNTAX_ERR?H.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[$.storeName],function(W,G){G.rows.length?A(W,V):li(W,$,function(){W.executeSql(g,D,N,A)},A)},A):A(H,V)},A)}function oi(h,$){var g=this;h=p(h);var D=new c(function(N,A){g.ready().then(function(){var H=g._dbInfo;H.db.transaction(function(V){tn(V,H,"SELECT * FROM "+H.storeName+" WHERE key = ? LIMIT 1",[h],function(W,G){var K=G.rows.length?G.rows.item(0).value:null;K&&(K=H.serializer.deserialize(K)),N(K)},function(W,G){A(G)})})}).catch(A)});return v(D,$),D}function Ki(h,$){var g=this,D=new c(function(N,A){g.ready().then(function(){var H=g._dbInfo;H.db.transaction(function(V){tn(V,H,"SELECT * FROM "+H.storeName,[],function(W,G){for(var K=G.rows,ne=K.length,we=0;we<ne;we++){var De=K.item(we),Ne=De.value;if(Ne&&(Ne=H.serializer.deserialize(Ne)),Ne=h(Ne,De.key,we+1),Ne!==void 0){N(Ne);return}}N()},function(W,G){A(G)})})}).catch(A)});return v(D,$),D}function si(h,$,g,D){var N=this;h=p(h);var A=new c(function(H,V){N.ready().then(function(){$===void 0&&($=null);var W=$,G=N._dbInfo;G.serializer.serialize($,function(K,ne){ne?V(ne):G.db.transaction(function(we){tn(we,G,"INSERT OR REPLACE INTO "+G.storeName+" (key, value) VALUES (?, ?)",[h,K],function(){H(W)},function(De,Ne){V(Ne)})},function(we){if(we.code===we.QUOTA_ERR){if(D>0){H(si.apply(N,[h,W,g,D-1]));return}V(we)}})})}).catch(V)});return v(A,g),A}function Zi(h,$,g){return si.apply(this,[h,$,g,1])}function X(h,$){var g=this;h=p(h);var D=new c(function(N,A){g.ready().then(function(){var H=g._dbInfo;H.db.transaction(function(V){tn(V,H,"DELETE FROM "+H.storeName+" WHERE key = ?",[h],function(){N()},function(W,G){A(G)})})}).catch(A)});return v(D,$),D}function ae(h){var $=this,g=new c(function(D,N){$.ready().then(function(){var A=$._dbInfo;A.db.transaction(function(H){tn(H,A,"DELETE FROM "+A.storeName,[],function(){D()},function(V,W){N(W)})})}).catch(N)});return v(g,h),g}function at(h){var $=this,g=new c(function(D,N){$.ready().then(function(){var A=$._dbInfo;A.db.transaction(function(H){tn(H,A,"SELECT COUNT(key) as c FROM "+A.storeName,[],function(V,W){var G=W.rows.item(0).c;D(G)},function(V,W){N(W)})})}).catch(N)});return v(g,h),g}function Et(h,$){var g=this,D=new c(function(N,A){g.ready().then(function(){var H=g._dbInfo;H.db.transaction(function(V){tn(V,H,"SELECT key FROM "+H.storeName+" WHERE id = ? LIMIT 1",[h+1],function(W,G){var K=G.rows.length?G.rows.item(0).key:null;N(K)},function(W,G){A(G)})})}).catch(A)});return v(D,$),D}function Ot(h){var $=this,g=new c(function(D,N){$.ready().then(function(){var A=$._dbInfo;A.db.transaction(function(H){tn(H,A,"SELECT key FROM "+A.storeName,[],function(V,W){for(var G=[],K=0;K<W.rows.length;K++)G.push(W.rows.item(K).key);D(G)},function(V,W){N(W)})})}).catch(N)});return v(g,h),g}function Gt(h){return new c(function($,g){h.transaction(function(D){D.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(N,A){for(var H=[],V=0;V<A.rows.length;V++)H.push(A.rows.item(V).name);$({db:h,storeNames:H})},function(N,A){g(A)})},function(D){g(D)})})}function Lt(h,$){$=x.apply(this,arguments);var g=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||g.name,h.storeName=h.storeName||g.storeName);var D=this,N;return h.name?N=new c(function(A){var H;h.name===g.name?H=D._dbInfo.db:H=openDatabase(h.name,"","",0),h.storeName?A({db:H,storeNames:[h.storeName]}):A(Gt(H))}).then(function(A){return new c(function(H,V){A.db.transaction(function(W){function G(De){return new c(function(Ne,Ke){W.executeSql("DROP TABLE IF EXISTS "+De,[],function(){Ne()},function(Xe,zt){Ke(zt)})})}for(var K=[],ne=0,we=A.storeNames.length;ne<we;ne++)K.push(G(A.storeNames[ne]));c.all(K).then(function(){H()}).catch(function(De){V(De)})},function(W){V(W)})})}):N=c.reject("Invalid arguments"),v(N,$),N}var ui={_driver:"webSQLStorage",_initStorage:Xi,_support:kn(),iterate:Ki,getItem:oi,setItem:Zi,removeItem:X,clear:ae,length:at,key:Et,keys:Ot,dropInstance:Lt};function ci(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Sr(h,$){var g=h.name+"/";return h.storeName!==$.storeName&&(g+=h.storeName+"/"),g}function Ds(){var h="_localforage_support_test";try{return localStorage.setItem(h,!0),localStorage.removeItem(h),!1}catch{return!0}}function Rs(){return!Ds()||localStorage.length>0}function Ns(h){var $=this,g={};if(h)for(var D in h)g[D]=h[D];return g.keyPrefix=Sr(h,$._defaultConfig),Rs()?($._dbInfo=g,g.serializer=xr,c.resolve()):c.reject()}function Os(h){var $=this,g=$.ready().then(function(){for(var D=$._dbInfo.keyPrefix,N=localStorage.length-1;N>=0;N--){var A=localStorage.key(N);A.indexOf(D)===0&&localStorage.removeItem(A)}});return v(g,h),g}function Ls(h,$){var g=this;h=p(h);var D=g.ready().then(function(){var N=g._dbInfo,A=localStorage.getItem(N.keyPrefix+h);return A&&(A=N.serializer.deserialize(A)),A});return v(D,$),D}function zs(h,$){var g=this,D=g.ready().then(function(){for(var N=g._dbInfo,A=N.keyPrefix,H=A.length,V=localStorage.length,W=1,G=0;G<V;G++){var K=localStorage.key(G);if(K.indexOf(A)===0){var ne=localStorage.getItem(K);if(ne&&(ne=N.serializer.deserialize(ne)),ne=h(ne,K.substring(H),W++),ne!==void 0)return ne}}});return v(D,$),D}function Fs(h,$){var g=this,D=g.ready().then(function(){var N=g._dbInfo,A;try{A=localStorage.key(h)}catch{A=null}return A&&(A=A.substring(N.keyPrefix.length)),A});return v(D,$),D}function Bs(h){var $=this,g=$.ready().then(function(){for(var D=$._dbInfo,N=localStorage.length,A=[],H=0;H<N;H++){var V=localStorage.key(H);V.indexOf(D.keyPrefix)===0&&A.push(V.substring(D.keyPrefix.length))}return A});return v(g,h),g}function Ms(h){var $=this,g=$.keys().then(function(D){return D.length});return v(g,h),g}function qs(h,$){var g=this;h=p(h);var D=g.ready().then(function(){var N=g._dbInfo;localStorage.removeItem(N.keyPrefix+h)});return v(D,$),D}function js(h,$,g){var D=this;h=p(h);var N=D.ready().then(function(){$===void 0&&($=null);var A=$;return new c(function(H,V){var W=D._dbInfo;W.serializer.serialize($,function(G,K){if(K)V(K);else try{localStorage.setItem(W.keyPrefix+h,G),H(A)}catch(ne){(ne.name==="QuotaExceededError"||ne.name==="NS_ERROR_DOM_QUOTA_REACHED")&&V(ne),V(ne)}})})});return v(N,g),N}function Hs(h,$){if($=x.apply(this,arguments),h=typeof h!="function"&&h||{},!h.name){var g=this.config();h.name=h.name||g.name,h.storeName=h.storeName||g.storeName}var D=this,N;return h.name?N=new c(function(A){h.storeName?A(Sr(h,D._defaultConfig)):A(h.name+"/")}).then(function(A){for(var H=localStorage.length-1;H>=0;H--){var V=localStorage.key(H);V.indexOf(A)===0&&localStorage.removeItem(V)}}):N=c.reject("Invalid arguments"),v(N,$),N}var Us={_driver:"localStorageWrapper",_initStorage:Ns,_support:ci(),iterate:zs,getItem:Ls,setItem:js,removeItem:qs,clear:Os,length:Ms,key:Fs,keys:Bs,dropInstance:Hs},Vs=function($,g){return $===g||typeof $=="number"&&typeof g=="number"&&isNaN($)&&isNaN(g)},Ys=function($,g){for(var D=$.length,N=0;N<D;){if(Vs($[N],g))return!0;N++}return!1},Xa=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"},kr={},Ka={},Gn={INDEXEDDB:Ve,WEBSQL:ui,LOCALSTORAGE:Us},Ws=[Gn.INDEXEDDB._driver,Gn.WEBSQL._driver,Gn.LOCALSTORAGE._driver],fi=["dropInstance"],Ji=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(fi),Gs={description:"",driver:Ws.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Qs(h,$){h[$]=function(){var g=arguments;return h.ready().then(function(){return h[$].apply(h,g)})}}function ea(){for(var h=1;h<arguments.length;h++){var $=arguments[h];if($)for(var g in $)$.hasOwnProperty(g)&&(Xa($[g])?arguments[0][g]=$[g].slice():arguments[0][g]=$[g])}return arguments[0]}var Xs=(function(){function h($){l(this,h);for(var g in Gn)if(Gn.hasOwnProperty(g)){var D=Gn[g],N=D._driver;this[g]=N,kr[N]||this.defineDriver(D)}this._defaultConfig=ea({},Gs),this._config=ea({},this._defaultConfig,$),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return h.prototype.config=function(g){if((typeof g>"u"?"undefined":a(g))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var D in g){if(D==="storeName"&&(g[D]=g[D].replace(/\W/g,"_")),D==="version"&&typeof g[D]!="number")return new Error("Database version must be a number.");this._config[D]=g[D]}return"driver"in g&&g.driver?this.setDriver(this._config.driver):!0}else return typeof g=="string"?this._config[g]:this._config},h.prototype.defineDriver=function(g,D,N){var A=new c(function(H,V){try{var W=g._driver,G=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!g._driver){V(G);return}for(var K=Ji.concat("_initStorage"),ne=0,we=K.length;ne<we;ne++){var De=K[ne],Ne=!Ys(fi,De);if((Ne||g[De])&&typeof g[De]!="function"){V(G);return}}var Ke=function(){for(var Er=function(Js){return function(){var eu=new Error("Method "+Js+" is not implemented by the current driver"),Za=c.reject(eu);return v(Za,arguments[arguments.length-1]),Za}},ta=0,Zs=fi.length;ta<Zs;ta++){var na=fi[ta];g[na]||(g[na]=Er(na))}};Ke();var Xe=function(Er){kr[W]&&console.info("Redefining LocalForage driver: "+W),kr[W]=g,Ka[W]=Er,H()};"_support"in g?g._support&&typeof g._support=="function"?g._support().then(Xe,V):Xe(!!g._support):Xe(!0)}catch(zt){V(zt)}});return f(A,D,N),A},h.prototype.driver=function(){return this._driver||null},h.prototype.getDriver=function(g,D,N){var A=kr[g]?c.resolve(kr[g]):c.reject(new Error("Driver not found."));return f(A,D,N),A},h.prototype.getSerializer=function(g){var D=c.resolve(xr);return f(D,g),D},h.prototype.ready=function(g){var D=this,N=D._driverSet.then(function(){return D._ready===null&&(D._ready=D._initDriver()),D._ready});return f(N,g,g),N},h.prototype.setDriver=function(g,D,N){var A=this;Xa(g)||(g=[g]);var H=this._getSupportedDrivers(g);function V(){A._config.driver=A.driver()}function W(ne){return A._extend(ne),V(),A._ready=A._initStorage(A._config),A._ready}function G(ne){return function(){var we=0;function De(){for(;we<ne.length;){var Ne=ne[we];return we++,A._dbInfo=null,A._ready=null,A.getDriver(Ne).then(W).catch(De)}V();var Ke=new Error("No available storage method found.");return A._driverSet=c.reject(Ke),A._driverSet}return De()}}var K=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=K.then(function(){var ne=H[0];return A._dbInfo=null,A._ready=null,A.getDriver(ne).then(function(we){A._driver=we._driver,V(),A._wrapLibraryMethodsWithReady(),A._initDriver=G(H)})}).catch(function(){V();var ne=new Error("No available storage method found.");return A._driverSet=c.reject(ne),A._driverSet}),f(this._driverSet,D,N),this._driverSet},h.prototype.supports=function(g){return!!Ka[g]},h.prototype._extend=function(g){ea(this,g)},h.prototype._getSupportedDrivers=function(g){for(var D=[],N=0,A=g.length;N<A;N++){var H=g[N];this.supports(H)&&D.push(H)}return D},h.prototype._wrapLibraryMethodsWithReady=function(){for(var g=0,D=Ji.length;g<D;g++)Qs(this,Ji[g])},h.prototype.createInstance=function(g){return new h(g)},h})(),Ks=new Xs;r.exports=Ks},{3:3}]},{},[4])(4)})})(oa)),oa.exports}var bd=_d();const yd=vs(bd),Kr=yd.createInstance({name:"dnd-character-sheet",storeName:"characters"});async function wd(){const e=[];return await Kr.iterate(t=>{const n=fs(t);n&&e.push(n)}),e}async function xd(e,t){const n=Yi({slug:e,name:t});return await Kr.setItem(e,n),n}async function hs(e){try{const t=await Kr.getItem(e);return t===null?null:fs(t)}catch{return null}}async function Sd(e){await Kr.setItem(e.slug,e)}async function kd(e){await Kr.removeItem(e)}async function Ed(e,t){const{parse:n}=await Qr(async()=>{const{parse:s}=await import("./index--Ug0Gu6p.js");return{parse:s}},[]),r=await fetch(gd).then(s=>s.blob()),i=await fetch(md).then(s=>s.text()),a=n(i),l=Yi({...a,slug:e}),o=await ds(r,Lr,Or);l.avatar={...l.avatar,blob:r,...o},t.set(l)}function $d(e=0,t=0){const n=document.createElement("canvas"),r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Could not obtain context.");return{canvas:n,context:r,destroy(){n.width=0,n.height=0}}}async function Id(e){const{canvas:t,context:n}=$d(),{html2canvas:r}=await Qr(async()=>{const{html2canvas:l}=await import("./html2canvas-pro.esm-CcCRWITZ.js");return{html2canvas:l}},[]),i={"--color-white":"white","--color-black":"black","--color-paper":"white","--color-ink":"black","--color-faded:":"#ccc",color:"black",padding:"1em"};for(const[l,o]of Object.entries(i))e.style.setProperty(l,o);const a=await r(e,{backgroundColor:null,scale:2});for(const l of Object.keys(i))e.style.removeProperty(l);return t.width=a.width,t.height=a.height,n.filter='url("#pencil")',n.drawImage(a,0,0),t}var Pd=B('<p class="svelte-12j65zy">Damage taken</p> <!> <!>',1),Cd=B('<p class="svelte-12j65zy">Temp. HP</p> <!> <!>',1),Ad=B('<p class="svelte-12j65zy">Death saves:</p> <!> <!> <!>',1),Td=B("<!> <!> <!>",1),Dd=B("<!> <!>",1),Rd=B("<span>Level</span>"),Nd=B("<span>Slots</span>"),Od=B("<!> <!>",1),Ld=B('<div class="dot svelte-12j65zy"></div>'),zd=B("<!> <!>",1),Fd=B("<!> <!>",1),Bd=B('<h1 class="svelte-12j65zy"> </h1> <!> <!>',1),Md=B('<div class="wrapper svelte-12j65zy"><!></div> <!>',1),qd=B('<h1 class="svelte-12j65zy">No character found for slug: <code> </code></h1> <a href="/">Go back to character select</a>',1),jd=B("<!> <!>",1);function Hd(e,t){Se(t,!0);async function n(){try{if(!y(i)||!y(r))return;const u=await Id(y(i)),d=await new Promise(c=>u.toBlob(c,"image/png"));if(!d)throw new Error("Couldn't retrieve blob");await Ko(d,`Mini sheet ${y(r).name}.png`)}catch{Ii("Something went wrong downloading the image.")}}var r,i,a=Wr([async()=>r=await zi(()=>hs(t.params.slug)),()=>i=Ae(null)]),l=jd(),o=Q(l);lt(o,[a[0]],void 0,u=>{let d=Oe(()=>y(r)?`${y(r).name}`:"Not Found");Vi(o,{get title(){return y(d)}})});var s=C(o,2);lt(s,[a[0]],[()=>y(r)],(u,d)=>{var c=f=>{re(f,{column:!0,align:"center",children:(p,x)=>{var m=Md(),_=Q(m),P=L(_);et(P,{children:(F,k)=>{re(F,{column:!0,children:(b,I)=>{var z=Bd(),M=Q(z),E=L(M,!0);O(M);var q=C(M,2);re(q,{children:(Y,Z)=>{var J=Dd(),te=Q(J);et(te,{small:!0,noshadow:!0,nopadding:!0,children:(se,pe)=>{lt(se,[a[0]],void 0,S=>{Va(S,{get avatar(){return y(r).avatar}})})},$$slots:{default:!0}});var ie=C(te,2);re(ie,{column:!0,children:(se,pe)=>{var S=Td(),ee=Q(S);et(ee,{flex:!0,small:!0,noshadow:!0,children:(ue,be)=>{re(ue,{column:!0,children:(ce,Ie)=>{var Pe=Pd(),Ce=C(Q(Pe),2);bn(Ce,{});var Ue=C(Ce,2);me(Ue,{}),T(ce,Pe)},$$slots:{default:!0}})},$$slots:{default:!0}});var ge=C(ee,2);et(ge,{flex:!0,small:!0,noshadow:!0,children:(ue,be)=>{re(ue,{column:!0,children:(ce,Ie)=>{var Pe=Cd(),Ce=C(Q(Pe),2);bn(Ce,{});var Ue=C(Ce,2);me(Ue,{}),T(ce,Pe)},$$slots:{default:!0}})},$$slots:{default:!0}});var w=C(ge,2);re(w,{column:!0,sm:!0,children:(ue,be)=>{var ce=Ad(),Ie=C(Q(ce),2);bn(Ie,{});var Pe=C(Ie,2);Ai(Pe,{label:"Success"});var Ce=C(Pe,2);Ai(Ce,{label:"Failures"}),T(ue,ce)},$$slots:{default:!0}}),T(se,S)},$$slots:{default:!0}}),T(Y,J)},$$slots:{default:!0}});var j=C(q,2);lt(j,[a[0]],[()=>y(r).spells.length>0&&y(r).spellSlots.length>0],(Y,Z)=>{var J=te=>{Me(te,{children:(ie,se)=>{var pe=Fd(),S=Q(pe);Me(S,{row:!0,children:(ge,w)=>{var ue=Od(),be=Q(ue);Me(be,{cell:!0,right:!0,children:(Ie,Pe)=>{var Ce=Rd();T(Ie,Ce)},$$slots:{default:!0}});var ce=C(be,2);Me(ce,{cell:!0,children:(Ie,Pe)=>{var Ce=Nd();T(Ie,Ce)},$$slots:{default:!0}}),T(ge,ue)},$$slots:{default:!0}});var ee=C(S,2);lt(ee,[a[0]],[()=>y(r).spellSlots],(ge,w)=>{Tt(ge,17,()=>y(w),Zt,(ue,be)=>{Me(ue,{row:!0,children:(ce,Ie)=>{var Pe=zd(),Ce=Q(Pe);Me(Ce,{cell:!0,right:!0,children:(We,kt)=>{Ee();var Ve=Ze();de(()=>Be(Ve,y(be).level)),T(We,Ve)},$$slots:{default:!0}});var Ue=C(Ce,2);Me(Ue,{cell:!0,children:(We,kt)=>{re(We,{sm:!0,children:(Ve,kn)=>{var Ge=Ut(),Qe=Q(Ge);Tt(Qe,17,()=>Array.from({length:y(be).amount}),Zt,(st,Ye)=>{var bt=Ld();T(st,bt)}),T(Ve,Ge)},$$slots:{default:!0}})},$$slots:{default:!0}}),T(ce,Pe)},$$slots:{default:!0}})})}),T(ie,pe)},$$slots:{default:!0}})};ze(Y,te=>{y(Z)&&te(J)})}),de(()=>Be(E,y(r).name),void 0,void 0,[a[0]]),T(b,z)},$$slots:{default:!0}})},$$slots:{default:!0}}),O(_),vo([a[1]],()=>{Vn(_,F=>oe(i,F),()=>y(i))});var R=C(_,2);lt(R,[a[1]],void 0,F=>{dt(R,{get onclick(){return n},children:(k,b)=>{Ee();var I=Ze("Download");T(k,I)},$$slots:{default:!0}})}),T(p,m)},$$slots:{default:!0}})},v=f=>{var p=qd(),x=Q(p),m=C(L(x)),_=L(m,!0);O(m),O(x);var P=C(x,2);Mr(P,R=>Pi?.(R)),de(()=>Be(_,t.params.slug),void 0,void 0,[a[0]]),T(f,p)};ze(u,f=>{y(d)?f(c):f(v,!1)})}),T(e,l),ke()}var Ud=B('<div class="grid svelte-1hhz0mg"><div class="inner svelte-1hhz0mg"><!></div></div>');function Vd(e,t){var n=Ud(),r=L(n),i=L(r);pt(i,()=>t.children??Re),O(r),O(n),T(e,n)}var Yd=B('<h1 class="svelte-1udyrqm"> </h1> <!>',1),Wd=B('<div class="padding svelte-1udyrqm"><!></div>'),Gd=B('<div class="children svelte-1udyrqm"><!></div>'),Qd=B('<div class="inner svelte-1udyrqm"><!> <!></div>');function Pt(e,t){et(e,{get grid(){return t.grid},nopadding:!0,children:(n,r)=>{var i=Qd(),a=L(i);{var l=u=>{var d=Yd(),c=Q(d),v=L(c,!0);O(c);var f=C(c,2);me(f,{}),de(()=>Be(v,t.title)),T(u,d)};ze(a,u=>{t.title&&u(l)})}var o=C(a,2);{var s=u=>{var d=Gd(),c=L(d);{var v=p=>{Vd(p,{children:(x,m)=>{var _=Ut(),P=Q(_);pt(P,()=>t.children),T(x,_)}})},f=p=>{var x=Wd(),m=L(x);pt(m,()=>t.children),O(x),T(p,x)};ze(c,p=>{t.grid?p(v):p(f,!1)})}O(d),T(u,d)};ze(o,u=>{t.children&&u(s)})}O(i),T(n,i)},$$slots:{default:!0}})}var Xd=B("<span> </span>"),Kd=B("<span> </span>"),Zd=B("<p> </p> <p><!> <!></p>",1),Jd=B("<span>View Sheet</span>"),ev=B("<span>View mini sheet</span>"),tv=B('<a class="svelte-19e1lap"><!></a> <a class="svelte-19e1lap"><!></a>',1),nv=B("<!> <!>",1),rv=B('<!> <!> <!> <!> <div class="bottom svelte-19e1lap"><!></div>',1);function iv(e,t){Se(t,!0),Pt(e,{get title(){return t.character.name},children:(n,r)=>{re(n,{column:!0,children:(i,a)=>{var l=rv(),o=Q(l);et(o,{nopadding:!0,noshadow:!0,small:!0,children:(f,p)=>{Va(f,{get avatar(){return t.character.avatar}})}});var s=C(o,2);re(s,{column:!0,children:(f,p)=>{var x=Zd(),m=Q(x),_=L(m);O(m);var P=C(m,2),R=L(P);{var F=I=>{var z=Xd(),M=L(z);O(z),de(()=>Be(M,`Class: ${t.character.class??""}`)),T(I,z)};ze(R,I=>{t.character.class&&I(F)})}var k=C(R,2);{var b=I=>{var z=Kd(),M=L(z);O(z),de(()=>Be(M,`(${t.character.subclass??""})`)),T(I,z)};ze(k,I=>{t.character.subclass&&I(b)})}O(P),de(()=>Be(_,`Level: ${t.character.level??""}`)),T(f,x)},$$slots:{default:!0}});var u=C(s,2);bn(u);var d=C(u,2);me(d,{});var c=C(d,2),v=L(c);re(v,{column:!0,justify:"start",children:(f,p)=>{var x=nv(),m=Q(x);re(m,{children:(R,F)=>{var k=tv(),b=Q(k),I=L(b);Ci(I,{children:(E,q)=>{var j=Jd();T(E,j)}}),O(b),Mr(b,E=>Pi?.(E));var z=C(b,2),M=L(z);Ci(M,{children:(E,q)=>{var j=ev();T(E,j)}}),O(z),Mr(z,E=>Pi?.(E)),de((E,q)=>{Rt(b,"href",E),Rt(z,"href",q)},[()=>Qt.characterSheet(t.character.slug),()=>Qt.characterMiniSheet(t.character.slug)]),T(R,k)},$$slots:{default:!0}});var _=C(m,2);{var P=R=>{dt(R,{get onclick(){return t.onDelete},children:(F,k)=>{Ee();var b=Ze("Delete");T(F,b)},$$slots:{default:!0}})};ze(_,R=>{t.onDelete&&R(P)})}T(f,x)},$$slots:{default:!0}}),O(c),T(i,l)},$$slots:{default:!0}})}}),ke()}var av=B('<div class="modal svelte-ta60gp"><div><!></div></div>');function lv(e,t){Se(t,!0);function n(l){l.key==="Escape"&&(l.stopPropagation(),l.preventDefault(),t.onclose?.())}var r=av();Kt("keydown",Rn,n);var i=L(r),a=L(i);Pt(a,{get title(){return t.title},children:(l,o)=>{var s=Ut(),u=Q(s);pt(u,()=>t.children??Re),T(l,s)}}),O(i),O(r),T(e,r),ke()}var ov=B("<!> <!>",1),sv=B("<h2>Confirm Deletion</h2> <p>Are you sure you want to delete this character?</p> <!>",1),uv=B('<input required type="text" placeholder="New Character Name" class="svelte-1uilhb6"/> <!>',1),cv=B("<form><!></form>"),fv=B('<div class="grid svelte-1uilhb6"><!></div> <!> <div class="toolbar svelte-1uilhb6"><!></div>',1),dv=B("<!> <!> <!>",1);function vv(e,t){Se(t,!0);async function n(){const x=y(s).trim();if(x.length===0)return;const m=sf(x);if(y(o).find(P=>P.slug===m)){Ii("A character with that name already exists.","error");return}const _=await xd(m,x);y(o).push(_),oe(s,""),oe(o,y(o),!0)}function r(x){oe(u,x,!0)}function i(){oe(u,null)}async function a(){if(!y(u))return;const x=y(u);oe(u,null),await kd(x),oe(o,y(o).filter(m=>m.slug!==x),!0)}function l(x){x.preventDefault()}var o,s,u,d=Wr([async()=>o=Ae(In(await wd())),()=>s=Ae(""),()=>u=Ae(null)]),c=dv(),v=Q(c);Vi(v,{title:"Character select"});var f=C(v,2);lt(f,[d[2]],[()=>y(u)],(x,m)=>{var _=P=>{lt(P,[d[2]],void 0,R=>{lv(R,{get onclose(){return i},children:(F,k)=>{re(F,{column:!0,children:(b,I)=>{var z=sv(),M=C(Q(z),4);re(M,{children:(E,q)=>{var j=ov(),Y=Q(j);lt(Y,[d[2]],void 0,J=>{dt(Y,{get onclick(){return i},children:(te,ie)=>{Ee();var se=Ze("Cancel");T(te,se)},$$slots:{default:!0}})});var Z=C(Y,2);lt(Z,[d[2]],void 0,J=>{dt(Z,{get onclick(){return a},children:(te,ie)=>{Ee();var se=Ze("Delete");T(te,se)},$$slots:{default:!0}})}),T(E,j)},$$slots:{default:!0}}),T(b,z)},$$slots:{default:!0}})},$$slots:{default:!0}})})};ze(x,P=>{y(m)&&P(_)})});var p=C(f,2);re(p,{column:!0,children:(x,m)=>{var _=fv(),P=Q(_),R=L(P);lt(R,[d[0]],[()=>y(o)],(I,z)=>{Tt(I,17,()=>y(z),M=>M.slug,(M,E)=>{iv(M,{get character(){return y(E)},onDelete:()=>r(y(E).slug)})})}),O(P);var F=C(P,2);bn(F);var k=C(F,2),b=L(k);Ya(b,{children:(I,z)=>{re(I,{column:!0,xl:!0,children:(M,E)=>{re(M,{column:!0,align:"start",padding:!0,children:(q,j)=>{re(q,{children:(Y,Z)=>{var J=cv(),te=L(J);re(te,{children:(ie,se)=>{var pe=uv(),S=Q(pe);rr(S);var ee=C(S,2);lt(ee,[d[2]],void 0,ge=>{dt(ee,{type:"submit",get onclick(){return n},children:(w,ue)=>{Ee();var be=Ze("Create New Character");T(w,be)},$$slots:{default:!0}})}),vo([d[1]],()=>{ir(S,()=>y(s),ge=>oe(s,ge))}),T(ie,pe)},$$slots:{default:!0}}),O(J),Kt("submit",J,l),T(Y,J)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}}),O(k),T(x,_)}}),T(e,c),ke()}function hv(e){const t=n=>{if(n!=null){if(typeof n=="string"){const r=n.trim();return r===""||r.toLowerCase()==="none"?void 0:n}if(typeof n=="number")return n===0?void 0:n;if(Array.isArray(n)){const r=n.map(i=>t(i)).filter(i=>i!==void 0);return r.length===0?void 0:r}if(typeof n=="object"){const r=Object.entries(n).map(([i,a])=>[i,t(a)]).filter(([,i])=>i!==void 0);return r.length===0?void 0:Object.fromEntries(r)}return n}};return t(e)??{}}async function pv(e){let t=structuredClone(e);return t=hv(t),t=aa(t,"slug"),t.avatar&&(t.avatar.blob=null),t.spellSlots?.length===0&&(t=aa(t,"spellSlots")),t.weapons?.length===0&&(t=aa(t,"weapons")),(await Qr(()=>import("./index--Ug0Gu6p.js"),[])).stringify(t)}var gv=B('<label class="checkbox svelte-136uhkj"><!> <input type="checkbox" class="svelte-136uhkj"/></label>');function mv(e,t){Se(t,!0);const n=()=>je(tt,"$appSettings",r),[r,i]=it();let a=ht(t,"checked",15);var l=gv(),o=L(l);et(o,{nopadding:!0,absolute:!0,transparent:!0,small:!0,noshadow:!0});var s=C(o,2);rr(s),O(l),de(()=>s.disabled=!n().edit),Fc(s,a),T(e,l),ke(),i()}var _v=B("<div><!></div>");function bv(e,t){const n=ht(t,"hide",3,!0);var r=_v();let i;var a=L(r);pt(a,()=>t.children??Re),O(r),de(()=>i=Dt(r,1,"svelte-c0fsxz",null,i,{hide:n()})),T(e,r)}var yv=B('<input class="svelte-8ff5h4"/>'),wv=B('<div class="svelte-8ff5h4"> </div>');function He(e,t){Se(t,!0);const n=()=>je(tt,"$appSettings",r),[r,i]=it();let a=ht(t,"value",15);const l=Oe(()=>t.type??typeof a()=="number"?"number":"text"),o=Oe(()=>n().edit);var s=Ut(),u=Q(s);{var d=v=>{var f=yv();rr(f),de(()=>Rt(f,"type",y(l))),ir(f,a),T(v,f)},c=v=>{var f=wv(),p=L(f,!0);O(f),de(()=>Be(p,a())),T(v,f)};ze(u,v=>{y(o)?v(d):v(c,!1)})}T(e,s),ke(),i()}var xv=B('<div class="value svelte-1ndak0x"><!></div> <button type="button">delete</button>',1),Sv=B("<!> <!>",1),kv=B("<strong>Qty</strong>"),Ev=B("<strong>Item</strong>"),$v=B("<strong>Notes</strong>"),Iv=B("<!> <!> <!>",1),Pv=B('<span class="value svelte-1ndak0x"> </span>'),Cv=B('<span class="value svelte-1ndak0x"> </span>'),Av=B('<span class="value svelte-1ndak0x"> </span>'),Tv=B("<!> <!> <!>",1),Dv=B("<!> <!>",1),Rv=B('<div class="wrapper svelte-1ndak0x"><!></div>');function Nv(e,t){Se(t,!0);const n=()=>je(t.character,"$character",i),r=()=>je(tt,"$appSettings",i),[i,a]=it(),l=Oe(()=>n().inventory.flatMap(f=>{if(!f.trim())return[];const p=f.trim().match(/^(\d+)\s+(.*)$/),x=p?Number(p[1]):1,m=p?p[2]:f.trim(),[_,P]=cf(m,"|");return{count:x,name:_,description:P}}));function o(){t.character.update(f=>(f.inventory.push(""),f))}function s(f){t.character.update(p=>(p.inventory.splice(f,1),p))}var u=Rv(),d=L(u);{var c=f=>{re(f,{column:!0,children:(p,x)=>{var m=Sv(),_=Q(m);Tt(_,1,()=>n().inventory,Zt,(R,F,k)=>{re(R,{align:"center",children:(b,I)=>{var z=xv(),M=Q(z),E=L(M);He(E,{get value(){return n().inventory[k]},set value(j){he(t.character,U(n).inventory[k]=j,U(n))}}),O(M);var q=C(M,2);q.__click=()=>s(k),T(b,z)},$$slots:{default:!0}})});var P=C(_,2);dt(P,{onclick:o,children:(R,F)=>{Ee();var k=Ze("Add item");T(R,k)},$$slots:{default:!0}}),T(p,m)}})},v=f=>{Me(f,{cells:3,children:(p,x)=>{var m=Dv(),_=Q(m);Me(_,{row:!0,children:(R,F)=>{var k=Iv(),b=Q(k);Me(b,{cell:!0,children:(M,E)=>{var q=kv();T(M,q)},$$slots:{default:!0}});var I=C(b,2);Me(I,{cell:!0,children:(M,E)=>{var q=Ev();T(M,q)},$$slots:{default:!0}});var z=C(I,2);Me(z,{cell:!0,children:(M,E)=>{var q=$v();T(M,q)},$$slots:{default:!0}}),T(R,k)},$$slots:{default:!0}});var P=C(_,2);Tt(P,17,()=>y(l),Zt,(R,F)=>{Me(R,{row:!0,children:(k,b)=>{var I=Tv(),z=Q(I);Me(z,{cell:!0,children:(q,j)=>{var Y=Pv(),Z=L(Y,!0);O(Y),de(()=>Be(Z,y(F).count)),T(q,Y)},$$slots:{default:!0}});var M=C(z,2);Me(M,{cell:!0,children:(q,j)=>{var Y=Cv(),Z=L(Y,!0);O(Y),de(()=>Be(Z,y(F).name)),T(q,Y)},$$slots:{default:!0}});var E=C(M,2);Me(E,{cell:!0,children:(q,j)=>{var Y=Av(),Z=L(Y,!0);O(Y),de(()=>Be(Z,y(F).description)),T(q,Y)},$$slots:{default:!0}}),T(k,I)},$$slots:{default:!0}})}),T(p,m)},$$slots:{default:!0}})};ze(d,f=>{r().edit?f(c):f(v,!1)})}O(u),T(e,u),ke(),a()}Nt(["click"]);function Wa(e,t){Se(t,!0);const n=Oe(()=>Qo(t.modifier));Ee();var r=Ze();de(()=>Be(r,y(n))),T(e,r),ke()}var Ov=B('<div class="container"><div><div class="inner svelte-37b3kl"><!></div></div></div>');function ps(e,t){var n=Ov(),r=L(n);let i;var a=L(r),l=L(a);pt(l,()=>t.children??Re),O(a),O(r),O(n),de(()=>i=Dt(r,1,"page svelte-37b3kl",null,i,{multiple:t.multiple})),T(e,n)}var Lv=B('<button type="button">delete</button>'),zv=B('<div class="line svelte-19rqkn5"><div class="value svelte-19rqkn5"><!></div> <!> <div class="value svelte-19rqkn5"><!></div> <!></div> <!>',1),Fv=B('<div class="line svelte-19rqkn5"><span>Level</span> <!> <span>Slots</span></div> <!> <!> <!>',1);function Bv(e,t){Se(t,!0);const n=()=>je(t.character,"$character",i),r=()=>je(tt,"$appSettings",i),[i,a]=it();function l(){n().spellSlots.push({level:1,amount:0}),he(t.character,U(n).spellSlots=n().spellSlots,U(n))}function o(s){n().spellSlots.splice(s,1),he(t.character,U(n).spellSlots=n().spellSlots,U(n))}re(e,{column:!0,sm:!0,children:(s,u)=>{var d=Fv(),c=Q(d),v=C(L(c),2);me(v,{vertical:!0}),Ee(2),O(c);var f=C(c,2);me(f,{});var p=C(f,2);Tt(p,1,()=>n().spellSlots,Zt,(_,P,R)=>{var F=zv(),k=Q(F),b=L(k),I=L(b);He(I,{get value(){return y(P).level},set value(Z){y(P).level=Z,gn(i,"$character")}}),O(b);var z=C(b,2);me(z,{vertical:!0});var M=C(z,2),E=L(M);He(E,{type:"number",get value(){return y(P).amount},set value(Z){y(P).amount=Z,gn(i,"$character")}}),O(M);var q=C(M,2);{var j=Z=>{var J=Lv();J.__click=()=>o(R),T(Z,J)};ze(q,Z=>{r().edit&&Z(j)})}O(k);var Y=C(k,2);me(Y,{}),T(_,F)});var x=C(p,2);{var m=_=>{dt(_,{onclick:l,children:(P,R)=>{Ee();var F=Ze("Add spellslot level");T(P,F)},$$slots:{default:!0}})};ze(x,_=>{r().edit&&_(m)})}T(s,d)},$$slots:{default:!0}}),ke(),a()}Nt(["click"]);var Mv=B("<textarea></textarea>"),qv=B("<div> </div>");function Il(e,t){Se(t,!0);const n=()=>je(tt,"$appSettings",r),[r,i]=it();let a=ht(t,"value",15),l=Ae(null);const o=()=>{y(l)&&(y(l).style.height="auto",y(l).style.minHeight=`${y(l).scrollHeight}px`)};on(()=>{o(),t.autofocus&&y(l)?.focus({preventScroll:!0})});var s=Ut();Kt("resize",Rn,o);var u=Q(s);{var d=v=>{var f=Mv();Ju(f),f.__input=o;let p;Vn(f,x=>oe(l,x),()=>y(l)),de(()=>p=Dt(f,1,"textarea svelte-1ilrf3m",null,p,{nopadding:t.nopadding})),ir(f,a),T(v,f)},c=v=>{var f=qv();let p;var x=L(f,!0);O(f),de(()=>{p=Dt(f,1,"textarea svelte-1ilrf3m",null,p,{nopadding:t.nopadding}),Be(x,a())}),T(v,f)};ze(u,v=>{n().edit?v(d):v(c,!1)})}T(e,s),ke(),i()}Nt(["input"]);var jv=B('<p>Spell DC</p> <!> <p class="value big svelte-mrvj8r"> </p>',1),Hv=B('<p>Spellcasting</p> <!> <p class="value big svelte-mrvj8r"><!></p>',1),Uv=B("<!> <!> <!> <!> <div><!></div>",1),Vv=B("<span>Prepared</span>"),Yv=B("<span>Spell Name</span>"),Wv=B("<span>Notes</span>"),Gv=B("<!> <!> <!>",1),Qv=B('<div class="value svelte-mrvj8r"><!></div>'),Xv=B('<div class="value svelte-mrvj8r"><!></div>'),Kv=B('<button type="button">delete</button>'),Zv=B("<!> <!> <!> <!>",1),Jv=B("<!> <!>",1),eh=B("<!> <!> <!>",1),th=B('<div class="spells svelte-mrvj8r"><!></div>'),nh=B('<div class="side svelte-mrvj8r"><!></div>'),rh=B('<div class="wrapper svelte-mrvj8r"><!> <div class="inventory svelte-mrvj8r"><!></div></div>');function ih(e,t){Se(t,!0);const n=()=>je(t.character,"$character",i),r=()=>je(tt,"$appSettings",i),[i,a]=it(),l=Oe(()=>{const d=n().spellcastingAbility;return d==="none"?0:Hi(n().abilityScores[d])}),o=Oe(()=>8+y(l)+n().proficiencyBonus);function s(){t.character.update(d=>(d.spells.push(Ua(cs,{})),d))}function u(d){t.character.update(c=>(c.spells.splice(d,1),c))}ps(e,{children:(d,c)=>{var v=rh(),f=L(v);{let m=Oe(()=>n().spells.length===0);bv(f,{get hide(){return y(m)},children:(_,P)=>{var R=nh(),F=L(R);re(F,{column:!0,children:(k,b)=>{var I=th(),z=L(I);Pt(z,{title:"Spells",children:(M,E)=>{re(M,{column:!0,children:(q,j)=>{re(q,{column:!0,justify:"start",align:"start",children:(Y,Z)=>{var J=eh(),te=Q(J);re(te,{nogrow:!0,children:(S,ee)=>{et(S,{noshadow:!0,small:!0,children:(ge,w)=>{re(ge,{sm:!0,children:(ue,be)=>{var ce=Uv(),Ie=Q(ce);re(Ie,{column:!0,align:"center",sm:!0,children:(Ve,kn)=>{var Ge=jv(),Qe=C(Q(Ge),2);me(Qe,{});var st=C(Qe,2),Ye=L(st,!0);O(st),de(()=>Be(Ye,y(o))),T(Ve,Ge)},$$slots:{default:!0}});var Pe=C(Ie,2);me(Pe,{vertical:!0});var Ce=C(Pe,2);re(Ce,{column:!0,align:"center",sm:!0,children:(Ve,kn)=>{var Ge=Hv(),Qe=C(Q(Ge),2);me(Qe,{});var st=C(Qe,2),Ye=L(st);Wa(Ye,{get modifier(){return y(l)}}),O(st),T(Ve,Ge)},$$slots:{default:!0}});var Ue=C(Ce,2);me(Ue,{vertical:!0});var We=C(Ue,2),kt=L(We);Bv(kt,{get character(){return t.character}}),O(We),T(ue,ce)},$$slots:{default:!0}})}})},$$slots:{default:!0}});var ie=C(te,2);Me(ie,{cells:3,fillCell:3,children:(S,ee)=>{var ge=Jv(),w=Q(ge);Me(w,{row:!0,children:(be,ce)=>{var Ie=Gv(),Pe=Q(Ie);Me(Pe,{cell:!0,children:(We,kt)=>{var Ve=Vv();T(We,Ve)},$$slots:{default:!0}});var Ce=C(Pe,2);Me(Ce,{cell:!0,children:(We,kt)=>{var Ve=Yv();T(We,Ve)},$$slots:{default:!0}});var Ue=C(Ce,2);Me(Ue,{cell:!0,children:(We,kt)=>{var Ve=Wv();T(We,Ve)},$$slots:{default:!0}}),T(be,Ie)},$$slots:{default:!0}});var ue=C(w,2);Tt(ue,1,()=>n().spells,Zt,(be,ce,Ie)=>{Me(be,{row:!0,children:(Pe,Ce)=>{var Ue=Zv(),We=Q(Ue);Me(We,{cell:!0,centered:!0,children:(Qe,st)=>{mv(Qe,{get checked(){return y(ce).prepared},set checked(Ye){y(ce).prepared=Ye,gn(i,"$character")}})},$$slots:{default:!0}});var kt=C(We,2);Me(kt,{cell:!0,children:(Qe,st)=>{var Ye=Qv(),bt=L(Ye);He(bt,{get value(){return y(ce).name},set value(dn){y(ce).name=dn,gn(i,"$character")}}),O(Ye),T(Qe,Ye)},$$slots:{default:!0}});var Ve=C(kt,2);Me(Ve,{cell:!0,children:(Qe,st)=>{var Ye=Xv(),bt=L(Ye);He(bt,{get value(){return y(ce).notes},set value(dn){y(ce).notes=dn,gn(i,"$character")}}),O(Ye),T(Qe,Ye)},$$slots:{default:!0}});var kn=C(Ve,2);{var Ge=Qe=>{Me(Qe,{cell:!0,children:(st,Ye)=>{var bt=Kv();bt.__click=()=>u(Ie),T(st,bt)},$$slots:{default:!0}})};ze(kn,Qe=>{r().edit&&Qe(Ge)})}T(Pe,Ue)},$$slots:{default:!0}})}),T(S,ge)},$$slots:{default:!0}});var se=C(ie,2);{var pe=S=>{dt(S,{onclick:s,children:(ee,ge)=>{Ee();var w=Ze("Add spell");T(ee,w)},$$slots:{default:!0}})};ze(se,S=>{r().edit&&S(pe)})}T(Y,J)},$$slots:{default:!0}})},$$slots:{default:!0}})}}),O(I),T(k,I)},$$slots:{default:!0}}),O(R),T(_,R)},$$slots:{default:!0}})}var p=C(f,2),x=L(p);Pt(x,{title:"Inventory",children:(m,_)=>{Nv(m,{get character(){return t.character}})}}),O(p),O(v),T(d,v)}}),ke(),a()}Nt(["click"]);var ah=B('<div><input type="range" min="0" max="1" step="0.01"/></div> <div><input type="range" min="0" max="1" step="0.01"/></div> <div><input type="range" min="0" max="1" step="0.01"/></div> <input type="file" accept="image/*"/>',1),lh=B('<div class="controls svelte-112qgxv"><!></div>'),oh=B('<div class="container svelte-112qgxv"><div class="canvas"><!></div> <!></div>');function sh(e,t){Se(t,!0);const n=()=>je(tt,"$appSettings",i),r=()=>je(t.character,"$character",i),[i,a]=it();let l=Oe(()=>n().edit),o=Ae(null),s=Ae(null);function u(f){y(l)&&oe(s,{x:r().avatar.x,y:r().avatar.y,pointerX:f.clientX,pointerY:f.clientY},!0)}function d(f){if(!y(l)||!y(s)||!y(o))return;const p=f.clientX-y(s).pointerX,x=f.clientY-y(s).pointerY,m=Or/Lr*r().avatar.scale;he(t.character,U(r).avatar.x=y(s).x+p*m,U(r)),he(t.character,U(r).avatar.y=y(s).y+x*m,U(r))}function c(){y(l)&&oe(s,null)}function v(f){if(!y(l)||(f.preventDefault(),!y(o)))return;const p=r().avatar.scale,x=Math.min(Math.max(.1,p-f.deltaY/1e3),10),m=y(o).getBoundingClientRect(),_=f.clientX-m.left,P=f.clientY-m.top,R=_/y(o).offsetWidth*Lr,F=P/y(o).offsetHeight*Or,k=(R-r().avatar.x)/p,b=(F-r().avatar.y)/p;he(t.character,U(r).avatar.scale=x,U(r)),he(t.character,U(r).avatar.x=R-k*x,U(r)),he(t.character,U(r).avatar.y=F-b*x,U(r))}Kt("mouseup",Rn,c),Kt("pointermove",Rn,d),et(e,{nopadding:!0,children:(f,p)=>{var x=oh(),m=L(x);m.__pointerdown=u;var _=L(m);{let F=Oe(()=>y(s)!==null);Va(_,{get avatar(){return r().avatar},get disableEffects(){return y(F)}})}O(m),Vn(m,F=>oe(o,F),()=>y(o));var P=C(m,2);{var R=F=>{var k=lh(),b=L(k);Pt(b,{children:(I,z)=>{re(I,{column:!0,sm:!0,children:(M,E)=>{var q=ah(),j=Q(q),Y=L(j);rr(Y),O(j);var Z=C(j,2),J=L(Z);rr(J),O(Z);var te=C(Z,2),ie=L(te);rr(ie),O(te);var se=C(te,2);se.__input=async pe=>{const S=pe.currentTarget.files?.[0];if(S){const ee=await ds(S,Lr,Or);he(t.character,U(r).avatar.blob=S,U(r)),he(t.character,U(r).avatar.x=ee.x,U(r)),he(t.character,U(r).avatar.y=ee.y,U(r)),he(t.character,U(r).avatar.scale=ee.scale,U(r))}pe.currentTarget.value=""},ir(Y,()=>r().avatar.contrast,pe=>he(t.character,U(r).avatar.contrast=pe,U(r))),ir(J,()=>r().avatar.gray,pe=>he(t.character,U(r).avatar.gray=pe,U(r))),ir(ie,()=>r().avatar.black,pe=>he(t.character,U(r).avatar.black=pe,U(r))),T(M,q)},$$slots:{default:!0}})}}),O(k),T(F,k)};ze(P,F=>{n().edit&&F(R)})}O(x),Kt("wheel",m,v),T(f,x)}}),ke(),a()}Nt(["pointerdown","input"]);var uh=B("<!> <span>current</span>",1),ch=B('<div class="value svelte-10uhbq3"><!></div> <!> <span>max</span>',1),fh=B("<!> <!> <!>",1),dh=B('<div class="label svelte-10uhbq3">Hitpoints</div> <!>',1),vh=B('<div style="height:3em;"></div> <!> <span>spend</span>',1),hh=B('<div class="value svelte-10uhbq3"><!></div> <!> <span>current</span>',1),ph=B('<div class="label svelte-10uhbq3">Hit Dice</div> <!> <!> <!>',1),gh=B('<div class="label svelte-10uhbq3">Death<br/>Saves</div> <!> <!> <!>',1),mh=B('<div class="inner svelte-10uhbq3"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!> <!> <!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div>'),_h=B('<div class="container svelte-10uhbq3"><div class="armor svelte-10uhbq3"><div class="inner svelte-10uhbq3"><div class="label svelte-10uhbq3">Armor<br/>Class</div> <!> <div class="value svelte-10uhbq3"><!></div></div></div> <!></div>');function bh(e,t){Se(t,!0);const n=()=>je(t.character,"$character",r),[r,i]=it();var a=_h(),l=L(a),o=L(l),s=C(L(o),2);me(s,{});var u=C(s,2),d=L(u);He(d,{get value(){return n().armorClass},set value(v){he(t.character,U(n).armorClass=v,U(n))}}),O(u),O(o),O(l);var c=C(l,2);Pt(c,{children:(v,f)=>{var p=mh(),x=L(p);ol(x,()=>({"--flex-grow":"1"})),re(x.lastChild,{column:!0,align:"center",children:(F,k)=>{var b=dh(),I=C(Q(b),2);re(I,{full:!0,children:(z,M)=>{var E=fh(),q=Q(E);re(q,{column:!0,align:"center",justify:"end",full:!0,children:(Z,J)=>{var te=uh(),ie=Q(te);me(ie,{}),Ee(2),T(Z,te)},$$slots:{default:!0}});var j=C(q,2);me(j,{vertical:!0});var Y=C(j,2);re(Y,{column:!0,align:"center",justify:"end",full:!0,children:(Z,J)=>{var te=ch(),ie=Q(te),se=L(ie);He(se,{get value(){return n().hitPoints},set value(S){he(t.character,U(n).hitPoints=S,U(n))}}),O(ie);var pe=C(ie,2);me(pe,{}),Ee(2),T(Z,te)},$$slots:{default:!0}}),T(z,E)},$$slots:{default:!0}}),T(F,b)},$$slots:{default:!0}}),O(x);var m=C(x,2);me(m,{vertical:!0});var _=C(m,2);re(_,{column:!0,align:"center",sm:!0,children:(F,k)=>{var b=ph(),I=C(Q(b),2);bn(I);var z=C(I,2);re(z,{column:!0,full:!0,children:(E,q)=>{var j=vh(),Y=C(Q(j),2);me(Y,{}),Ee(2),T(E,j)},$$slots:{default:!0}});var M=C(z,2);re(M,{column:!0,full:!0,children:(E,q)=>{var j=hh(),Y=Q(j),Z=L(Y);He(Z,{get value(){return n().hitDice},set value(te){he(t.character,U(n).hitDice=te,U(n))}}),O(Y);var J=C(Y,2);me(J,{}),Ee(2),T(E,j)},$$slots:{default:!0}}),T(F,b)},$$slots:{default:!0}});var P=C(_,2);me(P,{vertical:!0});var R=C(P,2);ol(R,()=>({"--flex-grow":"0"})),re(R.lastChild,{column:!0,children:(F,k)=>{var b=gh(),I=C(Q(b),2);bn(I);var z=C(I,2);Ai(z,{label:"successes"});var M=C(z,2);Ai(M,{label:"failures"}),T(F,b)},$$slots:{default:!0}}),O(R),O(p),T(v,p)}}),O(a),T(e,a),ke(),i()}var yh=B('<div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Level</div>',1),wh=B('<div class="inner svelte-q5a7vm"><div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Player name</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Alignment</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Background</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Class</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Species</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Subclass</div></div> <div class="level svelte-q5a7vm"><!></div></div>');function xh(e,t){Se(t,!0);const n=()=>je(t.character,"$character",r),[r,i]=it();et(e,{children:(a,l)=>{var o=wh(),s=L(o),u=L(s),d=L(u);He(d,{get value(){return n().playerName},set value(se){he(t.character,U(n).playerName=se,U(n))}}),O(u);var c=C(u,2);me(c,{}),Ee(2),O(s);var v=C(s,2),f=L(v),p=L(f);He(p,{get value(){return n().alignment},set value(se){he(t.character,U(n).alignment=se,U(n))}}),O(f);var x=C(f,2);me(x,{}),Ee(2),O(v);var m=C(v,2),_=L(m),P=L(_);He(P,{get value(){return n().background},set value(se){he(t.character,U(n).background=se,U(n))}}),O(_);var R=C(_,2);me(R,{}),Ee(2),O(m);var F=C(m,2),k=L(F),b=L(k);He(b,{get value(){return n().class},set value(se){he(t.character,U(n).class=se,U(n))}}),O(k);var I=C(k,2);me(I,{}),Ee(2),O(F);var z=C(F,2),M=L(z),E=L(M);He(E,{get value(){return n().species},set value(se){he(t.character,U(n).species=se,U(n))}}),O(M);var q=C(M,2);me(q,{}),Ee(2),O(z);var j=C(z,2),Y=L(j),Z=L(Y);He(Z,{get value(){return n().subclass},set value(se){he(t.character,U(n).subclass=se,U(n))}}),O(Y);var J=C(Y,2);me(J,{}),Ee(2),O(j);var te=C(j,2),ie=L(te);re(ie,{column:!0,sm:!0,align:"center",children:(se,pe)=>{var S=yh(),ee=Q(S),ge=L(ee);He(ge,{get value(){return n().level},set value(ue){he(t.character,U(n).level=ue,U(n))}}),O(ee);var w=C(ee,2);me(w,{}),Ee(2),T(se,S)},$$slots:{default:!0}}),O(te),O(o),T(a,o)}}),ke(),i()}const Pl=document.createElement("i");function gs(e){const t="&"+e+";";Pl.innerHTML=t;const n=Pl.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function un(e,t,n,r){const i=e.length;let a=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(t,0),e.splice(...l),a+=1e4,t+=1e4}function vt(e,t){return e.length>0?(un(e,e.length,0,t),e):t}const Ea={}.hasOwnProperty;function Sh(e){const t={};let n=-1;for(;++n<e.length;)kh(t,e[n]);return t}function kh(e,t){let n;for(n in t){const i=(Ea.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a){Ea.call(i,l)||(i[l]=[]);const o=a[l];Eh(i[l],Array.isArray(o)?o:o?[o]:[])}}}function Eh(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);un(e,0,0,r)}function $h(e){const t={};let n=-1;for(;++n<e.length;)Ih(t,e[n]);return t}function Ih(e,t){let n;for(n in t){const i=(Ea.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a)i[l]=a[l]}}function Ph(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}const Ch={'"':"quot","&":"amp","<":"lt",">":"gt"};function ms(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+Ch[n]+";"}}function qr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rn=Ln(/[A-Za-z]/),Ct=Ln(/[\dA-Za-z]/),Ah=Ln(/[#-'*+\--9=?A-Z^-~]/);function $a(e){return e!==null&&(e<32||e===127)}const Ia=Ln(/\d/),Th=Ln(/[\dA-Fa-f]/),Dh=Ln(/[!-/:-@[-`{-~]/);function fe(e){return e!==null&&e<-2}function St(e){return e!==null&&(e<0||e===32)}function Te(e){return e===-2||e===-1||e===32}const Rh=Ln(new RegExp("\\p{P}|\\p{S}","u")),Nh=Ln(/\s/);function Ln(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function pi(e,t){const n=ms(Oh(e||""));if(!t)return n;const r=n.indexOf(":"),i=n.indexOf("?"),a=n.indexOf("#"),l=n.indexOf("/");return r<0||l>-1&&r>l||i>-1&&r>i||a>-1&&r>a||t.test(n.slice(0,r))?n:""}function Oh(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let l="";if(a===37&&Ct(e.charCodeAt(n+1))&&Ct(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(l=String.fromCharCode(a,o),i=1):l="ï¿½"}else l=String.fromCharCode(a);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}const Cl={}.hasOwnProperty,Al=/^(https?|ircs?|mailto|xmpp)$/i,Lh=/^https?$/i;function zh(e){const t=e||{};let n=!0;const r={},i=[[]],a=[],l=[],s=$h([{enter:{blockQuote:J,codeFenced:pe,codeFencedFenceInfo:m,codeFencedFenceMeta:m,codeIndented:ge,codeText:Qi,content:dn,definition:kn,definitionDestinationString:Qe,definitionLabelString:m,definitionTitleString:m,emphasis:wr,htmlFlow:ai,htmlText:yr,image:ue,label:m,link:be,listItemMarker:q,listItemValue:E,listOrdered:z,listUnordered:M,paragraph:ie,reference:m,resource:Ce,resourceDestinationString:Ue,resourceTitleString:m,setextHeading:Zr,strong:Gi},exit:{atxHeading:ei,atxHeadingSequence:mr,autolinkEmail:Zi,autolinkProtocol:si,blockQuote:te,characterEscapeValue:En,characterReferenceMarkerHexadecimal:oi,characterReferenceMarkerNumeric:oi,characterReferenceValue:Ki,codeFenced:w,codeFencedFence:ee,codeFencedFenceInfo:S,codeFencedFenceMeta:I,codeFlowValue:ii,codeIndented:w,codeText:xr,codeTextData:En,data:En,definition:bt,definitionDestinationString:st,definitionLabelString:Ge,definitionTitleString:Ye,emphasis:li,hardBreakEscape:_r,hardBreakTrailing:_r,htmlFlow:br,htmlFlowData:En,htmlText:br,htmlTextData:En,image:Ve,label:Ie,labelText:ce,lineEnding:ri,link:Ve,listOrdered:j,listUnordered:Y,paragraph:se,reference:I,referenceString:Pe,resource:I,resourceDestinationString:We,resourceTitleString:kt,setextHeading:ni,setextHeadingLineSequence:ti,setextHeadingText:Jr,strong:Xi,thematicBreak:tn}},...t.htmlExtensions||[]]),u={definitions:r,tightStack:l},d={buffer:m,encode:b,getData:x,lineEndingIfNeeded:k,options:t,raw:R,resume:_,setData:p,tag:P};let c=t.defaultLineEnding;return v;function v(X){let ae=-1,at=0;const Et=[];let Ot=[],Gt=[];for(;++ae<X.length;)!c&&(X[ae][1].type==="lineEnding"||X[ae][1].type==="lineEndingBlank")&&(c=X[ae][2].sliceSerialize(X[ae][1])),(X[ae][1].type==="listOrdered"||X[ae][1].type==="listUnordered")&&(X[ae][0]==="enter"?Et.push(ae):f(X.slice(Et.pop(),ae))),X[ae][1].type==="definition"&&(X[ae][0]==="enter"?(Gt=vt(Gt,X.slice(at,ae)),at=ae):(Ot=vt(Ot,X.slice(at,ae+1)),at=ae+1));Ot=vt(Ot,Gt),Ot=vt(Ot,X.slice(at)),ae=-1;const Lt=Ot;for(s.enter.null&&s.enter.null.call(d);++ae<X.length;){const ui=s[Lt[ae][0]],ci=Lt[ae][1].type,Sr=ui[ci];Cl.call(ui,ci)&&Sr&&Sr.call({sliceSerialize:Lt[ae][2].sliceSerialize,...d},Lt[ae][1])}return s.exit.null&&s.exit.null.call(d),i[0].join("")}function f(X){const ae=X.length;let at=0,Et=0,Ot=!1,Gt;for(;++at<ae;){const Lt=X[at];if(Lt[1]._container)Gt=void 0,Lt[0]==="enter"?Et++:Et--;else switch(Lt[1].type){case"listItemPrefix":{Lt[0]==="exit"&&(Gt=!0);break}case"linePrefix":break;case"lineEndingBlank":{Lt[0]==="enter"&&!Et&&(Gt?Gt=void 0:Ot=!0);break}default:Gt=void 0}}X[0][1]._loose=Ot}function p(X,ae){u[X]=ae}function x(X){return u[X]}function m(){i.push([])}function _(){return i.pop().join("")}function P(X){n&&(p("lastWasTag",!0),i[i.length-1].push(X))}function R(X){p("lastWasTag"),i[i.length-1].push(X)}function F(){R(c||`
`)}function k(){const X=i[i.length-1],ae=X[X.length-1],at=ae?ae.charCodeAt(ae.length-1):null;at===10||at===13||at===null||F()}function b(X){return x("ignoreEncode")?X:ms(X)}function I(){_()}function z(X){l.push(!X._loose),k(),P("<ol"),p("expectFirstItem",!0)}function M(X){l.push(!X._loose),k(),P("<ul"),p("expectFirstItem",!0)}function E(X){if(x("expectFirstItem")){const ae=Number.parseInt(this.sliceSerialize(X),10);ae!==1&&P(' start="'+b(String(ae))+'"')}}function q(){x("expectFirstItem")?P(">"):Z(),k(),P("<li>"),p("expectFirstItem"),p("lastWasTag")}function j(){Z(),l.pop(),F(),P("</ol>")}function Y(){Z(),l.pop(),F(),P("</ul>")}function Z(){x("lastWasTag")&&!x("slurpAllLineEndings")&&k(),P("</li>"),p("slurpAllLineEndings")}function J(){l.push(!1),k(),P("<blockquote>")}function te(){l.pop(),k(),P("</blockquote>"),p("slurpAllLineEndings")}function ie(){l[l.length-1]||(k(),P("<p>")),p("slurpAllLineEndings")}function se(){l[l.length-1]?p("slurpAllLineEndings",!0):P("</p>")}function pe(){k(),P("<pre><code"),p("fencesCount",0)}function S(){const X=_();P(' class="language-'+X+'"')}function ee(){const X=x("fencesCount")||0;X||(P(">"),p("slurpOneLineEnding",!0)),p("fencesCount",X+1)}function ge(){k(),P("<pre><code>")}function w(){const X=x("fencesCount");X!==void 0&&X<2&&u.tightStack.length>0&&!x("lastWasTag")&&F(),x("flowCodeSeenData")&&k(),P("</code></pre>"),X!==void 0&&X<2&&k(),p("flowCodeSeenData"),p("fencesCount"),p("slurpOneLineEnding")}function ue(){a.push({image:!0}),n=void 0}function be(){a.push({})}function ce(X){a[a.length-1].labelId=this.sliceSerialize(X)}function Ie(){a[a.length-1].label=_()}function Pe(X){a[a.length-1].referenceId=this.sliceSerialize(X)}function Ce(){m(),a[a.length-1].destination=""}function Ue(){m(),p("ignoreEncode",!0)}function We(){a[a.length-1].destination=_(),p("ignoreEncode")}function kt(){a[a.length-1].title=_()}function Ve(){let X=a.length-1;const ae=a[X],at=ae.referenceId||ae.labelId,Et=ae.destination===void 0?r[qr(at)]:ae;for(n=!0;X--;)if(a[X].image){n=void 0;break}ae.image?(P('<img src="'+pi(Et.destination,t.allowDangerousProtocol?void 0:Lh)+'" alt="'),R(ae.label),P('"')):P('<a href="'+pi(Et.destination,t.allowDangerousProtocol?void 0:Al)+'"'),P(Et.title?' title="'+Et.title+'"':""),ae.image?P(" />"):(P(">"),R(ae.label),P("</a>")),a.pop()}function kn(){m(),a.push({})}function Ge(X){_(),a[a.length-1].labelId=this.sliceSerialize(X)}function Qe(){m(),p("ignoreEncode",!0)}function st(){a[a.length-1].destination=_(),p("ignoreEncode")}function Ye(){a[a.length-1].title=_()}function bt(){const X=a[a.length-1],ae=qr(X.labelId);_(),Cl.call(r,ae)||(r[ae]=a[a.length-1]),a.pop()}function dn(){p("slurpAllLineEndings",!0)}function mr(X){x("headingRank")||(p("headingRank",this.sliceSerialize(X).length),k(),P("<h"+x("headingRank")+">"))}function Zr(){m(),p("slurpAllLineEndings")}function Jr(){p("slurpAllLineEndings",!0)}function ei(){P("</h"+x("headingRank")+">"),p("headingRank")}function ti(X){p("headingRank",this.sliceSerialize(X).charCodeAt(0)===61?1:2)}function ni(){const X=_();k(),P("<h"+x("headingRank")+">"),R(X),P("</h"+x("headingRank")+">"),p("slurpAllLineEndings"),p("headingRank")}function En(X){R(b(this.sliceSerialize(X)))}function ri(X){if(!x("slurpAllLineEndings")){if(x("slurpOneLineEnding")){p("slurpOneLineEnding");return}if(x("inCodeText")){R(" ");return}R(b(this.sliceSerialize(X)))}}function ii(X){R(b(this.sliceSerialize(X))),p("flowCodeSeenData",!0)}function _r(){P("<br />")}function ai(){k(),yr()}function br(){p("ignoreEncode")}function yr(){t.allowDangerousHtml&&p("ignoreEncode",!0)}function wr(){P("<em>")}function Gi(){P("<strong>")}function Qi(){p("inCodeText",!0),P("<code>")}function xr(){p("inCodeText"),P("</code>")}function li(){P("</em>")}function Xi(){P("</strong>")}function tn(){k(),P("<hr />")}function oi(X){p("characterReferenceType",X.type)}function Ki(X){const ae=this.sliceSerialize(X),at=x("characterReferenceType")?Ph(ae,x("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):gs(ae);R(b(at)),p("characterReferenceType")}function si(X){const ae=this.sliceSerialize(X);P('<a href="'+pi(ae,t.allowDangerousProtocol?void 0:Al)+'">'),R(b(ae)),P("</a>")}function Zi(X){const ae=this.sliceSerialize(X);P('<a href="'+pi("mailto:"+ae)+'">'),R(b(ae)),P("</a>")}}function qe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(s){return Te(s)?(e.enter(n),o(s)):t(s)}function o(s){return Te(s)&&a++<i?(e.consume(s),o):(e.exit(n),t(s))}}const Fh={tokenize:Bh};function Bh(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),qe(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,l(o)}function l(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return fe(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),l)}}const Mh={tokenize:qh},Tl={tokenize:jh};function qh(e){const t=this,n=[];let r=0,i,a,l;return o;function o(R){if(r<n.length){const F=n[r];return t.containerState=F[1],e.attempt(F[0].continuation,s,u)(R)}return u(R)}function s(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&P();const F=t.events.length;let k=F,b;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){b=t.events[k][1].end;break}_(r);let I=F;for(;I<t.events.length;)t.events[I][1].end={...b},I++;return un(t.events,k+1,0,t.events.slice(F)),t.events.length=I,u(R)}return o(R)}function u(R){if(r===n.length){if(!i)return v(R);if(i.currentConstruct&&i.currentConstruct.concrete)return p(R);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Tl,d,c)(R)}function d(R){return i&&P(),_(r),v(R)}function c(R){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,p(R)}function v(R){return t.containerState={},e.attempt(Tl,f,p)(R)}function f(R){return r++,n.push([t.currentConstruct,t.containerState]),v(R)}function p(R){if(R===null){i&&P(),_(0),e.consume(R);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),x(R)}function x(R){if(R===null){m(e.exit("chunkFlow"),!0),_(0),e.consume(R);return}return fe(R)?(e.consume(R),m(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(R),x)}function m(R,F){const k=t.sliceStream(R);if(F&&k.push(null),R.previous=a,a&&(a.next=R),a=R,i.defineSkip(R.start),i.write(k),t.parser.lazy[R.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<l&&(!i.events[b][1].end||i.events[b][1].end.offset>l))return;const I=t.events.length;let z=I,M,E;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(M){E=t.events[z][1].end;break}M=!0}for(_(r),b=I;b<t.events.length;)t.events[b][1].end={...E},b++;un(t.events,z+1,0,t.events.slice(I)),t.events.length=b}}function _(R){let F=n.length;for(;F-- >R;){const k=n[F];t.containerState=k[1],k[0].exit.call(t,e)}n.length=R}function P(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function jh(e,t,n){return qe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Dl(e){if(e===null||St(e)||Nh(e))return 1;if(Rh(e))return 2}function Ga(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Pa={name:"attention",resolveAll:Hh,tokenize:Uh};function Hh(e,t){let n=-1,r,i,a,l,o,s,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const c={...e[r][1].end},v={...e[n][1].start};Rl(c,-s),Rl(v,s),l={type:s>1?"strongSequence":"emphasisSequence",start:c,end:{...e[r][1].end}},o={type:s>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},a={type:s>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:s>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},e[r][1].end={...l.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=vt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=vt(u,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",a,t]]),u=vt(u,Ga(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=vt(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=vt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,un(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Uh(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Dl(r);let a;return l;function l(s){return a=s,e.enter("attentionSequence"),o(s)}function o(s){if(s===a)return e.consume(s),o;const u=e.exit("attentionSequence"),d=Dl(s),c=!d||d===2&&i||n.includes(s),v=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?c:c&&(i||!v)),u._close=!!(a===42?v:v&&(d||!c)),t(s)}}function Rl(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Vh={name:"autolink",tokenize:Yh};function Yh(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(f){return rn(f)?(e.consume(f),l):f===64?n(f):u(f)}function l(f){return f===43||f===45||f===46||Ct(f)?(r=1,o(f)):u(f)}function o(f){return f===58?(e.consume(f),r=0,s):(f===43||f===45||f===46||Ct(f))&&r++<32?(e.consume(f),o):(r=0,u(f))}function s(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||$a(f)?n(f):(e.consume(f),s)}function u(f){return f===64?(e.consume(f),d):Ah(f)?(e.consume(f),u):n(f)}function d(f){return Ct(f)?c(f):n(f)}function c(f){return f===46?(e.consume(f),r=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):v(f)}function v(f){if((f===45||Ct(f))&&r++<63){const p=f===45?v:c;return e.consume(f),p}return n(f)}}const Wi={partial:!0,tokenize:Wh};function Wh(e,t,n){return r;function r(a){return Te(a)?qe(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||fe(a)?t(a):n(a)}}const _s={continuation:{tokenize:Qh},exit:Xh,name:"blockQuote",tokenize:Gh};function Gh(e,t,n){const r=this;return i;function i(l){if(l===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return n(l)}function a(l){return Te(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function Qh(e,t,n){const r=this;return i;function i(l){return Te(l)?qe(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(_s,t,n)(l)}}function Xh(e){e.exit("blockQuote")}const bs={name:"characterEscape",tokenize:Kh};function Kh(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Dh(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const ys={name:"characterReference",tokenize:Zh};function Zh(e,t,n){const r=this;let i=0,a,l;return o;function o(c){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),s}function s(c){return c===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(c),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,l=Ct,d(c))}function u(c){return c===88||c===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(c),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=Th,d):(e.enter("characterReferenceValue"),a=7,l=Ia,d(c))}function d(c){if(c===59&&i){const v=e.exit("characterReferenceValue");return l===Ct&&!gs(r.sliceSerialize(v))?n(c):(e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(c)&&i++<a?(e.consume(c),d):n(c)}}const Nl={partial:!0,tokenize:ep},Ol={concrete:!0,name:"codeFenced",tokenize:Jh};function Jh(e,t,n){const r=this,i={partial:!0,tokenize:k};let a=0,l=0,o;return s;function s(b){return u(b)}function u(b){const I=r.events[r.events.length-1];return a=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,o=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(b)}function d(b){return b===o?(l++,e.consume(b),d):l<3?n(b):(e.exit("codeFencedFenceSequence"),Te(b)?qe(e,c,"whitespace")(b):c(b))}function c(b){return b===null||fe(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(Nl,x,F)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(b))}function v(b){return b===null||fe(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(b)):Te(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),qe(e,f,"whitespace")(b)):b===96&&b===o?n(b):(e.consume(b),v)}function f(b){return b===null||fe(b)?c(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||fe(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(b)):b===96&&b===o?n(b):(e.consume(b),p)}function x(b){return e.attempt(i,F,m)(b)}function m(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),_}function _(b){return a>0&&Te(b)?qe(e,P,"linePrefix",a+1)(b):P(b)}function P(b){return b===null||fe(b)?e.check(Nl,x,F)(b):(e.enter("codeFlowValue"),R(b))}function R(b){return b===null||fe(b)?(e.exit("codeFlowValue"),P(b)):(e.consume(b),R)}function F(b){return e.exit("codeFenced"),t(b)}function k(b,I,z){let M=0;return E;function E(J){return b.enter("lineEnding"),b.consume(J),b.exit("lineEnding"),q}function q(J){return b.enter("codeFencedFence"),Te(J)?qe(b,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):j(J)}function j(J){return J===o?(b.enter("codeFencedFenceSequence"),Y(J)):z(J)}function Y(J){return J===o?(M++,b.consume(J),Y):M>=l?(b.exit("codeFencedFenceSequence"),Te(J)?qe(b,Z,"whitespace")(J):Z(J)):z(J)}function Z(J){return J===null||fe(J)?(b.exit("codeFencedFence"),I(J)):z(J)}}}function ep(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const sa={name:"codeIndented",tokenize:np},tp={partial:!0,tokenize:rp};function np(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),qe(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?s(u):fe(u)?e.attempt(tp,l,s)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||fe(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),o)}function s(u){return e.exit("codeIndented"),t(u)}}function rp(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):fe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):qe(e,a,"linePrefix",5)(l)}function a(l){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):fe(l)?i(l):n(l)}}const ip={name:"codeText",previous:lp,resolve:ap,tokenize:op};function ap(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function lp(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function op(e,t,n){let r=0,i,a;return l;function l(c){return e.enter("codeText"),e.enter("codeTextSequence"),o(c)}function o(c){return c===96?(e.consume(c),r++,o):(e.exit("codeTextSequence"),s(c))}function s(c){return c===null?n(c):c===32?(e.enter("space"),e.consume(c),e.exit("space"),s):c===96?(a=e.enter("codeTextSequence"),i=0,d(c)):fe(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||fe(c)?(e.exit("codeTextData"),s(c)):(e.consume(c),u)}function d(c){return c===96?(e.consume(c),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(c)):(a.type="codeTextData",u(c))}}class sp{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ir(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ir(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ir(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ir(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ir(this.left,n.reverse())}}}function Ir(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ws(e){const t={};let n=-1,r,i,a,l,o,s,u;const d=new sp(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,a=0,a<s.length&&s[a][1].type==="lineEndingBlank"&&(a+=2),a<s.length&&s[a][1].type==="content"))for(;++a<s.length&&s[a][1].type!=="content";)s[a][1].type==="chunkText"&&(s[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,up(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(l=d.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return un(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function up(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,s=[],u={};let d,c,v=-1,f=n,p=0,x=0;const m=[x];for(;f;){for(;e.get(++i)[1]!==f;);a.push(i),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),c&&l.defineSkip(f.start),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),c=f,f=f.next}for(f=n;++v<o.length;)o[v][0]==="exit"&&o[v-1][0]==="enter"&&o[v][1].type===o[v-1][1].type&&o[v][1].start.line!==o[v][1].end.line&&(x=v+1,m.push(x),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(l.events=[],f?(f._tokenizer=void 0,f.previous=void 0):m.pop(),v=m.length;v--;){const _=o.slice(m[v],m[v+1]),P=a.pop();s.push([P,P+_.length-1]),e.splice(P,2,_)}for(s.reverse(),v=-1;++v<s.length;)u[p+s[v][0]]=p+s[v][1],p+=s[v][1]-s[v][0]-1;return u}const cp={resolve:dp,tokenize:vp},fp={partial:!0,tokenize:hp};function dp(e){return ws(e),e}function vp(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):fe(o)?e.check(fp,l,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function l(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function hp(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),qe(e,a,"linePrefix")}function a(l){if(l===null||fe(l))return n(l);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function xs(e,t,n,r,i,a,l,o,s){const u=s||Number.POSITIVE_INFINITY;let d=0;return c;function c(_){return _===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(_),e.exit(a),v):_===null||_===32||_===41||$a(_)?n(_):(e.enter(r),e.enter(l),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(_))}function v(_){return _===62?(e.enter(a),e.consume(_),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(_))}function f(_){return _===62?(e.exit("chunkString"),e.exit(o),v(_)):_===null||_===60||fe(_)?n(_):(e.consume(_),_===92?p:f)}function p(_){return _===60||_===62||_===92?(e.consume(_),f):f(_)}function x(_){return!d&&(_===null||_===41||St(_))?(e.exit("chunkString"),e.exit(o),e.exit(l),e.exit(r),t(_)):d<u&&_===40?(e.consume(_),d++,x):_===41?(e.consume(_),d--,x):_===null||_===32||_===40||$a(_)?n(_):(e.consume(_),_===92?m:x)}function m(_){return _===40||_===41||_===92?(e.consume(_),x):x(_)}}function Ss(e,t,n,r,i,a){const l=this;let o=0,s;return u;function u(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(a),d}function d(f){return o>999||f===null||f===91||f===93&&!s||f===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?n(f):f===93?(e.exit(a),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):fe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===null||f===91||f===93||fe(f)||o++>999?(e.exit("chunkString"),d(f)):(e.consume(f),s||(s=!Te(f)),f===92?v:c)}function v(f){return f===91||f===92||f===93?(e.consume(f),o++,c):c(f)}}function ks(e,t,n,r,i,a){let l;return o;function o(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),l=v===40?41:v,s):n(v)}function s(v){return v===l?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(a),u(v))}function u(v){return v===l?(e.exit(a),s(l)):v===null?n(v):fe(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),qe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(v))}function d(v){return v===l||v===null||fe(v)?(e.exit("chunkString"),u(v)):(e.consume(v),v===92?c:d)}function c(v){return v===l||v===92?(e.consume(v),d):d(v)}}function zr(e,t){let n;return r;function r(i){return fe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Te(i)?qe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const pp={name:"definition",tokenize:mp},gp={partial:!0,tokenize:_p};function mp(e,t,n){const r=this;let i;return a;function a(f){return e.enter("definition"),l(f)}function l(f){return Ss.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),s):n(f)}function s(f){return St(f)?zr(e,u)(f):u(f)}function u(f){return xs(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(gp,c,c)(f)}function c(f){return Te(f)?qe(e,v,"whitespace")(f):v(f)}function v(f){return f===null||fe(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function _p(e,t,n){return r;function r(o){return St(o)?zr(e,i)(o):n(o)}function i(o){return ks(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Te(o)?qe(e,l,"whitespace")(o):l(o)}function l(o){return o===null||fe(o)?t(o):n(o)}}const bp={name:"hardBreakEscape",tokenize:yp};function yp(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return fe(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const wp={name:"headingAtx",resolve:xp,tokenize:Sp};function xp(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},un(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Sp(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&r++<6?(e.consume(d),l):d===null||St(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),s(d)):d===null||fe(d)?(e.exit("atxHeading"),t(d)):Te(d)?qe(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function s(d){return d===35?(e.consume(d),s):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||St(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const kp=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ll=["pre","script","style","textarea"],Ep={concrete:!0,name:"htmlFlow",resolveTo:Pp,tokenize:Cp},$p={partial:!0,tokenize:Tp},Ip={partial:!0,tokenize:Ap};function Pp(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Cp(e,t,n){const r=this;let i,a,l,o,s;return u;function u(w){return d(w)}function d(w){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(w),c}function c(w){return w===33?(e.consume(w),v):w===47?(e.consume(w),a=!0,x):w===63?(e.consume(w),i=3,r.interrupt?t:S):rn(w)?(e.consume(w),l=String.fromCharCode(w),m):n(w)}function v(w){return w===45?(e.consume(w),i=2,f):w===91?(e.consume(w),i=5,o=0,p):rn(w)?(e.consume(w),i=4,r.interrupt?t:S):n(w)}function f(w){return w===45?(e.consume(w),r.interrupt?t:S):n(w)}function p(w){const ue="CDATA[";return w===ue.charCodeAt(o++)?(e.consume(w),o===ue.length?r.interrupt?t:j:p):n(w)}function x(w){return rn(w)?(e.consume(w),l=String.fromCharCode(w),m):n(w)}function m(w){if(w===null||w===47||w===62||St(w)){const ue=w===47,be=l.toLowerCase();return!ue&&!a&&Ll.includes(be)?(i=1,r.interrupt?t(w):j(w)):kp.includes(l.toLowerCase())?(i=6,ue?(e.consume(w),_):r.interrupt?t(w):j(w)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(w):a?P(w):R(w))}return w===45||Ct(w)?(e.consume(w),l+=String.fromCharCode(w),m):n(w)}function _(w){return w===62?(e.consume(w),r.interrupt?t:j):n(w)}function P(w){return Te(w)?(e.consume(w),P):E(w)}function R(w){return w===47?(e.consume(w),E):w===58||w===95||rn(w)?(e.consume(w),F):Te(w)?(e.consume(w),R):E(w)}function F(w){return w===45||w===46||w===58||w===95||Ct(w)?(e.consume(w),F):k(w)}function k(w){return w===61?(e.consume(w),b):Te(w)?(e.consume(w),k):R(w)}function b(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),s=w,I):Te(w)?(e.consume(w),b):z(w)}function I(w){return w===s?(e.consume(w),s=null,M):w===null||fe(w)?n(w):(e.consume(w),I)}function z(w){return w===null||w===34||w===39||w===47||w===60||w===61||w===62||w===96||St(w)?k(w):(e.consume(w),z)}function M(w){return w===47||w===62||Te(w)?R(w):n(w)}function E(w){return w===62?(e.consume(w),q):n(w)}function q(w){return w===null||fe(w)?j(w):Te(w)?(e.consume(w),q):n(w)}function j(w){return w===45&&i===2?(e.consume(w),te):w===60&&i===1?(e.consume(w),ie):w===62&&i===4?(e.consume(w),ee):w===63&&i===3?(e.consume(w),S):w===93&&i===5?(e.consume(w),pe):fe(w)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check($p,ge,Y)(w)):w===null||fe(w)?(e.exit("htmlFlowData"),Y(w)):(e.consume(w),j)}function Y(w){return e.check(Ip,Z,ge)(w)}function Z(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),J}function J(w){return w===null||fe(w)?Y(w):(e.enter("htmlFlowData"),j(w))}function te(w){return w===45?(e.consume(w),S):j(w)}function ie(w){return w===47?(e.consume(w),l="",se):j(w)}function se(w){if(w===62){const ue=l.toLowerCase();return Ll.includes(ue)?(e.consume(w),ee):j(w)}return rn(w)&&l.length<8?(e.consume(w),l+=String.fromCharCode(w),se):j(w)}function pe(w){return w===93?(e.consume(w),S):j(w)}function S(w){return w===62?(e.consume(w),ee):w===45&&i===2?(e.consume(w),S):j(w)}function ee(w){return w===null||fe(w)?(e.exit("htmlFlowData"),ge(w)):(e.consume(w),ee)}function ge(w){return e.exit("htmlFlow"),t(w)}}function Ap(e,t,n){const r=this;return i;function i(l){return fe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function Tp(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Wi,t,n)}}const Dp={name:"htmlText",tokenize:Rp};function Rp(e,t,n){const r=this;let i,a,l;return o;function o(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),s}function s(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),k):S===63?(e.consume(S),R):rn(S)?(e.consume(S),z):n(S)}function u(S){return S===45?(e.consume(S),d):S===91?(e.consume(S),a=0,p):rn(S)?(e.consume(S),P):n(S)}function d(S){return S===45?(e.consume(S),f):n(S)}function c(S){return S===null?n(S):S===45?(e.consume(S),v):fe(S)?(l=c,ie(S)):(e.consume(S),c)}function v(S){return S===45?(e.consume(S),f):c(S)}function f(S){return S===62?te(S):S===45?v(S):c(S)}function p(S){const ee="CDATA[";return S===ee.charCodeAt(a++)?(e.consume(S),a===ee.length?x:p):n(S)}function x(S){return S===null?n(S):S===93?(e.consume(S),m):fe(S)?(l=x,ie(S)):(e.consume(S),x)}function m(S){return S===93?(e.consume(S),_):x(S)}function _(S){return S===62?te(S):S===93?(e.consume(S),_):x(S)}function P(S){return S===null||S===62?te(S):fe(S)?(l=P,ie(S)):(e.consume(S),P)}function R(S){return S===null?n(S):S===63?(e.consume(S),F):fe(S)?(l=R,ie(S)):(e.consume(S),R)}function F(S){return S===62?te(S):R(S)}function k(S){return rn(S)?(e.consume(S),b):n(S)}function b(S){return S===45||Ct(S)?(e.consume(S),b):I(S)}function I(S){return fe(S)?(l=I,ie(S)):Te(S)?(e.consume(S),I):te(S)}function z(S){return S===45||Ct(S)?(e.consume(S),z):S===47||S===62||St(S)?M(S):n(S)}function M(S){return S===47?(e.consume(S),te):S===58||S===95||rn(S)?(e.consume(S),E):fe(S)?(l=M,ie(S)):Te(S)?(e.consume(S),M):te(S)}function E(S){return S===45||S===46||S===58||S===95||Ct(S)?(e.consume(S),E):q(S)}function q(S){return S===61?(e.consume(S),j):fe(S)?(l=q,ie(S)):Te(S)?(e.consume(S),q):M(S)}function j(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),i=S,Y):fe(S)?(l=j,ie(S)):Te(S)?(e.consume(S),j):(e.consume(S),Z)}function Y(S){return S===i?(e.consume(S),i=void 0,J):S===null?n(S):fe(S)?(l=Y,ie(S)):(e.consume(S),Y)}function Z(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||St(S)?M(S):(e.consume(S),Z)}function J(S){return S===47||S===62||St(S)?M(S):n(S)}function te(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function ie(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),se}function se(S){return Te(S)?qe(e,pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):pe(S)}function pe(S){return e.enter("htmlTextData"),l(S)}}const Qa={name:"labelEnd",resolveAll:zp,resolveTo:Fp,tokenize:Bp},Np={tokenize:Mp},Op={tokenize:qp},Lp={tokenize:jp};function zp(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&un(e,0,e.length,n),e}function Fp(e,t){let n=e.length,r=0,i,a,l,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const s={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[l-2][1].start}};return o=[["enter",s,t],["enter",u,t]],o=vt(o,e.slice(a+1,a+r+3)),o=vt(o,[["enter",d,t]]),o=vt(o,Ga(t.parser.constructs.insideSpan.null,e.slice(a+r+4,l-3),t)),o=vt(o,[["exit",d,t],e[l-2],e[l-1],["exit",u,t]]),o=vt(o,e.slice(l+1)),o=vt(o,[["exit",s,t]]),un(e,a,e.length,o),e}function Bp(e,t,n){const r=this;let i=r.events.length,a,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(v){return a?a._inactive?c(v):(l=r.parser.defined.includes(qr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),s):n(v)}function s(v){return v===40?e.attempt(Np,d,l?d:c)(v):v===91?e.attempt(Op,d,l?u:c)(v):l?d(v):c(v)}function u(v){return e.attempt(Lp,d,c)(v)}function d(v){return t(v)}function c(v){return a._balanced=!0,n(v)}}function Mp(e,t,n){return r;function r(c){return e.enter("resource"),e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),i}function i(c){return St(c)?zr(e,a)(c):a(c)}function a(c){return c===41?d(c):xs(e,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function l(c){return St(c)?zr(e,s)(c):d(c)}function o(c){return n(c)}function s(c){return c===34||c===39||c===40?ks(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):d(c)}function u(c){return St(c)?zr(e,d)(c):d(c)}function d(c){return c===41?(e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),e.exit("resource"),t):n(c)}}function qp(e,t,n){const r=this;return i;function i(o){return Ss.call(r,e,a,l,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function l(o){return n(o)}}function jp(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Hp={name:"labelStartImage",resolveAll:Qa.resolveAll,tokenize:Up};function Up(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),l):n(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Vp={name:"labelStartLink",resolveAll:Qa.resolveAll,tokenize:Yp};function Yp(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const ua={name:"lineEnding",tokenize:Wp};function Wp(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),qe(e,t,"linePrefix")}}const bi={name:"thematicBreak",tokenize:Gp};function Gp(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),l(u)}function l(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),s(u)):r>=3&&(u===null||fe(u))?(e.exit("thematicBreak"),t(u)):n(u)}function s(u){return u===i?(e.consume(u),r++,s):(e.exit("thematicBreakSequence"),Te(u)?qe(e,o,"whitespace")(u):o(u))}}const yt={continuation:{tokenize:Zp},exit:eg,name:"list",tokenize:Kp},Qp={partial:!0,tokenize:tg},Xp={partial:!0,tokenize:Jp};function Kp(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return o;function o(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Ia(f)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(bi,n,u)(f):u(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(f)}return n(f)}function s(f){return Ia(f)&&++l<10?(e.consume(f),s):(!r.interrupt||l<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):n(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(Wi,r.interrupt?n:d,e.attempt(Qp,v,c))}function d(f){return r.containerState.initialBlankLine=!0,a++,v(f)}function c(f){return Te(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),v):n(f)}function v(f){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function Zp(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Wi,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,qe(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Te(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Xp,t,l)(o))}function l(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,qe(e,e.attempt(yt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Jp(e,t,n){const r=this;return qe(e,i,"listItemIndent",r.containerState.size+1);function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(a):n(a)}}function eg(e){e.exit(this.containerState.type)}function tg(e,t,n){const r=this;return qe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const l=r.events[r.events.length-1];return!Te(a)&&l&&l[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const zl={name:"setextUnderline",resolveTo:ng,tokenize:rg};function ng(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",l,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function rg(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,c;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){c=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(e.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Te(u)?qe(e,s,"lineSuffix")(u):s(u))}function s(u){return u===null||fe(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const ig={tokenize:ag};function ag(e){const t=this,n=e.attempt(Wi,r,e.attempt(this.parser.constructs.flowInitial,i,qe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(cp,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const lg={resolveAll:$s()},og=Es("string"),sg=Es("text");function Es(e){return{resolveAll:$s(e==="text"?ug:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,l,o);return l;function l(d){return u(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),s}function s(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),s)}function u(d){if(d===null)return!0;const c=i[d];let v=-1;if(c)for(;++v<c.length;){const f=c[v];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function $s(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function ug(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,l=-1,o=0,s;for(;a--;){const u=i[a];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(u===-2)s=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||s||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const cg={42:yt,43:yt,45:yt,48:yt,49:yt,50:yt,51:yt,52:yt,53:yt,54:yt,55:yt,56:yt,57:yt,62:_s},fg={91:pp},dg={[-2]:sa,[-1]:sa,32:sa},vg={35:wp,42:bi,45:[zl,bi],60:Ep,61:zl,95:bi,96:Ol,126:Ol},hg={38:ys,92:bs},pg={[-5]:ua,[-4]:ua,[-3]:ua,33:Hp,38:ys,42:Pa,60:[Vh,Dp],91:Vp,92:[bp,bs],93:Qa,95:Pa,96:ip},gg={null:[Pa,lg]},mg={null:[42,95]},_g={null:[]},bg=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mg,contentInitial:fg,disable:_g,document:cg,flow:vg,flowInitial:dg,insideSpan:gg,string:hg,text:pg},Symbol.toStringTag,{value:"Module"}));function yg(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let l=[],o=[];const s={attempt:I(k),check:I(b),consume:P,enter:R,exit:F,interrupt:I(b,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:p,parser:e,previous:null,sliceSerialize:v,sliceStream:f,write:c};let d=t.tokenize.call(u,s);return t.resolveAll&&a.push(t),u;function c(q){return l=vt(l,q),m(),l[l.length-1]!==null?[]:(z(t,0),u.events=Ga(a,u.events,u),u.events)}function v(q,j){return xg(f(q),j)}function f(q){return wg(l,q)}function p(){const{_bufferIndex:q,_index:j,line:Y,column:Z,offset:J}=r;return{_bufferIndex:q,_index:j,line:Y,column:Z,offset:J}}function x(q){i[q.line]=q.column,E()}function m(){let q;for(;r._index<l.length;){const j=l[r._index];if(typeof j=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<j.length;)_(j.charCodeAt(r._bufferIndex));else _(j)}}function _(q){d=d(q)}function P(q){fe(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,E()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=q}function R(q,j){const Y=j||{};return Y.type=q,Y.start=p(),u.events.push(["enter",Y,u]),o.push(Y),Y}function F(q){const j=o.pop();return j.end=p(),u.events.push(["exit",j,u]),j}function k(q,j){z(q,j.from)}function b(q,j){j.restore()}function I(q,j){return Y;function Y(Z,J,te){let ie,se,pe,S;return Array.isArray(Z)?ge(Z):"tokenize"in Z?ge([Z]):ee(Z);function ee(ce){return Ie;function Ie(Pe){const Ce=Pe!==null&&ce[Pe],Ue=Pe!==null&&ce.null,We=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return ge(We)(Pe)}}function ge(ce){return ie=ce,se=0,ce.length===0?te:w(ce[se])}function w(ce){return Ie;function Ie(Pe){return S=M(),pe=ce,ce.partial||(u.currentConstruct=ce),ce.name&&u.parser.constructs.disable.null.includes(ce.name)?be():ce.tokenize.call(j?Object.assign(Object.create(u),j):u,s,ue,be)(Pe)}}function ue(ce){return q(pe,S),J}function be(ce){return S.restore(),++se<ie.length?w(ie[se]):te}}}function z(q,j){q.resolveAll&&!a.includes(q)&&a.push(q),q.resolve&&un(u.events,j,u.events.length-j,q.resolve(u.events.slice(j),u)),q.resolveTo&&(u.events=q.resolveTo(u.events,u))}function M(){const q=p(),j=u.previous,Y=u.currentConstruct,Z=u.events.length,J=Array.from(o);return{from:Z,restore:te};function te(){r=q,u.previous=j,u.currentConstruct=Y,u.events.length=Z,o=J,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function wg(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,a)];else{if(l=e.slice(n,i),r>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(r):l.shift()}a>0&&l.push(e[i].slice(0,a))}return l}function xg(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(a)}i=a===-2,r.push(l)}return r.join("")}function Sg(e){const r={constructs:Sh([bg,...(e||{}).extensions||[]]),content:i(Fh),defined:[],document:i(Mh),flow:i(ig),lazy:{},string:i(og),text:i(sg)};return r;function i(a){return l;function l(o){return yg(r,a,o)}}}function kg(e){for(;!ws(e););return e}const Fl=/[\0\t\n\r]/g;function Eg(){let e=1,t="",n=!0,r;return i;function i(a,l,o){const s=[];let u,d,c,v,f;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),c=0,t="",n&&(a.charCodeAt(0)===65279&&c++,n=void 0);c<a.length;){if(Fl.lastIndex=c,u=Fl.exec(a),v=u&&u.index!==void 0?u.index:a.length,f=a.charCodeAt(v),!u){t=a.slice(c);break}if(f===10&&c===v&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),c<v&&(s.push(a.slice(c,v)),e+=v-c),f){case 0:{s.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,s.push(-2);e++<d;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:r=!0,e=1}c=v+1}return o&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}function $g(e,t,n){return typeof t!="string"&&(n=t,t=void 0),zh(n)(kg(Sg(n).document().write(Eg()(e,t,!0))))}const ca={none:"",left:' align="left"',right:' align="right"',center:' align="center"'};function Ig(){return{enter:{table(e){const t=e._align;this.lineEndingIfNeeded(),this.tag("<table>"),this.setData("tableAlign",t)},tableBody(){this.tag("<tbody>")},tableData(){const e=this.getData("tableAlign"),t=this.getData("tableColumn"),n=ca[e[t]];n===void 0?this.buffer():(this.lineEndingIfNeeded(),this.tag("<td"+n+">"))},tableHead(){this.lineEndingIfNeeded(),this.tag("<thead>")},tableHeader(){const e=this.getData("tableAlign"),t=this.getData("tableColumn"),n=ca[e[t]];this.lineEndingIfNeeded(),this.tag("<th"+n+">")},tableRow(){this.setData("tableColumn",0),this.lineEndingIfNeeded(),this.tag("<tr>")}},exit:{codeTextData(e){let t=this.sliceSerialize(e);this.getData("tableAlign")&&(t=t.replace(/\\([\\|])/g,Pg)),this.raw(this.encode(t))},table(){this.setData("tableAlign"),this.setData("slurpAllLineEndings"),this.lineEndingIfNeeded(),this.tag("</table>")},tableBody(){this.lineEndingIfNeeded(),this.tag("</tbody>")},tableData(){const e=this.getData("tableAlign"),t=this.getData("tableColumn");t in e?(this.tag("</td>"),this.setData("tableColumn",t+1)):this.resume()},tableHead(){this.lineEndingIfNeeded(),this.tag("</thead>")},tableHeader(){const e=this.getData("tableColumn");this.tag("</th>"),this.setData("tableColumn",e+1)},tableRow(){const e=this.getData("tableAlign");let t=this.getData("tableColumn");for(;t<e.length;)this.lineEndingIfNeeded(),this.tag("<td"+ca[e[t]]+"></td>"),t++;this.setData("tableColumn",t),this.lineEndingIfNeeded(),this.tag("</tr>")}}}}function Pg(e,t){return t==="|"?t:e}function gi(e){return e!==null&&e<-2}function Bl(e){return e!==null&&(e<0||e===32)}function zn(e){return e===-2||e===-1||e===32}function Pr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(s){return zn(s)?(e.enter(n),o(s)):t(s)}function o(s){return zn(s)&&a++<i?(e.consume(s),o):(e.exit(n),t(s))}}class Cg{constructor(){this.map=[]}add(t,n,r){Ag(this,t,n,r)}consume(t){if(this.map.sort(function(a,l){return a[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Ag(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Tg(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Dg(){return{flow:{null:{name:"table",tokenize:Rg,resolveAll:Ng}}}}function Rg(e,t,n){const r=this;let i=0,a=0,l;return o;function o(E){let q=r.events.length-1;for(;q>-1;){const Z=r.events[q][1].type;if(Z==="lineEnding"||Z==="linePrefix")q--;else break}const j=q>-1?r.events[q][1].type:null,Y=j==="tableHead"||j==="tableRow"?b:s;return Y===b&&r.parser.lazy[r.now().line]?n(E):Y(E)}function s(E){return e.enter("tableHead"),e.enter("tableRow"),u(E)}function u(E){return E===124||(l=!0,a+=1),d(E)}function d(E){return E===null?n(E):gi(E)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),f):n(E):zn(E)?Pr(e,d,"whitespace")(E):(a+=1,l&&(l=!1,i+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),l=!0,d):(e.enter("data"),c(E)))}function c(E){return E===null||E===124||Bl(E)?(e.exit("data"),d(E)):(e.consume(E),E===92?v:c)}function v(E){return E===92||E===124?(e.consume(E),c):c(E)}function f(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),l=!1,zn(E)?Pr(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):p(E))}function p(E){return E===45||E===58?m(E):E===124?(l=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),x):k(E)}function x(E){return zn(E)?Pr(e,m,"whitespace")(E):m(E)}function m(E){return E===58?(a+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),_):E===45?(a+=1,_(E)):E===null||gi(E)?F(E):k(E)}function _(E){return E===45?(e.enter("tableDelimiterFiller"),P(E)):k(E)}function P(E){return E===45?(e.consume(E),P):E===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(E))}function R(E){return zn(E)?Pr(e,F,"whitespace")(E):F(E)}function F(E){return E===124?p(E):E===null||gi(E)?!l||i!==a?k(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):k(E)}function k(E){return n(E)}function b(E){return e.enter("tableRow"),I(E)}function I(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),I):E===null||gi(E)?(e.exit("tableRow"),t(E)):zn(E)?Pr(e,I,"whitespace")(E):(e.enter("data"),z(E))}function z(E){return E===null||E===124||Bl(E)?(e.exit("data"),I(E)):(e.consume(E),E===92?M:z)}function M(E){return E===92||E===124?(e.consume(E),z):z(E)}}function Ng(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],l=[0,0,0,0],o=!1,s=0,u,d,c;const v=new Cg;for(;++n<e.length;){const f=e[n],p=f[1];f[0]==="enter"?p.type==="tableHead"?(o=!1,s!==0&&(Ml(v,t,s,u,d),d=void 0,s=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},v.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,c=void 0,a=[0,0,0,0],l=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},v.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(a[1]!==0&&(l[0]=l[1],c=mi(v,t,a,i,void 0,c),a=[0,0,0,0]),l[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(l[0]=l[1],c=mi(v,t,a,i,void 0,c)),a=l,l=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,s=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(s=n,a[1]!==0?(l[0]=l[1],c=mi(v,t,a,i,n,c)):l[1]!==0&&(c=mi(v,t,l,i,n,c)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(l[3]=n)}for(s!==0&&Ml(v,t,s,u,d),v.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=Tg(t.events,n))}return e}function mi(e,t,n,r,i,a){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},tr(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const s=tr(t.events,n[1]);if(a={type:l,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=tr(t.events,n[2]),d=tr(t.events,n[3]),c={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",c,t]]),r!==2){const v=t.events[n[2]],f=t.events[n[3]];if(v[1].end=Object.assign({},f[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,x=n[3]-n[2]-1;e.add(p,x,[])}}e.add(n[3]+1,0,[["exit",c,t]])}return i!==void 0&&(a.end=Object.assign({},tr(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Ml(e,t,n,r,i){const a=[],l=tr(t.events,n);i&&(i.end=Object.assign({},l),a.push(["exit",i,t])),r.end=Object.assign({},l),a.push(["exit",r,t]),e.add(n+1,0,a)}function tr(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}var Og=B('<form method="dialog"><button type="submit">Close</button></form> <!>',1),Lg=B('<div class="content svelte-z28whr"><button type="button" class="svelte-z28whr">â¶</button> <!></div> <dialog class="svelte-z28whr"><!></dialog>',1),zg=B('<div class="content svelte-z28whr"><!></div>');function nr(e,t){Se(t,!0);const n=()=>je(tt,"$appSettings",r),[r,i]=it();let a=ht(t,"code",15);const l=Oe(()=>$g(a(),{extensions:[Dg()],htmlExtensions:[Ig()]}));let o=Oe(()=>n().edit),s=Ae(null);function u(){y(s)&&y(s).showModal()}function d(x){if(y(s)){var m=y(s).getBoundingClientRect(),_=m.top<=x.clientY&&x.clientY<=m.top+m.height&&m.left<=x.clientX&&x.clientX<=m.left+m.width;_||y(s).close()}}var c=Ut(),v=Q(c);{var f=x=>{var m=Lg(),_=Q(m),P=L(_);P.__click=u;var R=C(P,2);Il(R,{autofocus:!0,get value(){return a()},set value(b){a(b)}}),O(_);var F=C(_,2);F.__click=d;var k=L(F);re(k,{column:!0,align:"end",children:(b,I)=>{var z=Og(),M=C(Q(z),2);Il(M,{autofocus:!0,get value(){return a()},set value(E){a(E)}}),T(b,z)}}),O(F),Vn(F,b=>oe(s,b),()=>y(s)),T(x,m)},p=x=>{var m=zg(),_=L(m);{var P=R=>{var F=Ut(),k=Q(F);Sc(k,()=>y(l)),T(R,F)};ze(_,R=>{y(l)&&R(P)})}O(m),T(x,m)};ze(v,x=>{y(o)?x(f):x(p,!1)})}T(e,c),ke(),i()}Nt(["click"]);var Fg=B('<span class="label svelte-xov0bq">Inspiration</span> <div style="min-height: 1.4em"></div>',1),Bg=B('<span class="label svelte-xov0bq">Size</span> <span class="value svelte-xov0bq"><!></span>',1),Mg=B('<span class="label svelte-xov0bq">Initiative</span> <span class="value svelte-xov0bq"> </span>',1),qg=B('<span class="label svelte-xov0bq">Speed</span> <span class="value svelte-xov0bq"><!></span>',1),jg=B('<span class="label svelte-xov0bq">Proficiency Bonus</span> <span class="value svelte-xov0bq"><!></span>',1),Hg=B("<!> <!> <!> <!> <!>",1);function Ug(e,t){Se(t,!0);const n=()=>je(t.character,"$character",r),[r,i]=it();re(e,{column:!0,justify:"between",sm:!0,children:(a,l)=>{var o=Hg(),s=Q(o);et(s,{nogrow:!0,children:(f,p)=>{re(f,{column:!0,sm:!0,children:(x,m)=>{var _=Fg();Ee(2),T(x,_)},$$slots:{default:!0}})}});var u=C(s,2);et(u,{nogrow:!0,children:(f,p)=>{re(f,{column:!0,sm:!0,children:(x,m)=>{var _=Bg(),P=C(Q(_),2),R=L(P);He(R,{get value(){return n().size},set value(F){he(t.character,U(n).size=F,U(n))}}),O(P),T(x,_)},$$slots:{default:!0}})}});var d=C(u,2);et(d,{nogrow:!0,children:(f,p)=>{re(f,{column:!0,sm:!0,children:(x,m)=>{var _=Mg(),P=C(Q(_),2),R=L(P,!0);O(P),de(F=>Be(R,F),[()=>Qo(Hi(n().abilityScores.dex))]),T(x,_)},$$slots:{default:!0}})}});var c=C(d,2);et(c,{nogrow:!0,children:(f,p)=>{re(f,{column:!0,sm:!0,children:(x,m)=>{var _=qg(),P=C(Q(_),2),R=L(P);He(R,{get value(){return n().speed},set value(F){he(t.character,U(n).speed=F,U(n))}}),O(P),T(x,_)},$$slots:{default:!0}})}});var v=C(c,2);et(v,{nogrow:!0,children:(f,p)=>{re(f,{column:!0,sm:!0,children:(x,m)=>{var _=jg(),P=C(Q(_),2),R=L(P);He(R,{get value(){return n().proficiencyBonus},set value(F){he(t.character,U(n).proficiencyBonus=F,U(n))}}),O(P),T(x,_)},$$slots:{default:!0}})}}),T(a,o)},$$slots:{default:!0}}),ke(),i()}const Vg={acrobatics:"Acrobatics",animalHandling:"Animal Handling",arcana:"Arcana",athletics:"Athletics",deception:"Deception",history:"History",insight:"Insight",intimidation:"Intimidation",investigation:"Investigation",medicine:"Medicine",nature:"Nature",perception:"Perception",performance:"Performance",persuasion:"Persuasion",religion:"Religion",sleightOfHand:"Sleight of Hand",stealth:"Stealth",survival:"Survival",str:"Strength",dex:"Dexterity",con:"Constitution",int:"Intelligence",wis:"Wisdom",cha:"Charisma",none:"None",savingThrow:"Saving Throw"};function Is(e){return Vg[e]}var Yg=B('<div class="item svelte-1wvd7v4"><div class="name svelte-1wvd7v4"> </div> <div class="modifier svelte-1wvd7v4"><!></div> <span class="score svelte-1wvd7v4"><!> <div class="input svelte-1wvd7v4"><!></div></span></div>');function Wg(e,t){Se(t,!0);const n=()=>je(t.character,"$character",r),[r,i]=it(),a=Oe(()=>n().abilityScores[t.ability]);var l=Yg(),o=L(l),s=L(o,!0);O(o);var u=C(o,2),d=L(u);{let x=Oe(()=>Hi(y(a)));Wa(d,{get modifier(){return y(x)}})}O(u);var c=C(u,2),v=L(c);et(v,{rounded:!0,absolute:!0,noshadow:!0,small:!0});var f=C(v,2),p=L(f);He(p,{get value(){return n().abilityScores[t.ability]},set value(x){he(t.character,U(n).abilityScores[t.ability]=x,U(n))}}),O(f),O(c),O(l),de(x=>Be(s,x),[()=>Is(t.ability)]),T(e,l),ke(),i()}var Gg=B('<button aria-label="Proficiency"></button>');function Qg(e,t){Se(t,!0);let n=ht(t,"value",15);const r=["none","proficient","double","half"];function i(){const s=(r.indexOf(n()??"none")+1)%r.length;n(r[s])}var a=Gg();a.__click=i;let l;de(()=>l=Dt(a,1,"svelte-1vb6rvd",null,l,{"is-proficient":n()==="proficient","is-double":n()==="double","is-half":n()==="half"})),T(e,a),ke()}Nt(["click"]);var Xg=B('<div class="wrapper svelte-1jy7427"><!> <span class="modifier svelte-1jy7427"><!></span> <span class="skill"> </span></div>');function ql(e,t){Se(t,!0);const n=()=>je(t.character,"$character",i),r=()=>je(tt,"$appSettings",i),[i,a]=it(),l=Oe(()=>t.skill==="savingThrow"?n().abilityProficiencies.includes(t.ability)?"proficient":"none":n().skillProficiencies[t.skill]??"none"),o=Oe(()=>af(n().abilityScores[t.ability]??0,n().proficiencyBonus,y(l)));var s=Xg(),u=L(s),d=()=>y(l),c=m=>{r().edit&&(t.skill==="savingThrow"?he(t.character,U(n).abilityProficiencies=of(n().abilityProficiencies,t.ability),U(n)):he(t.character,U(n).skillProficiencies[t.skill]=m,U(n)))};Qg(u,{get value(){return d()},set value(m){c(m)}});var v=C(u,2),f=L(v);Wa(f,{get modifier(){return y(o)}}),O(v);var p=C(v,2),x=L(p,!0);O(p),O(s),de(m=>Be(x,m),[()=>Is(t.skill)]),T(e,s),ke(),a()}var Kg=B("<!> <!>",1),Zg=B('<div class="inner svelte-1ftln1h"><!> <!> <!> <!></div>');function Zn(e,t){Se(t,!0);const n=Oe(()=>lf(pd).flatMap(([r,i])=>t.ability!==i?[]:{skill:r,ability:i}));et(e,{children:(r,i)=>{var a=Zg(),l=L(a);Wg(l,{get ability(){return t.ability},get character(){return t.character}});var o=C(l,2);me(o,{});var s=C(o,2);ql(s,{skill:"savingThrow",get ability(){return t.ability},get character(){return t.character}});var u=C(s,2);{var d=c=>{var v=Kg(),f=Q(v);me(f,{});var p=C(f,2);Tt(p,17,()=>y(n),Zt,(x,m)=>{ql(x,{get skill(){return y(m).skill},get ability(){return t.ability},get character(){return t.character}})}),T(c,v)};ze(u,c=>{y(n).length>0&&c(d)})}O(a),T(r,a)}}),ke()}var Jg=B('<span>+</span> <div class="hit"><!></div>',1),em=B('<button class="delete-button" type="button">delete</button>'),tm=B('<div class="seperator svelte-120kl8r"><!></div> <div class="line svelte-120kl8r"><div class="cell name svelte-120kl8r"><!></div> <!> <div class="cell svelte-120kl8r"><!></div> <!> <div class="cell damage svelte-120kl8r"><!></div> <!> <div class="cell details svelte-120kl8r"><!></div> <!></div>',1),nm=B("<span>Add line</span>"),rm=B('<div><div class="line heading svelte-120kl8r"><div class="cell name svelte-120kl8r">Name</div> <!> <div class="cell hit svelte-120kl8r">Hit</div> <!> <div class="cell damage svelte-120kl8r">Damage</div> <!> <div class="cell details svelte-120kl8r">Details</div></div> <!> <!></div>');function im(e,t){Se(t,!0);const n=()=>je(tt,"$appSettings",i),r=()=>je(t.character,"$character",i),[i,a]=it(),l=Oe(()=>n().edit),o=()=>{r().weapons.push({name:"",hit:0,damage:"",details:""}),he(t.character,U(r).weapons=r().weapons,U(r))},s=u=>{const d=r().weapons.indexOf(u);r().weapons.splice(d,1),he(t.character,U(r).weapons=r().weapons,U(r))};Pt(e,{children:(u,d)=>{var c=rm();let v;var f=L(c),p=C(L(f),2);me(p,{vertical:!0});var x=C(p,4);me(x,{vertical:!0});var m=C(x,4);me(m,{vertical:!0}),Ee(2),O(f);var _=C(f,2);Tt(_,1,()=>r().weapons,Zt,(F,k,b)=>{var I=tm(),z=Q(I),M=L(z);me(M,{}),O(z);var E=C(z,2),q=L(E),j=L(q);He(j,{get value(){return y(k).name},set value(ue){y(k).name=ue,gn(i,"$character")}}),O(q);var Y=C(q,2);me(Y,{vertical:!0});var Z=C(Y,2),J=L(Z);re(J,{align:"center",nogap:!0,children:(ue,be)=>{var ce=Jg(),Ie=C(Q(ce),2),Pe=L(Ie);He(Pe,{get value(){return y(k).hit},set value(Ce){y(k).hit=Ce,gn(i,"$character")}}),O(Ie),T(ue,ce)}}),O(Z);var te=C(Z,2);me(te,{vertical:!0});var ie=C(te,2),se=L(ie);He(se,{get value(){return y(k).damage},set value(ue){y(k).damage=ue,gn(i,"$character")}}),O(ie);var pe=C(ie,2);me(pe,{vertical:!0});var S=C(pe,2),ee=L(S);He(ee,{get value(){return y(k).details},set value(ue){y(k).details=ue,gn(i,"$character")}}),O(S);var ge=C(S,2);{var w=ue=>{var be=em();be.__click=()=>s(y(k)),T(ue,be)};ze(ge,ue=>{y(l)&&ue(w)})}O(E),T(F,I)});var P=C(_,2);{var R=F=>{re(F,{children:(k,b)=>{dt(k,{onclick:o,children:(I,z)=>{var M=nm();T(I,M)},$$slots:{default:!0}})},$$slots:{default:!0}})};ze(P,F=>{y(l)&&F(R)})}O(c),de(()=>v=Dt(c,1,"items svelte-120kl8r",null,v,{edit:y(l)})),T(u,c)}}),ke(),a()}Nt(["click"]);var am=B('<div class="wrapper svelte-1xzr1y2"><div class="inner svelte-1xzr1y2"><!></div></div>');function jl(e,t){let n=Ae(null),r=Ae(null);var i=am(),a=L(i),l=L(a);pt(l,()=>t.children??Re),O(a),Vn(a,o=>oe(r,o),()=>y(r)),O(i),Vn(i,o=>oe(n,o),()=>y(n)),T(e,i)}var lm=B('<span class="languages svelte-1ghi6lp"><!></span>'),om=B('<div class="inner svelte-1ghi6lp"><div class="side svelte-1ghi6lp"><h1 class="name svelte-1ghi6lp"><!></h1> <div class="avatar svelte-1ghi6lp"><!></div> <div class="abilities svelte-1ghi6lp"><div class="line svelte-1ghi6lp"><!> <!> <!> <!> <!></div> <div class="line svelte-1ghi6lp"><!> <!> <!></div></div></div> <div class="main svelte-1ghi6lp"><div class="heading svelte-1ghi6lp"><!></div> <div class="combat svelte-1ghi6lp"><!></div> <div class="other svelte-1ghi6lp"><!></div> <div class="weapons svelte-1ghi6lp"><!></div> <div class="feats svelte-1ghi6lp"><!></div> <div class="species svelte-1ghi6lp"><!></div> <div class="class svelte-1ghi6lp"><!></div></div></div>');function sm(e,t){Se(t,!0);const n=()=>je(t.character,"$character",r),[r,i]=it();ps(e,{children:(a,l)=>{var o=om(),s=L(o),u=L(s),d=L(u);He(d,{get value(){return n().name},set value(w){he(t.character,U(n).name=w,U(n))}}),O(u);var c=C(u,2),v=L(c);sh(v,{get character(){return t.character}}),O(c);var f=C(c,2),p=L(f),x=L(p);Zn(x,{ability:"str",get character(){return t.character}});var m=C(x,2);Zn(m,{ability:"dex",get character(){return t.character}});var _=C(m,2);Zn(_,{ability:"con",get character(){return t.character}});var P=C(_,2);Pt(P,{title:"Proficiencies",children:(w,ue)=>{nr(w,{get code(){return n().proficienies},set code(be){he(t.character,U(n).proficienies=be,U(n))}})}});var R=C(P,2);Pt(R,{title:"Languages",children:(w,ue)=>{var be=lm(),ce=L(be);nr(ce,{get code(){return n().languages},set code(Ie){he(t.character,U(n).languages=Ie,U(n))}}),O(be),T(w,be)}}),O(p);var F=C(p,2),k=L(F);Zn(k,{ability:"int",get character(){return t.character}});var b=C(k,2);Zn(b,{ability:"wis",get character(){return t.character}});var I=C(b,2);Zn(I,{ability:"cha",get character(){return t.character}}),O(F),O(f),O(s);var z=C(s,2),M=L(z),E=L(M);xh(E,{get character(){return t.character}}),O(M);var q=C(M,2),j=L(q);bh(j,{get character(){return t.character}}),O(q);var Y=C(q,2),Z=L(Y);Ug(Z,{get character(){return t.character}}),O(Y);var J=C(Y,2),te=L(J);im(te,{get character(){return t.character}}),O(J);var ie=C(J,2),se=L(ie);Pt(se,{grid:!0,title:"Feats",children:(w,ue)=>{nr(w,{get code(){return n().features.feats},set code(be){he(t.character,U(n).features.feats=be,U(n))}})}}),O(ie);var pe=C(ie,2),S=L(pe);Pt(S,{grid:!0,title:"Species",children:(w,ue)=>{jl(w,{children:(be,ce)=>{nr(be,{get code(){return n().features.species},set code(Ie){he(t.character,U(n).features.species=Ie,U(n))}})}})}}),O(pe);var ee=C(pe,2),ge=L(ee);Pt(ge,{grid:!0,title:"Class",children:(w,ue)=>{jl(w,{children:(be,ce)=>{nr(be,{get code(){return n().features.class},set code(Ie){he(t.character,U(n).features.class=Ie,U(n))}})}})}}),O(ee),O(z),O(o),T(a,o)}}),ke(),i()}const Ps="character.json",Cs="avatar.";async function um(e){const{BlobReader:t,BlobWriter:n,TextReader:r,ZipWriter:i}=await Qr(async()=>{const{BlobReader:c,BlobWriter:v,TextReader:f,ZipWriter:p}=await import("./index-NmetT060.js");return{BlobReader:c,BlobWriter:v,TextReader:f,ZipWriter:p}},[]),a=new n,l=new i(a);let o=structuredClone(e);o.avatar.blob=null;const s=JSON.stringify(o);await l.add(Ps,new r(s));const u=e.avatar?.blob;if(u instanceof Blob){let c=u.type?.split("/")[1]||"bin";c==="jpeg"&&(c="jpg");const v=`${Cs}${c}`;await l.add(v,new t(u))}await l.close();const d=await a.getData();return new File([d],`${e.slug}.zip`)}async function cm(e){const{BlobReader:t,BlobWriter:n,TextWriter:r,ZipReader:i}=await Qr(async()=>{const{BlobReader:c,BlobWriter:v,TextWriter:f,ZipReader:p}=await import("./index-NmetT060.js");return{BlobReader:c,BlobWriter:v,TextWriter:f,ZipReader:p}},[]),a=new i(new t(e)),l=await a.getEntries(),o=l.find(c=>c.directory===!1&&c.filename.startsWith(Cs)),s=l.find(c=>c.directory===!1&&c.filename===Ps);if(!s)throw new Error("Invalid save data: missing character.json");const[u,d]=await Promise.all([(async()=>{const c=new r;await s.getData(c);const v=await c.getData();return Yi(JSON.parse(v))})(),(async()=>{if(!o)return null;const c=new n;return await o.getData(c),await c.getData()})()]);return u.avatar.blob=d,await a.close(),u}var fm=B('<input type="file" class="svelte-ozss1q"/> <!>',1),dm=B("<label><!></label>");function vm(e,t){Se(t,!0);var n=dm(),r=L(n);Ci(r,{children:(i,a)=>{var l=fm(),o=Q(l);o.__change=u=>{const d=u.currentTarget.files?.[0]??null;t.onchange?.(d),u.currentTarget.value=""};var s=C(o,2);pt(s,()=>t.children??Re),de(()=>Rt(o,"accept",t.accept)),T(i,l)}}),O(n),T(e,n),ke()}Nt(["change"]);var fa,Hl;function hm(){return Hl||(Hl=1,fa=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var l=a[i];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),fa}var pm=hm();const gm=vs(pm);function mm(e,t){return gm(e,t)}var _m=B("<!> <!> <!> <!> <!> <!> <!> <!>",1),bm=B('<!> <!> <div class="toolbar hide-print svelte-va3igi"><!></div>',1),ym=B("<div><!></div>");function wm(e,t){Se(t,!0);const n=()=>je(tt,"$appSettings",i),r=()=>je(y(o),"$character",i),[i,a]=it();let l=ht(t,"characterData",15),o=Ae(In(cr(structuredClone(l()))));on(()=>{Mc(oe(o,cr(structuredClone(l())),!0),"$character",i)});const s=Oe(()=>n().hasChanges);on(()=>{he(tt,U(n).hasChanges=!mm(l(),r()),U(n))});const u=()=>{he(tt,U(n).edit=!n().edit,U(n))};async function d(){const m=await um(r());await Ko(m,m.name)}async function c(m){try{if(!m)return;const _=await cm(m);y(o).set(_)}catch(_){console.error(_),Ii("Something went wrong with importing.")}}async function v(){await Sd(r()),l(r())}var f=ym();let p;var x=L(f);re(x,{column:!0,xl:!0,children:(m,_)=>{var P=bm(),R=Q(P);sm(R,{get character(){return y(o)}});var F=C(R,2);ih(F,{get character(){return y(o)}});var k=C(F,2),b=L(k);Ya(b,{children:(I,z)=>{re(I,{padding:!0,justify:"start",children:(M,E)=>{var q=_m(),j=Q(q);dt(j,{onclick:u,children:(ee,ge)=>{Ee();var w=Ze("Toggle editables");T(ee,w)},$$slots:{default:!0}});var Y=C(j,2);{var Z=ee=>{dt(ee,{onclick:v,children:(ge,w)=>{Ee();var ue=Ze("Save changes");T(ge,ue)},$$slots:{default:!0}})};ze(Y,ee=>{y(s)&&ee(Z)})}var J=C(Y,2);bn(J);var te=C(J,2);dt(te,{onclick:d,children:(ee,ge)=>{Ee();var w=Ze("Export");T(ee,w)},$$slots:{default:!0}});var ie=C(te,2);vm(ie,{accept:"application/zip",onchange:c,children:(ee,ge)=>{Ee();var w=Ze("Import");T(ee,w)},$$slots:{default:!0}});var se=C(ie,2);dt(se,{onclick:async()=>{const ee=await pv(r());await navigator.clipboard.writeText(ee),Ii("Copied to clipboard")},children:(ee,ge)=>{Ee();var w=Ze("Export to yaml");T(ee,w)},$$slots:{default:!0}});var pe=C(se,2);dt(pe,{type:"button",onclick:async()=>{const ee=n().edit;he(tt,U(n).edit=!1,U(n)),await ji(),window.print(),he(tt,U(n).edit=ee,U(n))},children:(ee,ge)=>{Ee();var w=Ze("Print");T(ee,w)},$$slots:{default:!0}});var S=C(pe,2);dt(S,{onclick:async()=>{await Ed(r().slug,y(o))},children:(ee,ge)=>{Ee();var w=Ze("Load Example");T(ee,w)},$$slots:{default:!0}}),T(M,q)},$$slots:{default:!0}})}}),O(k),T(m,P)}}),O(f),de(()=>p=Dt(f,1,"svelte-va3igi",null,p,{showEditables:!n().edit})),T(e,f),ke(),a()}var xm=B('<h1>No character found for slug: <code> </code></h1> <a href="/">Go back to character select</a>',1),Sm=B("<!> <!>",1);function km(e,t){Se(t,!0);var n,r=Wr([async()=>n=await zi(()=>hs(t.params.slug))]),i=Sm(),a=Q(i);lt(a,[r[0]],void 0,o=>{let s=Oe(()=>y(n)?`${y(n).name}`:"Not Found");Vi(a,{get title(){return y(s)}})});var l=C(a,2);lt(l,[r[0]],[()=>y(n)],(o,s)=>{var u=c=>{lt(c,[r[0]],void 0,v=>{wm(v,{get characterData(){return y(n)},set characterData(f){oe(n,f)}})})},d=c=>{var v=xm(),f=Q(v),p=C(L(f)),x=L(p,!0);O(p),O(f);var m=C(f,2);Mr(m,_=>Pi?.(_)),de(()=>Be(x,t.params.slug),void 0,void 0,[r[0]]),T(c,v)};ze(o,c=>{y(s)?c(u):c(d,!1)})}),T(e,i),ke()}function Em(e){const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("unable to get canvas");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),{canvas:t,destroy(){t.width=0,t.height=0}}}var $m=B('<label><span>Size</span> <input name="size" type="number"/></label> <label><span>Columns</span> <input name="x" type="number"/></label> <label><span>Rows</span> <input name="y" type="number"/></label> <label><span>Stroke width</span> <input name="stroke" type="number"/></label> <!>',1),Im=B('<div class="wrapper svelte-1g22s45"><form class="svelte-1g22s45"><!></form> <!> <div class="canvas svelte-1g22s45"><!></div></div>');function Pm(e,t){Se(t,!0);let n=Ae(null),r=Ae(null),i=Ae(2),a=Ae(10),l=Ae(8),o=Ae(100),s=30;on(()=>{if(!y(n)||!y(r))return;y(n).width=s*2+y(a)*y(o),y(n).height=s*2+y(l)*y(o),y(r).clearRect(0,0,y(n).width,y(n).height),y(r).lineWidth=y(i);for(let _=1;_<y(a);_++){y(r).beginPath();const P=s+_*y(o);y(r).moveTo(P,s),y(r).lineTo(P,y(n).height-s),y(r).stroke()}for(let _=1;_<y(l);_++){y(r).beginPath();const P=s+_*y(o);y(r).moveTo(s,P),y(r).lineTo(y(n).width-s,P),y(r).stroke()}y(r).lineWidth=y(i)*1.5,y(r).beginPath(),y(r).roundRect(s,s,y(n).width-s*2,y(n).height-s*2,y(i)*5),y(r).stroke();const m=Em(y(n));y(r).filter="url(#pencil)",y(r).drawImage(m.canvas,0,0),m.destroy()});const u=m=>{m.preventDefault();const _=new FormData(m.currentTarget),P=parseInt(_.get("x")?.toString()||"")||y(a),R=parseInt(_.get("y")?.toString()||"")||y(l),F=parseInt(_.get("size")?.toString()||"")||y(o);Math.sqrt(P*R*F*F)>4e3&&!confirm("The grid will be pretty large and can cause issues, are you sure?")||(oe(a,P,!0),oe(l,R,!0),oe(o,F,!0),oe(i,parseInt(_.get("stroke")?.toString()||"")||y(i),!0))};var d=Im(),c=L(d),v=L(c);re(v,{column:!0,children:(m,_)=>{var P=$m(),R=Q(P),F=C(L(R),2);O(R);var k=C(R,2),b=C(L(k),2);O(k);var I=C(k,2),z=C(L(I),2);O(I);var M=C(I,2),E=C(L(M),2);O(M);var q=C(M,2);dt(q,{type:"submit",children:(j,Y)=>{Ee();var Z=Ze("Generate");T(j,Z)},$$slots:{default:!0}}),de(()=>{F.defaultValue=y(o),b.defaultValue=y(a),z.defaultValue=y(l),E.defaultValue=y(i)}),T(m,P)}}),O(c);var f=C(c,2);me(f,{vertical:!0});var p=C(f,2),x=L(p);ss(x,{get canvas(){return y(n)},set canvas(m){oe(n,m,!0)},get context(){return y(r)},set context(m){oe(r,m,!0)}}),O(p),O(d),Kt("submit",c,u),T(e,d),ke()}var Cm=B("<!> <!>",1);function Am(e){var t=Cm(),n=Q(t);Vi(n,{title:"Grid generator"});var r=C(n,2);Pm(r,{}),T(e,t)}const Tm="/dnd-character-sheet/assets/data-DnYVNeCY.json";function Dm(){return fetch(Tm).then(e=>e.json())}var Rm=B("<p> </p> <p> </p> <p> </p> <!>",1),Nm=B("<div><!></div>"),Om=B('<h1>Spells</h1> <div class="spells svelte-14r50c7"><!></div> <div class="toolbar svelte-14r50c7"><!></div>',1);function Lm(e,t){Se(t,!0);var n,r,i,a,l=Wr([async()=>n=await Dm(),()=>r=Oe(()=>Array.from(new Set(n.flatMap(v=>v.classes))).concat("None")),()=>i=Ae("None"),()=>a=Oe(()=>y(i)!=="None"?n.filter(v=>v.classes.includes(y(i))):n)]),o=Om(),s=C(Q(o),2),u=L(s);lt(u,[l[3]],[()=>y(a)],(v,f)=>{Tt(v,17,()=>y(f),Zt,(p,x)=>{Pt(p,{get title(){return y(x).name},children:(m,_)=>{re(m,{column:!0,children:(P,R)=>{var F=Rm(),k=Q(F),b=L(k);O(k);var I=C(k,2),z=L(I);O(I);var M=C(I,2),E=L(M);O(M);var q=C(M,2);nr(q,{get code(){return y(x).description}}),de(()=>{Be(b,`Source: ${y(x).source??""}`),Be(z,`Level: ${(y(x).level||"Cantrip")??""}`),Be(E,`Range: ${y(x).range??""}`)}),T(P,F)},$$slots:{default:!0}})},$$slots:{default:!0}})})}),O(s);var d=C(s,2),c=L(d);Ya(c,{children:(v,f)=>{re(v,{padding:!0,children:(p,x)=>{var m=Nm(),_=L(m);lt(_,[l[3],l[1]],void 0,P=>{ls(_,{label:"Class Spellbook",get options(){return y(r)},get value(){return y(i)},set value(R){oe(i,R,!0)}})}),O(m),T(p,m)}})}}),O(d),T(e,o),ke()}const Qt={characterSelect:()=>"/",characterSheet:e=>`/sheet/${e}`,characterMiniSheet:e=>`/sheet/mini/${e}`,gridGenerator:()=>"/generate-grid",spells:()=>"/spells"},zm={[Qt.characterSelect()]:vv,[Qt.characterSheet(":slug")]:km,[Qt.characterMiniSheet(":slug")]:Hd,[Qt.gridGenerator()]:Am,[Qt.spells()]:Lm},yi=[];let As;function Ts(e){const t=e.pattern.test(As);Ul(e,e.className,t),Ul(e,e.inactiveClassName,!t)}function Ul(e,t,n){(t||"").split(" ").forEach(r=>{r&&(e.node.classList.remove(r),n&&e.node.classList.add(r))})}Ui.subscribe(e=>{As=e.location+(e.querystring?"?"+e.querystring:""),yi.map(Ts)});function Fm(e,t){if(t&&(typeof t=="string"||typeof t=="object"&&t instanceof RegExp)?t={path:t}:t=t||{},!t.path&&e.hasAttribute("href")&&(t.path=e.getAttribute("href"),t.path&&t.path.length>1&&t.path.charAt(0)=="#"&&(t.path=t.path.substring(1))),t.className||(t.className="active"),!t.path||typeof t.path=="string"&&(t.path.length<1||t.path.charAt(0)!="/"&&t.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof t.path=="string"?os(t.path):{pattern:t.path},r={node:e,className:t.className,inactiveClassName:t.inactiveClassName,pattern:n};return yi.push(r),Ts(r),{destroy(){yi.splice(yi.indexOf(r),1)}}}var Bm=B("<a><!></a>");function Vl(e,t){Se(t,!0);const n=()=>je(tt,"$appSettings",r),[r,i]=it(),a=Oe(()=>n().hasChanges);function l(u){u.preventDefault(),(!y(a)||window.confirm("There are unsaved changed, these will get lost if you continue"))&&qf(t.href)}var o=Bm();o.__click=l;var s=L(o);pt(s,()=>t.children??Re),O(o),Mr(o,u=>Fm?.(u)),de(()=>Rt(o,"href",t.href)),T(e,o),ke(),i()}Nt(["click"]);var Mm=B('<h1><!></h1> <!> <nav class="svelte-a8kxe2"></nav>',1),qm=B('<header class="hide-print svelte-a8kxe2"><div class="inner svelte-a8kxe2"><!></div> <!></header>');function jm(e,t){Se(t,!1);const n=[{href:Qt.characterSelect(),label:"Character select"},{href:Qt.gridGenerator(),label:"Grid generator"},{href:Qt.spells(),label:"Spells"}];Ma();var r=qm(),i=L(r),a=L(i);re(a,{align:"center",children:(o,s)=>{var u=Mm(),d=Q(u),c=L(d);{let p=Fi(()=>Qt.characterSelect());Vl(c,{get href(){return y(p)},children:(x,m)=>{Ee();var _=Ze("D&D Character Sheet creator");T(x,_)},$$slots:{default:!0}})}O(d);var v=C(d,2);bn(v);var f=C(v,2);Tt(f,5,()=>n,Zt,(p,x)=>{let m=()=>y(x).href,_=()=>y(x).label;Vl(p,{get href(){return m()},children:(P,R)=>{Ee();var F=Ze();de(()=>Be(F,_())),T(P,F)},$$slots:{default:!0}})}),O(f),T(o,u)}}),O(i);var l=C(i,2);me(l,{}),O(r),T(e,r),ke()}var Hm=B('<!> <main class="svelte-1n46o8q"><!></main> <!> <!>',1),Um=B("<!> <!>",1);function Vm(e){var t=Um(),n=Q(t);Sf(n);var r=C(n,2);ef(r,{children:(i,a)=>{var l=Hm(),o=Q(l);jm(o,{});var s=C(o,2),u=L(s);Uf(u,{get routes(){return zm}}),O(s);var d=C(s,2);wf(d);var c=C(d,2);Mf(c,{}),T(i,l)}}),T(e,t)}const Ym=document.getElementById("app");mc(Vm,{target:Ym});
