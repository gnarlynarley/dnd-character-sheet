(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const Wi=!1;var gi=Array.isArray,Ds=Array.prototype.indexOf,mi=Array.from,Io=Object.defineProperty,xn=Object.getOwnPropertyDescriptor,Po=Object.getOwnPropertyDescriptors,Rs=Object.prototype,Os=Array.prototype,fa=Object.getPrototypeOf,Oa=Object.isExtensible;function Qn(e){return typeof e=="function"}const Te=()=>{};function Ns(e){return e()}function fi(e){for(var t=0;t<e.length;t++)e[t]()}function Co(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const Ke=2,di=4,Jn=8,Gi=1<<24,en=16,mn=32,jn=64,_i=128,zt=512,ot=1024,pt=2048,tn=4096,It=8192,Xt=16384,ar=32768,vn=65536,Qi=1<<17,To=1<<18,or=1<<19,$o=1<<20,sn=1<<25,Bn=32768,Xi=1<<21,da=1<<22,Sn=1<<23,kn=Symbol("$state"),Ao=Symbol("legacy props"),Ls=Symbol(""),Dn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},yi=3,lr=8;function bi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function zs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Fs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Bs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ms(e){throw new Error("https://svelte.dev/e/effect_orphan")}function qs(){throw new Error("https://svelte.dev/e/effect_pending_outside_reaction")}function js(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Hs(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Us(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Vs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ys(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ws(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Gs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Qs=1,Xs=2,Do=4,Ks=8,Zs=16,Js=1,eu=2,tu=4,nu=8,ru=16,iu=1,au=2,ou=4,lu=1,su=2,uu="[",wi="[!",va="]",Nr={},nt=Symbol(),cu="http://www.w3.org/1999/xhtml";function Lr(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function fu(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let fe=!1;function On(e){fe=e}let be;function lt(e){if(e===null)throw Lr(),Nr;return be=e}function In(){return lt(nn(be))}function O(e){if(fe){if(nn(be)!==null)throw Lr(),Nr;be=e}}function xe(e=1){if(fe){for(var t=e,n=be;t--;)n=nn(n);be=n}}function $r(e=!0){for(var t=0,n=be;;){if(n.nodeType===lr){var r=n.data;if(r===va){if(t===0)return n;t-=1}else(r===uu||r===wi)&&(t+=1)}var i=nn(n);e&&n.remove(),n=i}}function Ro(e){if(!e||e.nodeType!==lr)throw Lr(),Nr;return e.data}function Oo(e){return e===this.v}function No(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Lo(e){return!No(e,this.v)}let fn=!1,sr=!1,du=!1;function vu(){fn=!0}function hu(){sr=!0}let Ae=null;function er(e){Ae=e}function Se(e,t=!1,n){Ae={p:Ae,i:!1,c:null,e:null,s:e,x:null,l:sr&&!t?{s:null,u:null,$:[]}:null}}function ke(e){var t=Ae,n=t.e;if(n!==null){t.e=null;for(var r of n)ll(r)}return t.i=!0,Ae=t.p,{}}function zr(){return!sr||Ae!==null&&Ae.l===null}let Rn=[];function zo(){var e=Rn;Rn=[],fi(e)}function _n(e){if(Rn.length===0&&!kr){var t=Rn;queueMicrotask(()=>{t===Rn&&zo()})}Rn.push(e)}function pu(){for(;Rn.length>0;)zo()}function Fo(e){var t=ve;if(t===null)return ye.f|=Sn,e;if((t.f&ar)===0){if((t.f&_i)===0)throw e;t.b.error(e)}else Mn(e,t)}function Mn(e,t){for(;t!==null;){if((t.f&_i)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const gu=-7169;function We(e,t){e.f=e.f&gu|t}function ha(e){(e.f&zt)!==0||e.deps===null?We(e,ot):We(e,tn)}function Bo(e){if(e!==null)for(const t of e)(t.f&Ke)===0||(t.f&Bn)===0||(t.f^=Bn,Bo(t.deps))}function Mo(e,t,n){(e.f&pt)!==0?t.add(e):(e.f&tn)!==0&&n.add(e),Bo(e.deps),We(e,ot)}const Vn=new Set;let Ee=null,si=null,rt=null,Ot=[],xi=null,Ki=!1,kr=!1;class Qt{committed=!1;current=new Map;previous=new Map;#e=new Set;#i=new Set;#t=0;#a=0;#o=null;#r=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#a>0}process(t){Ot=[],si=null,this.apply();var n=[],r=[];for(const i of t)this.#l(i,n,r);this.is_fork||this.#u(),this.is_deferred()?(this.#s(r),this.#s(n)):(si=this,Ee=null,Na(r),Na(n),si=null,this.#o?.resolve()),rt=null}#l(t,n,r){t.f^=ot;for(var i=t.first,a=null;i!==null;){var o=i.f,l=(o&(mn|jn))!==0,s=l&&(o&ot)!==0,u=s||(o&It)!==0||this.skipped_effects.has(i);if(fn&&a===null&&(o&_i)!==0&&i.b?.is_pending&&(a=i),!u&&i.fn!==null){l?i.f^=ot:a!==null&&(o&(di|Jn|Gi))!==0?a.b.defer_effect(i):(o&di)!==0?n.push(i):fn&&(o&(Jn|Gi))!==0?r.push(i):cr(i)&&((o&en)!==0&&this.#r.add(i),nr(i));var d=i.first;if(d!==null){i=d;continue}}var f=i.parent;for(i=i.next;i===null&&f!==null;)f===a&&(a=null),i=f.next,f=f.parent}}#s(t){for(var n=0;n<t.length;n+=1)Mo(t[n],this.#r,this.#n)}capture(t,n){n!==nt&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&Sn)===0&&(this.current.set(t,t.v),rt?.set(t,t.v))}activate(){Ee=this,this.apply()}deactivate(){Ee===this&&(Ee=null,rt=null)}flush(){if(this.activate(),Ot.length>0){if(Zi(),Ee!==null&&Ee!==this)return}else this.#t===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#i)t(this);this.#i.clear()}#u(){if(this.#a===0){for(const t of this.#e)t();this.#e.clear()}this.#t===0&&this.#c()}#c(){if(Vn.size>1){this.previous.clear();var t=rt,n=!0;for(const i of Vn){if(i===this){n=!1;continue}const a=[];for(const[l,s]of this.current){if(i.current.has(l))if(n&&s!==i.current.get(l))i.current.set(l,s);else continue;a.push(l)}if(a.length===0)continue;const o=[...i.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var r=Ot;Ot=[];const l=new Set,s=new Map;for(const u of a)jo(u,o,l,s);if(Ot.length>0){Ee=i,i.apply();for(const u of Ot)i.#l(u,[],[]);i.deactivate()}Ot=r}}Ee=null,rt=t}this.committed=!0,Vn.delete(this)}increment(t){this.#t+=1,t&&(this.#a+=1)}decrement(t){this.#t-=1,t&&(this.#a-=1),this.revive()}revive(){for(const t of this.#r)this.#n.delete(t),We(t,pt),hn(t);for(const t of this.#n)We(t,tn),hn(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#i.add(t)}settled(){return(this.#o??=Co()).promise}static ensure(){if(Ee===null){const t=Ee=new Qt;Vn.add(Ee),kr||Qt.enqueue(()=>{Ee===t&&t.flush()})}return Ee}static enqueue(t){_n(t)}apply(){if(!(!fn||!this.is_fork&&Vn.size===1)){rt=new Map(this.current);for(const t of Vn)if(t!==this)for(const[n,r]of t.previous)rt.has(n)||rt.set(n,r)}}}function qo(e){var t=kr;kr=!0;try{var n;for(e&&(Ee!==null&&Zi(),n=e());;){if(pu(),Ot.length===0&&(Ee?.flush(),Ot.length===0))return xi=null,n;Zi()}}finally{kr=t}}function Zi(){var e=Ln;Ki=!0;var t=null;try{var n=0;for(hi(!0);Ot.length>0;){var r=Qt.ensure();if(n++>1e3){var i,a;mu()}r.process(Ot),En.clear()}}finally{Ki=!1,hi(e),xi=null}}function mu(){try{js()}catch(e){Mn(e,xi)}}let Wt=null;function Na(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Xt|It))===0&&cr(r)&&(Wt=new Set,nr(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?fl(r):r.fn=null),Wt?.size>0)){En.clear();for(const i of Wt){if((i.f&(Xt|It))!==0)continue;const a=[i];let o=i.parent;for(;o!==null;)Wt.has(o)&&(Wt.delete(o),a.push(o)),o=o.parent;for(let l=a.length-1;l>=0;l--){const s=a[l];(s.f&(Xt|It))===0&&nr(s)}}Wt.clear()}}Wt=null}}function jo(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;(a&Ke)!==0?jo(i,t,n,r):(a&(da|en))!==0&&(a&pt)===0&&Ho(i,t,r)&&(We(i,pt),hn(i))}}function Ho(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&Ke)!==0&&Ho(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function hn(e){for(var t=xi=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ki&&t===ve&&(n&en)!==0&&(n&To)===0)return;if((n&(jn|mn))!==0){if((n&ot)===0)return;t.f^=ot}}Ot.push(t)}let vi=[];function _u(){try{qo(()=>{for(const e of vi)Pu(e)})}finally{vi=[]}}function yu(e){var t=Pn(0),n=!0,r=void 0;return k(t),Du(()=>{if(n){var i=rt;try{rt=null,r=e()}finally{rt=i}return}vi.length===0&&_n(_u),vi.push(t)}),n=!1,r}function bu(e){let t=0,n=Pn(0),r;return()=>{ma()&&(k(n),Hn(()=>(t===0&&(r=V(()=>e(()=>Ir(n)))),t+=1,()=>{_n(()=>{t-=1,t===0&&(r?.(),r=void 0,Ir(n))})})))}}var wu=vn|or|_i;function Uo(e,t,n){new xu(e,t,n)}class xu{parent;is_pending=!1;#e;#i=fe?be:null;#t;#a;#o;#r=null;#n=null;#l=null;#s=null;#u=null;#c=0;#f=0;#v=!1;#h=new Set;#p=new Set;#d=null;#b=bu(()=>(this.#d=Pn(this.#c),()=>{this.#d=null}));constructor(t,n,r){this.#e=t,this.#t=n,this.#a=r,this.parent=ve.b,this.is_pending=!!this.#t.pending,this.#o=Br(()=>{if(ve.b=this,fe){const a=this.#i;In(),a.nodeType===lr&&a.data===wi?this.#x():(this.#w(),this.#f===0&&(this.is_pending=!1))}else{var i=this.#_();try{this.#r=Nt(()=>r(i))}catch(a){this.error(a)}this.#f>0?this.#m():this.is_pending=!1}return()=>{this.#u?.remove()}},wu),fe&&(this.#e=be)}#w(){try{this.#r=Nt(()=>this.#a(this.#e))}catch(t){this.error(t)}}#x(){const t=this.#t.pending;t&&(this.#n=Nt(()=>t(this.#e)),Qt.enqueue(()=>{var n=this.#_();this.#r=this.#g(()=>(Qt.ensure(),Nt(()=>this.#a(n)))),this.#f>0?this.#m():(Nn(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#_(){var t=this.#e;return this.is_pending&&(this.#u=bt(),this.#e.before(this.#u),t=this.#u),t}defer_effect(t){Mo(t,this.#h,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#g(t){var n=ve,r=ye,i=Ae;Kt(this.#o),_t(this.#o),er(this.#o.ctx);try{return t()}catch(a){return Fo(a),null}finally{Kt(n),_t(r),er(i)}}#m(){const t=this.#t.pending;this.#r!==null&&(this.#s=document.createDocumentFragment(),this.#s.append(this.#u),hl(this.#r,this.#s)),this.#n===null&&(this.#n=Nt(()=>t(this.#e)))}#y(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(t);return}if(this.#f+=t,this.#f===0){this.is_pending=!1;for(const n of this.#h)We(n,pt),hn(n);for(const n of this.#p)We(n,tn),hn(n);this.#h.clear(),this.#p.clear(),this.#n&&Nn(this.#n,()=>{this.#n=null}),this.#s&&(this.#e.before(this.#s),this.#s=null)}}update_pending_count(t){this.#y(t),this.#c+=t,this.#d&&tr(this.#d,this.#c)}get_effect_pending(){return this.#b(),k(this.#d)}error(t){var n=this.#t.onerror;let r=this.#t.failed;if(this.#v||!n&&!r)throw t;this.#r&&(wt(this.#r),this.#r=null),this.#n&&(wt(this.#n),this.#n=null),this.#l&&(wt(this.#l),this.#l=null),fe&&(lt(this.#i),xe(),lt($r()));var i=!1,a=!1;const o=()=>{if(i){fu();return}i=!0,a&&Gs(),Qt.ensure(),this.#c=0,this.#l!==null&&Nn(this.#l,()=>{this.#l=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#g(()=>(this.#v=!1,Nt(()=>this.#a(this.#e)))),this.#f>0?this.#m():this.is_pending=!1};var l=ye;try{_t(null),a=!0,n?.(t,o),a=!1}catch(s){Mn(s,this.#o&&this.#o.parent)}finally{_t(l)}r&&_n(()=>{this.#l=this.#g(()=>{Qt.ensure(),this.#v=!0;try{return Nt(()=>{r(this.#e,()=>t,()=>o)})}catch(s){return Mn(s,this.#o.parent),null}finally{this.#v=!1}})})}}function Vo(){return ve.b}function Su(){ve===null&&qs();var e=ve.b;return e===null?0:e.get_effect_pending()}function pa(e,t,n,r){const i=zr()?Fr:Si;if(n.length===0&&e.length===0){r(t.map(i));return}var a=Ee,o=ve,l=Yo();function s(){Promise.all(n.map(u=>Go(u))).then(u=>{l();try{r([...t.map(i),...u])}catch(d){(o.f&Xt)===0&&Mn(d,o)}a?.deactivate(),Ar()}).catch(u=>{Mn(u,o)})}e.length>0?Promise.all(e).then(()=>{l();try{return s()}finally{a?.deactivate(),Ar()}}):s()}function ku(e,t){pa(e,[],[],t)}function Yo(){var e=ve,t=ye,n=Ae,r=Ee;return function(a=!0){Kt(e),_t(t),er(n),a&&r?.activate()}}function Ar(){Kt(null),_t(null),er(null)}function Wo(e){const t=Yo();var n=Vo(),r=Ee,i=n.is_rendered();n.update_pending_count(1),r.increment(i);var a=ve,o=null;const l=d=>{o={error:d},za(a)||Mn(d,a)};var s=Promise.resolve(e[0]()).catch(l),u=[s];for(const d of e.slice(1))s=s.then(()=>{if(o)throw o.error;if(za(a))throw Dn;return t(),d()}).catch(l).finally(()=>{Ar(),Ee?.deactivate()}),u.push(s);return s.then(()=>Promise.resolve()).finally(()=>{n.update_pending_count(-1),r.decrement(i)}),u}function Fr(e){var t=Ke|pt,n=ye!==null&&(ye.f&Ke)!==0?ye:null;return ve!==null&&(ve.f|=or),{ctx:Ae,deps:null,effects:null,equals:Oo,f:t,fn:e,reactions:null,rv:0,v:nt,wv:0,parent:n??ve,ac:null}}function Go(e,t,n){let r=ve;r===null&&zs();var i=r.b,a=void 0,o=Pn(nt),l=!ye,s=new Map;return Lu(()=>{var u=Co();a=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{d===Ee&&d.committed&&d.deactivate(),Ar()})}catch(c){u.reject(c),Ar()}var d=Ee;if(l){var f=i.is_rendered();i.update_pending_count(1),d.increment(f),s.get(d)?.reject(Dn),s.delete(d),s.set(d,u)}const v=(c,g=void 0)=>{if(d.activate(),g)g!==Dn&&(o.f|=Sn,tr(o,g));else{(o.f&Sn)!==0&&(o.f^=Sn),tr(o,c);for(const[E,m]of s){if(s.delete(E),E===d)break;m.reject(Dn)}}l&&(i.update_pending_count(-1),d.decrement(f))};u.promise.then(v,c=>v(null,c||"unknown"))}),_a(()=>{for(const u of s.values())u.reject(Dn)}),new Promise(u=>{function d(f){function v(){f===a?u(o):d(a)}f.then(v,v)}d(a)})}function Be(e){const t=Fr(e);return fn||pl(t),t}function Si(e){const t=Fr(e);return t.equals=Lo,t}function Qo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)wt(t[n])}}function Eu(e){for(var t=e.parent;t!==null;){if((t.f&Ke)===0)return(t.f&Xt)===0?t:null;t=t.parent}return null}function ga(e){var t,n=ve;Kt(Eu(e));try{e.f&=~Bn,Qo(e),t=yl(e)}finally{Kt(n)}return t}function Xo(e){var t=ga(e);if(!e.equals(t)&&(e.wv=ml(),(!Ee?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){We(e,ot);return}Tn||(rt!==null?(ma()||Ee?.is_fork)&&rt.set(e,t):ha(e))}let Ji=new Set;const En=new Map;let Ko=!1;function Pn(e,t){var n={f:0,v:e,reactions:null,equals:Oo,rv:0,wv:0};return n}function Ce(e,t){const n=Pn(e);return pl(n),n}function Er(e,t=!1,n=!0){const r=Pn(e);return t||(r.equals=Lo),sr&&n&&Ae!==null&&Ae.l!==null&&(Ae.l.s??=[]).push(r),r}function oe(e,t,n=!1){ye!==null&&(!jt||(ye.f&Qi)!==0)&&zr()&&(ye.f&(Ke|en|da|Qi))!==0&&!dn?.includes(e)&&Ws();let r=n?un(t):t;return tr(e,r)}function tr(e,t){if(!e.equals(t)){var n=e.v;Tn?En.set(e,t):En.set(e,n),e.v=t;var r=Qt.ensure();if(r.capture(e,n),(e.f&Ke)!==0){const i=e;(e.f&pt)!==0&&ga(i),ha(i)}e.wv=ml(),Zo(e,pt),zr()&&ve!==null&&(ve.f&ot)!==0&&(ve.f&(mn|jn))===0&&(Rt===null?Fu([e]):Rt.push(e)),!r.is_fork&&Ji.size>0&&!Ko&&Iu()}return t}function Iu(){Ko=!1;var e=Ln;hi(!0);const t=Array.from(Ji);try{for(const n of t)(n.f&ot)!==0&&We(n,tn),cr(n)&&nr(n)}finally{hi(e)}Ji.clear()}function Pu(e,t=1){var n=k(e),r=t===1?n++:n--;return oe(e,n),r}function Ir(e){oe(e,e.v+1)}function Zo(e,t){var n=e.reactions;if(n!==null)for(var r=zr(),i=n.length,a=0;a<i;a++){var o=n[a],l=o.f;if(!(!r&&o===ve)){var s=(l&pt)===0;if(s&&We(o,t),(l&Ke)!==0){var u=o;rt?.delete(u),(l&Bn)===0&&(l&zt&&(o.f|=Bn),Zo(u,tn))}else s&&((l&en)!==0&&Wt!==null&&Wt.add(o),hn(o))}}}function un(e){if(typeof e!="object"||e===null||kn in e)return e;const t=fa(e);if(t!==Rs&&t!==Os)return e;var n=new Map,r=gi(e),i=Ce(0),a=zn,o=l=>{if(zn===a)return l();var s=ye,u=zn;_t(null),Ba(a);var d=l();return _t(s),Ba(u),d};return r&&n.set("length",Ce(e.length)),new Proxy(e,{defineProperty(l,s,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Vs();var d=n.get(s);return d===void 0?d=o(()=>{var f=Ce(u.value);return n.set(s,f),f}):oe(d,u.value,!0),!0},deleteProperty(l,s){var u=n.get(s);if(u===void 0){if(s in l){const d=o(()=>Ce(nt));n.set(s,d),Ir(i)}}else oe(u,nt),Ir(i);return!0},get(l,s,u){if(s===kn)return e;var d=n.get(s),f=s in l;if(d===void 0&&(!f||xn(l,s)?.writable)&&(d=o(()=>{var c=un(f?l[s]:nt),g=Ce(c);return g}),n.set(s,d)),d!==void 0){var v=k(d);return v===nt?void 0:v}return Reflect.get(l,s,u)},getOwnPropertyDescriptor(l,s){var u=Reflect.getOwnPropertyDescriptor(l,s);if(u&&"value"in u){var d=n.get(s);d&&(u.value=k(d))}else if(u===void 0){var f=n.get(s),v=f?.v;if(f!==void 0&&v!==nt)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,s){if(s===kn)return!0;var u=n.get(s),d=u!==void 0&&u.v!==nt||Reflect.has(l,s);if(u!==void 0||ve!==null&&(!d||xn(l,s)?.writable)){u===void 0&&(u=o(()=>{var v=d?un(l[s]):nt,c=Ce(v);return c}),n.set(s,u));var f=k(u);if(f===nt)return!1}return d},set(l,s,u,d){var f=n.get(s),v=s in l;if(r&&s==="length")for(var c=u;c<f.v;c+=1){var g=n.get(c+"");g!==void 0?oe(g,nt):c in l&&(g=o(()=>Ce(nt)),n.set(c+"",g))}if(f===void 0)(!v||xn(l,s)?.writable)&&(f=o(()=>Ce(void 0)),oe(f,un(u)),n.set(s,f));else{v=f.v!==nt;var E=o(()=>un(u));oe(f,E)}var m=Reflect.getOwnPropertyDescriptor(l,s);if(m?.set&&m.set.call(d,u),!v){if(r&&typeof s=="string"){var b=n.get("length"),T=Number(s);Number.isInteger(T)&&T>=b.v&&oe(b,T+1)}Ir(i)}return!0},ownKeys(l){k(i);var s=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==nt});for(var[u,d]of n)d.v!==nt&&!(u in l)&&s.push(u);return s},setPrototypeOf(){Ys()}})}var Cn,Jo,el,tl;function Cu(){if(Cn===void 0){Cn=window,Jo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;el=xn(t,"firstChild").get,tl=xn(t,"nextSibling").get,Oa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Oa(n)&&(n.__t=void 0)}}function bt(e=""){return document.createTextNode(e)}function mt(e){return el.call(e)}function nn(e){return tl.call(e)}function L(e,t){if(!fe)return mt(e);var n=mt(be);if(n===null)n=be.appendChild(bt());else if(t&&n.nodeType!==yi){var r=bt();return n?.before(r),lt(r),r}return lt(n),n}function J(e,t=!1){if(!fe){var n=mt(e);return n instanceof Comment&&n.data===""?nn(n):n}if(t&&be?.nodeType!==yi){var r=bt();return be?.before(r),lt(r),r}return be}function D(e,t=1,n=!1){let r=fe?be:e;for(var i;t--;)i=r,r=nn(r);if(!fe)return r;if(n&&r?.nodeType!==yi){var a=bt();return r===null?i?.after(a):r.before(a),lt(a),a}return lt(r),r}function nl(e){e.textContent=""}function rl(){if(!fn||Wt!==null)return!1;var e=ve.f;return(e&ar)!==0}function Tu(e){fe&&mt(e)!==null&&nl(e)}let La=!1;function il(){La||(La=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ur(e){var t=ye,n=ve;_t(null),Kt(null);try{return e()}finally{_t(t),Kt(n)}}function al(e,t,n,r=n){e.addEventListener(t,()=>ur(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),il()}function ol(e){ve===null&&(ye===null&&Ms(),Bs()),Tn&&Fs()}function $u(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Vt(e,t,n){var r=ve;r!==null&&(r.f&It)!==0&&(e|=It);var i={ctx:Ae,deps:null,nodes:null,f:e|pt|zt,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{nr(i),i.f|=ar}catch(l){throw wt(i),l}else t!==null&&hn(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&or)===0&&(a=a.first,(e&en)!==0&&(e&vn)!==0&&a!==null&&(a.f|=vn)),a!==null&&(a.parent=r,r!==null&&$u(a,r),ye!==null&&(ye.f&Ke)!==0&&(e&jn)===0)){var o=ye;(o.effects??=[]).push(a)}return i}function ma(){return ye!==null&&!jt}function _a(e){const t=Vt(Jn,null,!1);return We(t,ot),t.teardown=e,t}function Ut(e){ol();var t=ve.f,n=!ye&&(t&mn)!==0&&(t&ar)===0;if(n){var r=Ae;(r.e??=[]).push(e)}else return ll(e)}function ll(e){return Vt(di|$o,e,!1)}function Au(e){return ol(),Vt(Jn|$o,e,!0)}function Du(e){return Vt(Qi,e,!0)}function Ru(e){Qt.ensure();const t=Vt(jn|or,e,!0);return(n={})=>new Promise(r=>{n.outro?Nn(t,()=>{wt(t),r(void 0)}):(wt(t),r(void 0))})}function ya(e){return Vt(di,e,!1)}function Ou(e,t){var n=Ae,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Hn(()=>{e(),!r.ran&&(r.ran=!0,V(t))})}function Nu(){var e=Ae;Hn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&ot)!==0&&n.deps!==null&&We(n,tn),cr(n)&&nr(n),t.ran=!1}})}function Lu(e){return Vt(da|or,e,!0)}function Hn(e,t=0){return Vt(Jn|t,e,!0)}function de(e,t=[],n=[],r=[]){pa(r,t,n,i=>{Vt(Jn,()=>e(...i.map(k)),!0)})}function Br(e,t=0){var n=Vt(en|t,e,!0);return n}function Nt(e){return Vt(mn|or,e,!0)}function sl(e){var t=e.teardown;if(t!==null){const n=Tn,r=ye;Fa(!0),_t(null);try{t.call(null)}finally{Fa(n),_t(r)}}}function ul(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&ur(()=>{i.abort(Dn)});var r=n.next;(n.f&jn)!==0?n.parent=null:wt(n,t),n=r}}function zu(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&mn)===0&&wt(t),t=n}}function wt(e,t=!0){var n=!1;(t||(e.f&To)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(cl(e.nodes.start,e.nodes.end),n=!0),ul(e,t&&!n),pi(e,0),We(e,Xt);var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)a.stop();sl(e);var i=e.parent;i!==null&&i.first!==null&&fl(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function cl(e,t){for(;e!==null;){var n=e===t?null:nn(e);e.remove(),e=n}}function fl(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Nn(e,t,n=!0){var r=[];dl(e,r,!0);var i=()=>{n&&wt(e),t&&t()},a=r.length;if(a>0){var o=()=>--a||i();for(var l of r)l.out(o)}else i()}function dl(e,t,n){if((e.f&It)===0){e.f^=It;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var i=e.first;i!==null;){var a=i.next,o=(i.f&vn)!==0||(i.f&mn)!==0&&(e.f&en)!==0;dl(i,t,o?n:!1),i=a}}}function ba(e){vl(e,!0)}function vl(e,t){if((e.f&It)!==0){e.f^=It,(e.f&ot)===0&&(We(e,pt),hn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&vn)!==0||(n.f&mn)!==0;vl(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(const o of a)(o.is_global||t)&&o.in()}}function za(e=ve){return(e.f&Xt)!==0}function hl(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:nn(n);t.append(n),n=i}}let Ln=!1;function hi(e){Ln=e}let Tn=!1;function Fa(e){Tn=e}let ye=null,jt=!1;function _t(e){ye=e}let ve=null;function Kt(e){ve=e}let dn=null;function pl(e){ye!==null&&(!fn||(ye.f&Ke)!==0)&&(dn===null?dn=[e]:dn.push(e))}let vt=null,kt=0,Rt=null;function Fu(e){Rt=e}let gl=1,Dr=0,zn=Dr;function Ba(e){zn=e}function ml(){return++gl}function cr(e){var t=e.f;if((t&pt)!==0)return!0;if(t&Ke&&(e.f&=~Bn),(t&tn)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var a=n[i];if(cr(a)&&Xo(a),a.wv>e.wv)return!0}(t&zt)!==0&&rt===null&&We(e,ot)}return!1}function _l(e,t,n=!0){var r=e.reactions;if(r!==null&&!(!fn&&dn?.includes(e)))for(var i=0;i<r.length;i++){var a=r[i];(a.f&Ke)!==0?_l(a,t,!1):t===a&&(n?We(a,pt):(a.f&ot)!==0&&We(a,tn),hn(a))}}function yl(e){var t=vt,n=kt,r=Rt,i=ye,a=dn,o=Ae,l=jt,s=zn,u=e.f;vt=null,kt=0,Rt=null,ye=(u&(mn|jn))===0?e:null,dn=null,er(e.ctx),jt=!1,zn=++Dr,e.ac!==null&&(ur(()=>{e.ac.abort(Dn)}),e.ac=null);try{e.f|=Xi;var d=e.fn,f=d(),v=e.deps;if(vt!==null){var c;if(pi(e,kt),v!==null&&kt>0)for(v.length=kt+vt.length,c=0;c<vt.length;c++)v[kt+c]=vt[c];else e.deps=v=vt;if(ma()&&(e.f&zt)!==0)for(c=kt;c<v.length;c++)(v[c].reactions??=[]).push(e)}else v!==null&&kt<v.length&&(pi(e,kt),v.length=kt);if(zr()&&Rt!==null&&!jt&&v!==null&&(e.f&(Ke|tn|pt))===0)for(c=0;c<Rt.length;c++)_l(Rt[c],e);return i!==null&&i!==e&&(Dr++,Rt!==null&&(r===null?r=Rt:r.push(...Rt))),(e.f&Sn)!==0&&(e.f^=Sn),f}catch(g){return Fo(g)}finally{e.f^=Xi,vt=t,kt=n,Rt=r,ye=i,dn=a,er(o),jt=l,zn=s}}function Bu(e,t){let n=t.reactions;if(n!==null){var r=Ds.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&Ke)!==0&&(vt===null||!vt.includes(t))){var a=t;(a.f&zt)!==0&&(a.f^=zt,a.f&=~Bn),ha(a),Qo(a),pi(a,0)}}function pi(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Bu(e,n[r])}function nr(e){var t=e.f;if((t&Xt)===0){We(e,ot);var n=ve,r=Ln;ve=e,Ln=!0;try{(t&(en|Gi))!==0?zu(e):ul(e),sl(e);var i=yl(e);e.teardown=typeof i=="function"?i:null,e.wv=gl;var a;Wi&&du&&(e.f&pt)!==0&&e.deps}finally{Ln=r,ve=n}}}async function ki(){if(fn)return new Promise(e=>{requestAnimationFrame(()=>e()),setTimeout(()=>e())});await Promise.resolve(),qo()}function k(e){var t=e.f,n=(t&Ke)!==0;if(ye!==null&&!jt){var r=ve!==null&&(ve.f&Xt)!==0;if(!r&&!dn?.includes(e)){var i=ye.deps;if((ye.f&Xi)!==0)e.rv<Dr&&(e.rv=Dr,vt===null&&i!==null&&i[kt]===e?kt++:vt===null?vt=[e]:vt.includes(e)||vt.push(e));else{(ye.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[ye]:a.includes(ye)||a.push(ye)}}}if(Tn&&En.has(e))return En.get(e);if(n){var o=e;if(Tn){var l=o.v;return((o.f&ot)===0&&o.reactions!==null||wl(o))&&(l=ga(o)),En.set(o,l),l}var s=(o.f&zt)===0&&!jt&&ye!==null&&(Ln||(ye.f&zt)!==0),u=o.deps===null;cr(o)&&(s&&(o.f|=zt),Xo(o)),s&&!u&&bl(o)}if(rt?.has(e))return rt.get(e);if((e.f&Sn)!==0)throw e.v;return e.v}function bl(e){if(e.deps!==null){e.f|=zt;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Ke)!==0&&(t.f&zt)===0&&bl(t)}}function wl(e){if(e.v===nt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(En.has(t)||(t.f&Ke)!==0&&wl(t))return!0;return!1}function V(e){var t=jt;try{return jt=!0,e()}finally{jt=t}}function xl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(kn in e)ea(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&kn in n&&ea(n)}}}function ea(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ea(e[r],t)}catch{}const n=fa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Po(n);for(let i in r){const a=r[i].get;if(a)try{a.call(e)}catch{}}}}}const Mu=["touchstart","touchmove"];function qu(e){return Mu.includes(e)}const Sl=new Set,ta=new Set;function ju(e,t,n,r={}){function i(a){if(r.capture||xr.call(t,a),!a.cancelBubble)return ur(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?_n(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Ht(e,t,n,r,i){var a={capture:r,passive:i},o=ju(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&_a(()=>{t.removeEventListener(e,o,a)})}function Ct(e){for(var t=0;t<e.length;t++)Sl.add(e[t]);for(var n of ta)n(e)}let Ma=null;function xr(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;Ma=e;var o=0,l=Ma===e&&e.__root;if(l){var s=i.indexOf(l);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;s<=u&&(o=s)}if(a=i[o]||e.target,a!==t){Io(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=ye,f=ve;_t(null),Kt(null);try{for(var v,c=[];a!==null;){var g=a.assignedSlot||a.parentNode||a.host||null;try{var E=a["__"+r];E!=null&&(!a.disabled||e.target===a)&&E.call(a,e)}catch(m){v?c.push(m):v=m}if(e.cancelBubble||g===t||g===null)break;a=g}if(v){for(let m of c)queueMicrotask(()=>{throw m});throw v}}finally{e.__root=t,delete e.currentTarget,_t(d),Kt(f)}}}function wa(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ft(e,t){var n=ve;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function B(e,t){var n=(t&lu)!==0,r=(t&su)!==0,i,a=!e.startsWith("<!>");return()=>{if(fe)return Ft(be,null),be;i===void 0&&(i=wa(a?e:"<!>"+e),n||(i=mt(i)));var o=r||Jo?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=mt(o),s=o.lastChild;Ft(l,s)}else Ft(o,o);return o}}function Hu(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(fe)return Ft(be,null),be;if(!a){var o=wa(i),l=mt(o);a=mt(l)}var s=a.cloneNode(!0);return Ft(s,s),s}}function Uu(e,t){return Hu(e,t,"svg")}function Xe(e=""){if(!fe){var t=bt(e+"");return Ft(t,t),t}var n=be;return n.nodeType!==yi&&(n.before(n=bt()),lt(n)),Ft(n,n),n}function Bt(){if(fe)return Ft(be,null),be;var e=document.createDocumentFragment(),t=document.createComment(""),n=bt();return e.append(t,n),Ft(t,n),e}function R(e,t){if(fe){var n=ve;((n.f&ar)===0||n.nodes.end===null)&&(n.nodes.end=be),In();return}e!==null&&e.before(t)}let na=!0;function Ye(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Vu(e,t){return Yu(e,t)}const Yn=new Map;function Yu(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:o=!0}){Cu();var l=new Set,s=f=>{for(var v=0;v<f.length;v++){var c=f[v];if(!l.has(c)){l.add(c);var g=qu(c);t.addEventListener(c,xr,{passive:g});var E=Yn.get(c);E===void 0?(document.addEventListener(c,xr,{passive:g}),Yn.set(c,1)):Yn.set(c,E+1)}}};s(mi(Sl)),ta.add(s);var u=void 0,d=Ru(()=>{var f=n??t.appendChild(bt());return Uo(f,{pending:()=>{}},v=>{if(a){Se({});var c=Ae;c.c=a}if(i&&(r.$$events=i),fe&&Ft(v,null),na=o,u=e(v,r)||{},na=!0,fe&&(ve.nodes.end=be,be===null||be.nodeType!==lr||be.data!==va))throw Lr(),Nr;a&&ke()}),()=>{for(var v of l){t.removeEventListener(v,xr);var c=Yn.get(v);--c===0?(document.removeEventListener(v,xr),Yn.delete(v)):Yn.set(v,c)}ta.delete(s),f!==n&&f.parentNode?.removeChild(f)}});return Wu.set(u,d),u}let Wu=new WeakMap;function wn(e,t=[],n=[],r){var i=Vo(),a=Ee,o=i.is_rendered();i.update_pending_count(1),a.increment(o);var l=fe;if(l){In();var s=be,u=$r(!1);lt(u)}pa(t,[],n,d=>{l&&(On(!0),lt(s));try{for(const f of d)k(f);r(e,...d)}finally{l&&On(!1),i.update_pending_count(-1),a.decrement(o)}})}class xa{anchor;#e=new Map;#i=new Map;#t=new Map;#a=new Set;#o=!0;constructor(t,n=!0){this.anchor=t,this.#o=n}#r=()=>{var t=Ee;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#i.get(n);if(r)ba(r),this.#a.delete(n);else{var i=this.#t.get(n);i&&(this.#i.set(n,i.effect),this.#t.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[a,o]of this.#e){if(this.#e.delete(a),a===t)break;const l=this.#t.get(o);l&&(wt(l.effect),this.#t.delete(o))}for(const[a,o]of this.#i){if(a===n||this.#a.has(a))continue;const l=()=>{if(Array.from(this.#e.values()).includes(a)){var u=document.createDocumentFragment();hl(o,u),u.append(bt()),this.#t.set(a,{effect:o,fragment:u})}else wt(o);this.#a.delete(a),this.#i.delete(a)};this.#o||!r?(this.#a.add(a),Nn(o,l,!1)):l()}}};#n=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#t)n.includes(r)||(wt(i.effect),this.#t.delete(r))};ensure(t,n){var r=Ee,i=rl();if(n&&!this.#i.has(t)&&!this.#t.has(t))if(i){var a=document.createDocumentFragment(),o=bt();a.append(o),this.#t.set(t,{effect:Nt(()=>n(o)),fragment:a})}else this.#i.set(t,Nt(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[l,s]of this.#i)l===t?r.skipped_effects.delete(s):r.skipped_effects.add(s);for(const[l,s]of this.#t)l===t?r.skipped_effects.delete(s.effect):r.skipped_effects.add(s.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else fe&&(this.anchor=be),this.#r()}}function Ne(e,t,n=!1){fe&&In();var r=new xa(e),i=n?vn:0;function a(o,l){if(fe){const u=Ro(e)===wi;if(o===u){var s=$r();lt(s),r.anchor=s,On(!1),r.ensure(o,l),On(!0);return}}r.ensure(o,l)}Br(()=>{var o=!1;t((l,s=!0)=>{o=!0,a(s,l)}),o||a(!1,null)},i)}function qa(e,t){fe&&lt(mt(e)),Hn(()=>{var n=t();for(var r in n){var i=n[r];i?e.style.setProperty(r,i):e.style.removeProperty(r)}})}function qn(e,t){return t}function Gu(e,t,n){for(var r=[],i=t.length,a,o=t.length,l=0;l<i;l++){let f=t[l];Nn(f,()=>{if(a){if(a.pending.delete(f),a.done.add(f),a.pending.size===0){var v=e.outrogroups;ra(mi(a.done)),v.delete(a),v.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var s=r.length===0&&n!==null;if(s){var u=n,d=u.parentNode;nl(d),d.append(u),e.items.clear()}ra(t,!s)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function ra(e,t=!0){for(var n=0;n<e.length;n++)wt(e[n],t)}var ja;function pn(e,t,n,r,i,a=null){var o=e,l=new Map,s=(t&Do)!==0;if(s){var u=e;o=fe?lt(mt(u)):u.appendChild(bt())}fe&&In();var d=null,f=Si(()=>{var b=n();return gi(b)?b:b==null?[]:mi(b)}),v,c=!0;function g(){m.fallback=d,Qu(m,v,o,t,r),d!==null&&(v.length===0?(d.f&sn)===0?ba(d):(d.f^=sn,Sr(d,null,o)):Nn(d,()=>{d=null}))}var E=Br(()=>{v=k(f);var b=v.length;let T=!1;if(fe){var A=Ro(o)===wi;A!==(b===0)&&(o=$r(),lt(o),On(!1),T=!0)}for(var z=new Set,x=Ee,_=rl(),I=0;I<b;I+=1){fe&&be.nodeType===lr&&be.data===va&&(o=be,T=!0,On(!1));var N=v[I],F=r(N,I),H=c?null:l.get(F);H?(H.v&&tr(H.v,N),H.i&&tr(H.i,I),_&&x.skipped_effects.delete(H.e)):(H=Xu(l,c?o:ja??=bt(),N,F,I,i,t,n),c||(H.e.f|=sn),l.set(F,H)),z.add(F)}if(b===0&&a&&!d&&(c?d=Nt(()=>a(o)):(d=Nt(()=>a(ja??=bt())),d.f|=sn)),fe&&b>0&&lt($r()),!c)if(_){for(const[q,j]of l)z.has(q)||x.skipped_effects.add(j.e);x.oncommit(g),x.ondiscard(()=>{})}else g();T&&On(!0),k(f)}),m={effect:E,items:l,outrogroups:null,fallback:d};c=!1,fe&&(o=be)}function Qu(e,t,n,r,i){var a=(r&Ks)!==0,o=t.length,l=e.items,s=e.effect.first,u,d=null,f,v=[],c=[],g,E,m,b;if(a)for(b=0;b<o;b+=1)g=t[b],E=i(g,b),m=l.get(E).e,(m.f&sn)===0&&(m.nodes?.a?.measure(),(f??=new Set).add(m));for(b=0;b<o;b+=1){if(g=t[b],E=i(g,b),m=l.get(E).e,e.outrogroups!==null)for(const H of e.outrogroups)H.pending.delete(m),H.done.delete(m);if((m.f&sn)!==0)if(m.f^=sn,m===s)Sr(m,null,n);else{var T=d?d.next:s;m===e.effect.last&&(e.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),bn(e,d,m),bn(e,m,T),Sr(m,T,n),d=m,v=[],c=[],s=d.next;continue}if((m.f&It)!==0&&(ba(m),a&&(m.nodes?.a?.unfix(),(f??=new Set).delete(m))),m!==s){if(u!==void 0&&u.has(m)){if(v.length<c.length){var A=c[0],z;d=A.prev;var x=v[0],_=v[v.length-1];for(z=0;z<v.length;z+=1)Sr(v[z],A,n);for(z=0;z<c.length;z+=1)u.delete(c[z]);bn(e,x.prev,_.next),bn(e,d,x),bn(e,_,A),s=A,d=_,b-=1,v=[],c=[]}else u.delete(m),Sr(m,s,n),bn(e,m.prev,m.next),bn(e,m,d===null?e.effect.first:d.next),bn(e,d,m),d=m;continue}for(v=[],c=[];s!==null&&s!==m;)(u??=new Set).add(s),c.push(s),s=s.next;if(s===null)continue}(m.f&sn)===0&&v.push(m),d=m,s=m.next}if(e.outrogroups!==null){for(const H of e.outrogroups)H.pending.size===0&&(ra(mi(H.done)),e.outrogroups?.delete(H));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||u!==void 0){var I=[];if(u!==void 0)for(m of u)(m.f&It)===0&&I.push(m);for(;s!==null;)(s.f&It)===0&&s!==e.fallback&&I.push(s),s=s.next;var N=I.length;if(N>0){var F=(r&Do)!==0&&o===0?n:null;if(a){for(b=0;b<N;b+=1)I[b].nodes?.a?.measure();for(b=0;b<N;b+=1)I[b].nodes?.a?.fix()}Gu(e,I,F)}}a&&_n(()=>{if(f!==void 0)for(m of f)m.nodes?.a?.apply()})}function Xu(e,t,n,r,i,a,o,l){var s=(o&Qs)!==0?(o&Zs)===0?Er(n,!1,!1):Pn(n):null,u=(o&Xs)!==0?Pn(i):null;return{v:s,i:u,e:Nt(()=>(a(t,s??n,u??i,l),()=>{e.delete(r)}))}}function Sr(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&(t.f&sn)===0?t.nodes.start:n;r!==null;){var o=nn(r);if(a.before(r),r===i)return;r=o}}function bn(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Ku(e,t,n=!1,r=!1,i=!1){var a=e,o="";de(()=>{var l=ve;if(o===(o=t()??"")){fe&&In();return}if(l.nodes!==null&&(cl(l.nodes.start,l.nodes.end),l.nodes=null),o!==""){if(fe){be.data;for(var s=In(),u=s;s!==null&&(s.nodeType!==lr||s.data!=="");)u=s,s=nn(s);if(s===null)throw Lr(),Nr;Ft(be,u),a=lt(s);return}var d=o+"";n?d=`<svg>${d}</svg>`:r&&(d=`<math>${d}</math>`);var f=wa(d);if((n||r)&&(f=mt(f)),Ft(mt(f),f.lastChild),n||r)for(;mt(f);)a.before(mt(f));else a.before(f)}})}function ft(e,t,...n){var r=new xa(e);Br(()=>{const i=t()??null;r.ensure(i,i&&(a=>i(a,...n)))},vn)}function Ha(e,t,n){fe&&In();var r=new xa(e);Br(()=>{var i=t()??null;r.ensure(i,i&&(a=>n(a,i)))},vn)}const Zu=()=>performance.now(),on={tick:e=>requestAnimationFrame(e),now:()=>Zu(),tasks:new Set};function kl(){const e=on.now();on.tasks.forEach(t=>{t.c(e)||(on.tasks.delete(t),t.f())}),on.tasks.size!==0&&on.tick(kl)}function Ju(e){let t;return on.tasks.size===0&&on.tick(kl),{promise:new Promise(n=>{on.tasks.add(t={c:e,f:n})}),abort(){on.tasks.delete(t)}}}function ni(e,t){ur(()=>{e.dispatchEvent(new CustomEvent(t))})}function ec(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Ua(e){const t={},n=e.split(";");for(const r of n){const[i,a]=r.split(":");if(!i||a===void 0)break;const o=ec(i.trim());t[o]=a.trim()}return t}const tc=e=>e;function Va(e,t,n,r){var i=(e&iu)!==0,a=(e&au)!==0,o=i&&a,l=(e&ou)!==0,s=o?"both":i?"in":"out",u,d=t.inert,f=t.style.overflow,v,c;function g(){return ur(()=>u??=n()(t,r?.()??{},{direction:s}))}var E={is_global:l,in(){if(t.inert=d,!i){c?.abort(),c?.reset?.();return}a||v?.abort(),ni(t,"introstart"),v=ia(t,g(),c,1,()=>{ni(t,"introend"),v?.abort(),v=u=void 0,t.style.overflow=f})},out(A){if(!a){A?.(),u=void 0;return}t.inert=!0,ni(t,"outrostart"),c=ia(t,g(),v,0,()=>{ni(t,"outroend"),A?.()})},stop:()=>{v?.abort(),c?.abort()}},m=ve;if((m.nodes.t??=[]).push(E),i&&na){var b=l;if(!b){for(var T=m.parent;T&&(T.f&vn)!==0;)for(;(T=T.parent)&&(T.f&en)===0;);b=!T||(T.f&ar)!==0}b&&ya(()=>{V(()=>E.in())})}}function ia(e,t,n,r,i){var a=r===1;if(Qn(t)){var o,l=!1;return _n(()=>{if(!l){var m=t({direction:a?"in":"out"});o=ia(e,m,n,r,i)}}),{abort:()=>{l=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!t?.duration)return i(),{abort:Te,deactivate:Te,reset:Te,t:()=>r};const{delay:s=0,css:u,tick:d,easing:f=tc}=t;var v=[];if(a&&n===void 0&&(d&&d(0,1),u)){var c=Ua(u(0,1));v.push(c,c)}var g=()=>1-r,E=e.animate(v,{duration:s,fill:"forwards"});return E.onfinish=()=>{E.cancel();var m=n?.t()??1-r;n?.abort();var b=r-m,T=t.duration*Math.abs(b),A=[];if(T>0){var z=!1;if(u)for(var x=Math.ceil(T/16.666666666666668),_=0;_<=x;_+=1){var I=m+b*f(_/x),N=Ua(u(I,1-I));A.push(N),z||=N.overflow==="hidden"}z&&(e.style.overflow="hidden"),g=()=>{var F=E.currentTime;return m+b*f(F/T)},d&&Ju(()=>{if(E.playState!=="running")return!1;var F=g();return d(F,1-F),!0})}E=e.animate(A,{duration:T,fill:"forwards"}),E.onfinish=()=>{g=()=>r,d?.(r,1-r),i()}},{abort:()=>{E&&(E.cancel(),E.effect=null,E.onfinish=Te)},deactivate:()=>{i=Te},reset:()=>{r===0&&d?.(1,0)},t:()=>g()}}function Sa(e,t,n){ya(()=>{var r=V(()=>t(e,n?.())||{});if(r?.destroy)return()=>r.destroy()})}const Ya=[...` 	
\r\fÂ \v\uFEFF`];function nc(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var a=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+a;(o===0||Ya.includes(r[o-1]))&&(l===r.length||Ya.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function rc(e,t){return e==null?null:String(e)}function Pt(e,t,n,r,i,a){var o=e.__className;if(fe||o!==n||o===void 0){var l=nc(n,r,a);(!fe||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}else if(a&&i!==a)for(var s in a){var u=!!a[s];(i==null||u!==!!i[s])&&e.classList.toggle(s,u)}return a}function ic(e,t,n,r){var i=e.__style;if(fe||i!==t){var a=rc(t);(!fe||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=t}return r}const ac=Symbol("is custom element"),oc=Symbol("is html");function Kn(e){if(fe){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Zt(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;Zt(e,"checked",null),e.checked=i}}};e.__on_r=n,_n(n),il()}}function Zt(e,t,n,r){var i=lc(e);fe&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[Ls]=n),n==null?e.removeAttribute(t):typeof n!="string"&&sc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function lc(e){return e.__attributes??={[ac]:e.nodeName.includes("-"),[oc]:e.namespaceURI===cu}}var Wa=new Map;function sc(e){var t=e.getAttribute("is")||e.nodeName,n=Wa.get(t);if(n)return n;Wa.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){r=Po(i);for(var o in r)r[o].set&&n.push(o);i=fa(i)}return n}function Zn(e,t,n=t){var r=new WeakSet;al(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Bi(e)?Mi(a):a,n(a),Ee!==null&&r.add(Ee),await ki(),a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd,s=e.value.length;if(e.value=a??"",l!==null){var u=e.value.length;o===l&&l===s&&u>s?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=o,e.selectionEnd=Math.min(l,u))}}}),(fe&&e.defaultValue!==e.value||V(t)==null&&e.value)&&(n(Bi(e)?Mi(e.value):e.value),Ee!==null&&r.add(Ee)),Hn(()=>{var i=t();if(e===document.activeElement){var a=si??Ee;if(r.has(a))return}Bi(e)&&i===Mi(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function uc(e,t,n=t){al(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),(fe&&e.defaultChecked!==e.checked||V(t)==null)&&n(e.checked),Hn(()=>{var r=t();e.checked=!!r})}function Bi(e){var t=e.type;return t==="number"||t==="range"}function Mi(e){return e===""?null:+e}function Ga(e,t){return e===t||e?.[kn]===t}function rr(e={},t,n,r){return ya(()=>{var i,a;return Hn(()=>{i=a,a=[],V(()=>{e!==n(...a)&&(t(e,...a),i&&Ga(n(...i),e)&&t(null,...i))})}),()=>{_n(()=>{a&&Ga(n(...a),e)&&t(null,...a)})}}),e}function El(e=!1){const t=Ae,n=t.l.u;if(!n)return;let r=()=>xl(t.s);if(e){let i=0,a={};const o=Fr(()=>{let l=!1;const s=t.s;for(const u in s)s[u]!==a[u]&&(a[u]=s[u],l=!0);return l&&i++,i});r=()=>k(o)}n.b.length&&Au(()=>{Qa(t,r),fi(n.b)}),Ut(()=>{const i=V(()=>n.m.map(Ns));return()=>{for(const a of i)typeof a=="function"&&a()}}),n.a.length&&Ut(()=>{Qa(t,r),fi(n.a)})}function Qa(e,t){if(e.l.s)for(const n of e.l.s)k(n);t()}function Xa(e,t){var n=e.$$events?.[t.type],r=gi(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,t)}function ka(e,t,n){if(e==null)return t(void 0),n&&n(void 0),Te;const r=V(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Wn=[];function Il(e,t){return{subscribe:ir(e,t).subscribe}}function ir(e,t=Te){let n=null;const r=new Set;function i(l){if(No(e,l)&&(e=l,n)){const s=!Wn.length;for(const u of r)u[1](),Wn.push(u,e);if(s){for(let u=0;u<Wn.length;u+=2)Wn[u][0](Wn[u+1]);Wn.length=0}}}function a(l){i(l(e))}function o(l,s=Te){const u=[l,s];return r.add(u),r.size===1&&(n=t(i,a)||Te),l(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:o}}function Pl(e,t,n){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return Il(n,(o,l)=>{let s=!1;const u=[];let d=0,f=Te;const v=()=>{if(d)return;f();const g=t(r?u[0]:u,o,l);a?o(g):f=typeof g=="function"?g:Te},c=i.map((g,E)=>ka(g,m=>{u[E]=m,d&=~(1<<E),s&&v()},()=>{d|=1<<E}));return s=!0,v(),function(){fi(c),f(),s=!1}})}function cc(e){let t;return ka(e,n=>t=n)(),t}let ri=!1,aa=Symbol();function Le(e,t,n){const r=n[t]??={store:null,source:Er(void 0),unsubscribe:Te};if(r.store!==e&&!(aa in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Te;else{var i=!0;r.unsubscribe=ka(e,a=>{i?r.source.v=a:oe(r.source,a)}),i=!1}return e&&aa in n?cc(e):k(r.source)}function fc(e,t,n){let r=n[t];return r&&r.store!==e&&(r.unsubscribe(),r.unsubscribe=Te),e}function dc(e,t){return e.set(t),t}function cn(e,t){var n=e[t];n.store!==null&&dc(n.store,n.source.v)}function Ze(){const e={};function t(){_a(()=>{for(var n in e)e[n].unsubscribe();Io(e,aa,{enumerable:!1,value:!0})})}return[e,t]}function ce(e,t,n){return e.set(n),t}function vc(e){var t=ri;try{return ri=!1,[e(),ri]}finally{ri=t}}const hc={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Qn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];Qn(i)&&(i=i());const a=xn(i,t);if(a&&a.set)return a.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Qn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=xn(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===kn||t===Ao)return!1;for(let n of e.props)if(Qn(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Qn(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Ka(...e){return new Proxy({props:e},hc)}function ct(e,t,n,r){var i=!sr||(n&eu)!==0,a=(n&nu)!==0,o=(n&ru)!==0,l=r,s=!0,u=()=>(s&&(s=!1,l=o?V(r):r),l),d;if(a){var f=kn in e||Ao in e;d=xn(e,t)?.set??(f&&t in e?A=>e[t]=A:void 0)}var v,c=!1;a?[v,c]=vc(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=u(),d&&(i&&Us(),d(v)));var g;if(i?g=()=>{var A=e[t];return A===void 0?u():(s=!0,A)}:g=()=>{var A=e[t];return A!==void 0&&(l=void 0),A===void 0?l:A},i&&(n&tu)===0)return g;if(d){var E=e.$$legacy;return(function(A,z){return arguments.length>0?((!i||!z||E||c)&&d(z?g():A),A):g()})}var m=!1,b=((n&Js)!==0?Fr:Si)(()=>(m=!1,g()));a&&k(b);var T=ve;return(function(A,z){if(arguments.length>0){const x=z?k(b):i&&a?un(A):A;return oe(b,x),m=!0,l!==void 0&&(l=x),A}return Tn&&m||(T.f&Xt)!==0?b.v:k(b)})}function pc(e){Ae===null&&bi(),sr&&Ae.l!==null?Cl(Ae).m.push(e):Ut(()=>{const t=V(e);if(typeof t=="function")return t})}function gc(e){Ae===null&&bi(),pc(()=>()=>V(e))}function mc(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function _c(){const e=Ae;return e===null&&bi(),(t,n,r)=>{const i=e.s.$$events?.[t];if(i){const a=gi(i)?i.slice():[i],o=mc(t,n,r);for(const l of a)l.call(e.x,o);return!o.defaultPrevented}return!0}}function yc(e){Ae===null&&bi(),Ae.l===null&&Hs(),Cl(Ae).a.push(e)}function Cl(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const bc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(bc);hu();vu();var wc=B("<div><!></div>");function ue(e,t){var n=wc();let r;var i=L(n);ft(i,()=>t.children??Te),O(n),de(()=>r=Pt(n,1,"flex svelte-13pc1i9",null,r,{paddingVertical:t.padding==="vertical"||t.padding===!0,paddingHorizontal:t.padding==="horizontal"||t.padding===!0,column:t.column,full:t.full,nogap:t.nogap,justifyStart:t.justify==="start",justifyCenter:t.justify==="center",justifyEnd:t.justify==="end",justifyBetween:t.justify==="between",alignStart:t.align==="start",alignCenter:t.align==="center",alignEnd:t.align==="end",sm:t.sm,xl:t.xl,nogrow:t.nogrow})),R(e,n)}var xc=B("<h1>oops! something went wrong.</h1> <pre> </pre> <button>oops! try again</button>",1),Sc=B("<h1>loading...</h1>"),kc=B("<!> <!>",1);function Ec(e,t){var n=Bt(),r=J(n);Uo(r,{failed:(a,o=Te,l=Te)=>{var s=xc(),u=D(J(s),2),d=L(u,!0);O(u);var f=D(u,2);f.__click=function(...v){l()?.apply(this,v)},de(v=>Ye(d,v),[()=>JSON.stringify(o(),null,2)]),R(a,s)}},a=>{var o=kc(),l=J(o);ft(l,()=>t.children??Te);var s=D(l,2);{var u=d=>{ue(d,{justify:"center",padding:!0,children:(f,v)=>{var c=Sc();R(f,c)}})};Ne(s,d=>{yu(Su)&&d(u)})}R(a,o)}),R(e,n)}Ct(["click"]);const Ic="modulepreload",Pc=function(e){return"/dnd-character-sheet/"+e},Za={},Ei=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),s=l?.nonce||l?.getAttribute("nonce");i=u(n.map(d=>{if(d=Pc(d),d in Za)return;Za[d]=!0;const f=d.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const c=document.createElement("link");if(c.rel=f?"stylesheet":Ic,f||(c.as="script"),c.crossOrigin="",c.href=d,s&&c.setAttribute("nonce",s),document.head.appendChild(c),f)return new Promise((g,E)=>{c.addEventListener("load",g),c.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=l,window.dispatchEvent(s),!s.defaultPrevented)throw l}return i.then(l=>{for(const s of l||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function Tl(e){return e>0?`+${e}`:e.toString()}function Ii(e){return Math.floor((e-10)/2)}function Cc(e){switch(e){case"none":return 0;case"proficient":return 1;case"double":return 2;case"half":return .5}}function Tc(e,t,n){const r=Cc(n),i=Ii(e);return Math.floor(i+t*r)}function $c(e){return Object.entries(e)}function $l(e){const t=URL.createObjectURL(e);return new Promise((n,r)=>{const i=document.createElement("img");i.dispose=()=>{URL.revokeObjectURL(t)},i.onload=()=>{n(i)},i.onerror=()=>{r(new Error("Image could not be loaded"))},i.src=t})}function Ac(e,t){const n=e.indexOf(t),r=Array.from(e);return n===-1?r.push(t):r.splice(n,1),r}function Dc(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"")}function qi(e,t){const{[t]:n,...r}=e;return r}function Rc(){return(Date.now()+Math.floor(Math.random()*1e3)).toString(36)}function Oc(e,t){const n=e.indexOf(t);if(n===-1)return[e,""];const r=e.slice(0,n),i=e.slice(n+t.length);return[r.trim(),i.trim()]}function Nc(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}const Ea=ir([]);function oa(e,t="info"){const n={id:Rc(),message:e,type:t};Ea.update(r=>[...r,n])}function Ja(e){Ea.update(t=>t.filter(n=>n.id!==e))}const Lc=e=>e;function zc(e){const t=e-1;return t*t*t+1}function eo(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Fc(e,{delay:t=0,duration:n=400,easing:r=Lc}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}function Bc(e,{delay:t=0,duration:n=400,easing:r=zc,x:i=0,y:a=0,opacity:o=0}={}){const l=getComputedStyle(e),s=+l.opacity,u=l.transform==="none"?"":l.transform,d=s*(1-o),[f,v]=eo(i),[c,g]=eo(a);return{delay:t,duration:n,easing:r,css:(E,m)=>`
			transform: ${u} translate(${(1-E)*f}${v}, ${(1-E)*c}${g});
			opacity: ${s-d*m}`}}var Mc=B('<div><div class="inner svelte-foxhw6"><!></div></div>');function yt(e,t){var n=Mc();let r;var i=L(n),a=L(i);ft(a,()=>t.children??Te),O(i),O(n),de(()=>r=Pt(n,1,"container svelte-foxhw6",null,r,{nopadding:t.nopadding,grid:t.grid,absolute:t.absolute,rounded:t.rounded,noshadow:t.noshadow,transparent:t.transparent,faded:t.faded,small:t.small,nogrow:t.nogrow,withHover:t.withHover})),R(e,n)}var qc=B('<div class="message"> </div>'),jc=B('<button type="button" class="container"><!></button>');function Hc(e,t){Se(t,!0);const n=4e3;let r=Ce(!1);function i(){Ja(t.notification.id)}function a(){oe(r,!0)}function o(){oe(r,!1)}Ut(()=>{if(k(r))return;const u=setTimeout(()=>{Ja(t.notification.id)},n);return()=>{clearTimeout(u)}});var l=jc();l.__click=i;var s=L(l);yt(s,{children:(u,d)=>{var f=qc(),v=L(f,!0);O(f),de(()=>Ye(v,t.notification.message)),R(u,f)}}),O(l),Ht("mouseenter",l,a),Ht("mouseleave",l,o),Va(1,l,()=>Bc,()=>({y:100,duration:300})),Va(2,l,()=>Fc,()=>({duration:300})),R(e,l),ke()}Ct(["click"]);var Uc=B('<div class="notification"><!></div>'),Vc=B('<div class="container hide-print svelte-1tpaxq5"></div>');function Yc(e){const t=()=>Le(Ea,"$notifications",n),[n,r]=Ze();var i=Vc();pn(i,5,t,a=>a.id,(a,o)=>{var l=Uc(),s=L(l);Hc(s,{get notification(){return k(o)}}),O(l),R(a,l)}),O(i),R(e,i),r()}var Wc=Uu('<svg width="0" height="0" style="display: none;"><filter id="pencil"><feTurbulence type="fractalNoise" baseFrequency="0.5" numOctaves="1" result="noise"></feTurbulence><feDisplacementMap in="SourceGraphic" in2="noise"></feDisplacementMap></filter></svg>');function Gc(e,t){const n=ct(t,"scaleOverride",3,2.2);let r=Ce(un(n()));function i(){oe(r,.9)}function a(){oe(r,n())}var o=Wc();Ht("beforeprint",Cn,i),Ht("afterprint",Cn,a);var l=L(o),s=D(L(l));O(l),O(o),de(()=>Zt(s,"scale",k(r))),R(e,o)}function Al(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],l="",s=e.split("/");for(s[0]||s.shift();i=s.shift();)n=i[0],n==="*"?(o.push("wild"),l+="/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+"/?$","i")}}function to(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Pi=Il(null,function(t){t(to());const n=()=>{t(to())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Pl(Pi,e=>e.location);Pl(Pi,e=>e.querystring);const no=ir(void 0);async function Qc(e){if(!e||e.length<1||e.charAt(0)!="/"&&e.indexOf("#/")!==0)throw Error("Invalid parameter location");await ki(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(e.charAt(0)=="#"?"":"#")+e}function Dl(e,t){if(t=io(t),!e||!e.tagName||e.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return ro(e,t),{update(n){n=io(n),ro(e,n)}}}function Xc(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ro(e,t){let n=t.href||e.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);e.setAttribute("href",n),e.addEventListener("click",r=>{r.preventDefault(),t.disabled||Kc(r.currentTarget.getAttribute("href"))})}function io(e){return e&&typeof e=="string"?{href:e}:e||{}}function Kc(e){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=e}function Zc(e,t){Se(t,!1);let n=ct(t,"routes",24,()=>({})),r=ct(t,"prefix",8,""),i=ct(t,"restoreScrollState",8,!1);class a{constructor(_,I){if(!I||typeof I!="function"&&(typeof I!="object"||I._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:N,keys:F}=Al(_);this.path=_,typeof I=="object"&&I._sveltesparouter===!0?(this.component=I.component,this.conditions=I.conditions||[],this.userData=I.userData,this.props=I.props||{}):(this.component=()=>Promise.resolve(I),this.conditions=[],this.props={}),this._pattern=N,this._keys=F}match(_){if(r()){if(typeof r()=="string")if(_.startsWith(r()))_=_.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const H=_.match(r());if(H&&H[0])_=_.substr(H[0].length)||"/";else return null}}const I=this._pattern.exec(_);if(I===null)return null;if(this._keys===!1)return I;const N={};let F=0;for(;F<this._keys.length;){try{N[this._keys[F]]=decodeURIComponent(I[F+1]||"")||null}catch{N[this._keys[F]]=null}F++}return N}async checkConditions(_){for(let I=0;I<this.conditions.length;I++)if(!await this.conditions[I](_))return!1;return!0}}const o=[];n()instanceof Map?n().forEach((x,_)=>{o.push(new a(_,x))}):Object.keys(n()).forEach(x=>{o.push(new a(x,n()[x]))});let l=Er(null),s=Er(null),u=Er({});const d=_c();async function f(x,_){await ki(),d(x,_)}let v=null,c=null;i()&&(c=x=>{x.state&&(x.state.__svelte_spa_router_scrollY||x.state.__svelte_spa_router_scrollX)?v=x.state:v=null},window.addEventListener("popstate",c),yc(()=>{Xc(v)}));let g=null,E=null;const m=Pi.subscribe(async x=>{g=x;let _=0;for(;_<o.length;){const I=o[_].match(x.location);if(!I){_++;continue}const N={route:o[_].path,location:x.location,querystring:x.querystring,userData:o[_].userData,params:I&&typeof I=="object"&&Object.keys(I).length?I:null};if(!await o[_].checkConditions(N)){oe(l,null),E=null,f("conditionsFailed",N);return}f("routeLoading",Object.assign({},N));const F=o[_].component;if(E!=F){F.loading?(oe(l,F.loading),E=F,oe(s,F.loadingParams),oe(u,{}),f("routeLoaded",Object.assign({},N,{component:k(l),name:k(l).name,params:k(s)}))):(oe(l,null),E=null);const H=await F();if(x!=g)return;oe(l,H&&H.default||H),E=F}I&&typeof I=="object"&&Object.keys(I).length?oe(s,I):oe(s,null),oe(u,o[_].props),f("routeLoaded",Object.assign({},N,{component:k(l),name:k(l).name,params:k(s)})).then(()=>{no.set(k(s))});return}oe(l,null),E=null,no.set(void 0)});gc(()=>{m(),c&&window.removeEventListener("popstate",c)}),Ou(()=>xl(i()),()=>{history.scrollRestoration=i()?"manual":"auto"}),Nu(),El();var b=Bt(),T=J(b);{var A=x=>{var _=Bt(),I=J(_);Ha(I,()=>k(l),(N,F)=>{F(N,Ka({get params(){return k(s)}},()=>k(u),{$$events:{routeEvent(H){Xa.call(this,t,H)}}}))}),R(x,_)},z=x=>{var _=Bt(),I=J(_);Ha(I,()=>k(l),(N,F)=>{F(N,Ka(()=>k(u),{$$events:{routeEvent(H){Xa.call(this,t,H)}}}))}),R(x,_)};Ne(T,x=>{k(s)?x(A):x(z,!1)})}R(e,b),ke()}var Jc=B("<div></div>");function me(e,t){var n=Jc();let r;de(()=>r=Pt(n,1,"svelte-avds",null,r,{spread:t.spread,vertical:t.vertical})),R(e,n)}var ef=B('<div class="inner svelte-l89b3q"><!></div>'),tf=B("<div><!></div>");function Ia(e,t){var n=tf();let r;var i=L(n);yt(i,{withHover:!0,nopadding:!0,children:(a,o)=>{var l=ef(),s=L(l);ft(s,()=>t.children??Te),O(l),R(a,l)}}),O(n),de(()=>r=Pt(n,1,"wrapper svelte-l89b3q",null,r,{pending:t.pending})),R(e,n)}var nf=B("<button><!></button>");function ht(e,t){Se(t,!0);const n=ct(t,"type",3,"button");let r=Ce(!1);function i(){k(r)||(oe(r,!0),Promise.resolve(t.onclick?.()).finally(()=>{oe(r,!1)}))}var a=nf();a.__click=i;let o;var l=L(a);Ia(l,{get pending(){return k(r)},children:(s,u)=>{var d=Bt(),f=J(d);ft(f,()=>t.children??Te),R(s,d)}}),O(a),de(()=>{Zt(a,"type",n()),o=Pt(a,1,"svelte-18sv61c",null,o,{pending:k(r)})}),R(e,a),ke()}Ct(["click"]);const Pr=1300,Cr=1e3;function rf(e,t,n=.4,r=!1,i=128){const a=e.width|0,o=e.height|0;if(a<=0||o<=0)return;const l=t.getImageData(0,0,a,o),s=l.data,d=Math.max(-1,Math.min(1,n))*255,f=259*(d+255)/(255*(259-d)),v=g=>g<0?0:g>255?255:g,c=g=>v(f*(g-128)+128);for(let g=0;g<s.length;g+=4){if(s[g+3]===0)continue;const m=s[g+0],b=s[g+1],T=s[g+2];if(r){const A=.2126*m+.7152*b+.0722*T,x=c(A)<i?0:255;s[g+0]=x,s[g+1]=x,s[g+2]=x}else s[g+0]=c(m),s[g+1]=c(b),s[g+2]=c(T)}t.putImageData(l,0,0)}function af(e,t,n,r){const i=t.getImageData(0,0,e.width,e.height),a=i.data,o=r*255,l=n*r*(255-r);for(let s=0;s<a.length;s+=4){const u=a[s],d=a[s+1],f=a[s+2],v=.299*u+.587*d+.114*f;let c=0;v>l&&(c=190),v>o&&(c=255),a[s]=c,a[s+1]=c,a[s+2]=c}t.putImageData(i,0,0)}function of(e,t,n=6,r=45){const i=e.width|0,a=e.height|0;if(i<=0||a<=0)return;const l=t.getImageData(0,0,i,a).data,s=150,u=i*a,d=new Uint8Array(u),f=new Uint8Array(u);for(let I=0;I<u;I++){const N=I*4;if(l[N+3]===0){d[I]=255,f[I]=0;continue}const H=l[N+0],q=l[N+1],j=l[N+2],G=.2126*H+.7152*q+.0722*j|0;d[I]=G,f[I]=G<=s?1:0}const v=document.createElement("canvas");v.width=i,v.height=a;const c=v.getContext("2d");if(!c)return;c.clearRect(0,0,i,a),c.fillStyle="#fff",c.fillRect(0,0,i,a),c.fillStyle="#000";const g=r*Math.PI/180,E=Math.cos(g),m=Math.sin(g),b=Math.max(2,Math.round(n*2)),T=i/2,A=a/2,z=Math.sqrt(i*i+a*a)/2;for(let I=-z;I<=z;I+=b)for(let N=-z;N<=z;N+=b){const F=T+N*E-I*m,H=A+N*m+I*E,q=F|0,j=H|0;if(q<0||q>=i||j<0||j>=a)continue;const G=j*i+q,K=G*4;if(l[K+3]===0||f[G])continue;const ie=(1-d[G]/255)*n;ie<=.15||(c.beginPath(),c.arc(F,H,ie,0,Math.PI*2),c.fill())}const x=c.getImageData(0,0,i,a),_=x.data;for(let I=0;I<u;I++){const N=I*4,F=l[N+3];if(F===0){_[N+3]=0;continue}if(f[I]){const H=d[I];_[N+0]=H,_[N+1]=H,_[N+2]=H,_[N+3]=F}else _[N+3]=F}t.putImageData(x,0,0)}function lf(e,t,n,r,i){const a=e.getContext("2d");if(!a)return;const{width:o,height:l}=t;a.drawImage(t,n,r,o*i,l*i)}var sf=B('<div class="wrapper svelte-rcmikk"><canvas class="svelte-rcmikk"></canvas></div>');function Rl(e,t){Se(t,!0);let n=ct(t,"canvas",15),r=ct(t,"context",15);Ut(()=>{r(n()?.getContext("2d",{willReadFrequently:!0})??null)});var i=sf(),a=L(i);rr(a,o=>n(o),()=>n()),O(i),de(()=>{Zt(a,"width",t.width),Zt(a,"height",t.height)}),R(e,i),ke()}var uf=B('<div class="canvas svelte-nzlhga"><!></div>');function Ol(e,t){Se(t,!0);const n=Be(()=>t.avatar.blob);let r=Ce(null),i=Ce(null),a=Ce(null),o=Be(()=>t.avatar.contrast),l=Be(()=>t.avatar.gray),s=Be(()=>t.avatar.black);Ut(()=>{k(n)?$l(k(n)).then(f=>{oe(r,f,!0)}):oe(r,null)}),Ut(()=>{!k(r)||!k(a)||!k(i)||(k(a).clearRect(0,0,k(i).width,k(i).height),lf(k(i),k(r),t.avatar.x,t.avatar.y,t.avatar.scale),t.disableEffects||(rf(k(i),k(a),k(o)),af(k(i),k(a),k(l),k(s)),of(k(i),k(a),4,45)))});var u=uf(),d=L(u);Rl(d,{get width(){return Cr},get height(){return Pr},get canvas(){return k(i)},set canvas(f){oe(i,f,!0)},get context(){return k(a)},set context(f){oe(a,f,!0)}}),O(u),R(e,u),ke()}var cf=B('<div class="grid svelte-1hhz0mg"><div class="inner svelte-1hhz0mg"><!></div></div>');function ff(e,t){var n=cf(),r=L(n),i=L(r);ft(i,()=>t.children??Te),O(r),O(n),R(e,n)}var df=B('<h1 class="svelte-1udyrqm"> </h1> <!>',1),vf=B('<div class="padding svelte-1udyrqm"><!></div>'),hf=B('<div class="children svelte-1udyrqm"><!></div>'),pf=B('<div class="inner svelte-1udyrqm"><!> <!></div>');function Lt(e,t){yt(e,{get grid(){return t.grid},nopadding:!0,children:(n,r)=>{var i=pf(),a=L(i);{var o=u=>{var d=df(),f=J(d),v=L(f,!0);O(f);var c=D(f,2);me(c,{}),de(()=>Ye(v,t.title)),R(u,d)};Ne(a,u=>{t.title&&u(o)})}var l=D(a,2);{var s=u=>{var d=hf(),f=L(d);{var v=g=>{ff(g,{children:(E,m)=>{var b=Bt(),T=J(b);ft(T,()=>t.children),R(E,b)}})},c=g=>{var E=vf(),m=L(E);ft(m,()=>t.children),O(E),R(g,E)};Ne(f,g=>{t.grid?g(v):g(c,!1)})}O(d),R(u,d)};Ne(l,u=>{t.children&&u(s)})}O(i),R(n,i)}})}var gf=B('<div class="push svelte-1c0ge01"></div>');function Rr(e){var t=gf();R(e,t)}var mf=B("<span> </span>"),_f=B("<span> </span>"),yf=B("<p> </p> <p><!> <!></p>",1),bf=B("<span>View Sheet</span>"),wf=B("<a><!></a> <!>",1),xf=B('<!> <!> <!> <!> <div class="bottom svelte-19e1lap"><!></div>',1);function Sf(e,t){Se(t,!0),Lt(e,{get title(){return t.character.name},children:(n,r)=>{ue(n,{column:!0,children:(i,a)=>{var o=xf(),l=J(o);yt(l,{nopadding:!0,noshadow:!0,small:!0,children:(c,g)=>{Ol(c,{get avatar(){return t.character.avatar}})}});var s=D(l,2);ue(s,{column:!0,children:(c,g)=>{var E=yf(),m=J(E),b=L(m);O(m);var T=D(m,2),A=L(T);{var z=I=>{var N=mf(),F=L(N);O(N),de(()=>Ye(F,`Class: ${t.character.class??""}`)),R(I,N)};Ne(A,I=>{t.character.class&&I(z)})}var x=D(A,2);{var _=I=>{var N=_f(),F=L(N);O(N),de(()=>Ye(F,`(${t.character.subclass??""})`)),R(I,N)};Ne(x,I=>{t.character.subclass&&I(_)})}O(T),de(()=>Ye(b,`Level: ${t.character.level??""}`)),R(c,E)},$$slots:{default:!0}});var u=D(s,2);Rr(u);var d=D(u,2);me(d,{});var f=D(d,2),v=L(f);ue(v,{justify:"start",children:(c,g)=>{var E=wf(),m=J(E),b=L(m);Ia(b,{children:(z,x)=>{var _=bf();R(z,_)}}),O(m),Sa(m,z=>Dl?.(z));var T=D(m,2);{var A=z=>{ht(z,{get onclick(){return t.onDelete},children:(x,_)=>{xe();var I=Xe("Delete");R(x,I)},$$slots:{default:!0}})};Ne(T,z=>{t.onDelete&&z(A)})}de(z=>Zt(m,"href",z),[()=>Fn.characterSheet(t.character.slug)]),R(c,E)},$$slots:{default:!0}}),O(f),R(i,o)},$$slots:{default:!0}})}}),ke()}var kf=B('<div class="modal svelte-ta60gp"><div><!></div></div>');function Ef(e,t){Se(t,!0);function n(o){o.key==="Escape"&&(o.stopPropagation(),o.preventDefault(),t.onclose?.())}var r=kf();Ht("keydown",Cn,n);var i=L(r),a=L(i);Lt(a,{get title(){return t.title},children:(o,l)=>{var s=Bt(),u=J(s);ft(u,()=>t.children??Te),R(o,s)}}),O(i),O(r),R(e,r),ke()}var If=B('<div class="wrapper svelte-1mlq5p3"><!> <div class="inner"><!></div></div>');function Nl(e,t){var n=If(),r=L(n);me(r,{});var i=D(r,2),a=L(i);ft(a,()=>t.children??Te),O(i),O(n),R(e,n)}let ji;function Ll(e){return{lang:ji?.lang,message:e?.message,abortEarly:ji?.abortEarly,abortPipeEarly:ji?.abortPipeEarly}}let Pf;function Cf(e){return Pf?.get(e)}let Tf;function $f(e){return Tf?.get(e)}let Af;function Df(e,t){return Af?.get(e)?.get(t)}function zl(e){const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function gn(e,t,n,r,i){const a=i&&"input"in i?i.input:n.value,o=i?.expected??e.expects??null,l=i?.received??zl(a),s={kind:e.kind,type:e.type,input:a,expected:o,received:l,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u=e.kind==="schema",d=i?.message??e.message??Df(e.reference,s.lang)??(u?$f(s.lang):null)??r.message??Cf(s.lang);d!==void 0&&(s.message=typeof d=="function"?d(s):d),u&&(n.typed=!1),n.issues?n.issues.push(s):n.issues=[s]}function rn(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Ll())}}}function Rf(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}function ao(e,t){const n={};for(const r of e)n[r]=t;return n}var Of=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Fl(e){return{kind:"validation",type:"non_empty",reference:Fl,async:!1,expects:"!0",message:e,"~run"(t,n){return t.typed&&t.value.length===0&&gn(this,"length",t,n,{received:"0"}),t}}}function Nf(e,t,n){return typeof e.fallback=="function"?e.fallback(t,n):e.fallback}function Pa(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Xn(e,t){return{kind:"schema",type:"array",reference:Xn,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return rn(this)},"~run"(n,r){const i=n.value;if(Array.isArray(i)){n.typed=!0,n.value=[];for(let a=0;a<i.length;a++){const o=i[a],l=this.item["~run"]({value:o},r);if(l.issues){const s={type:"array",origin:"value",input:i,key:a,value:o};for(const u of l.issues)u.path?u.path.unshift(s):u.path=[s],n.issues?.push(u);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value.push(l.value)}}else gn(this,"type",n,r);return n}}}function Bl(e){return{kind:"schema",type:"boolean",reference:Bl,expects:"boolean",async:!1,message:e,get"~standard"(){return rn(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:gn(this,"type",t,n),t}}}function Ml(e,t){return{kind:"schema",type:"instance",reference:Ml,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return rn(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:gn(this,"type",n,r),n}}}function ql(e,t){return{kind:"schema",type:"nullable",reference:ql,expects:`(${e.expects} | null)`,async:!1,wrapped:e,default:t,get"~standard"(){return rn(this)},"~run"(n,r){return n.value===null&&(this.default!==void 0&&(n.value=Pa(this,n,r)),n.value===null)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function it(e){return{kind:"schema",type:"number",reference:it,expects:"number",async:!1,message:e,get"~standard"(){return rn(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:gn(this,"type",t,n),t}}}function ln(e,t){return{kind:"schema",type:"object",reference:ln,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return rn(this)},"~run"(n,r){const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const a in this.entries){const o=this.entries[a];if(a in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){const l=a in i?i[a]:Pa(o),s=o["~run"]({value:l},r);if(s.issues){const u={type:"object",origin:"value",input:i,key:a,value:l};for(const d of s.issues)d.path?d.path.unshift(u):d.path=[u],n.issues?.push(d);if(n.issues||(n.issues=s.issues),r.abortEarly){n.typed=!1;break}}s.typed||(n.typed=!1),n.value[a]=s.value}else if(o.fallback!==void 0)n.value[a]=Nf(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(gn(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]}),r.abortEarly))break}}else gn(this,"type",n,r);return n}}}function ae(e,t){return{kind:"schema",type:"optional",reference:ae,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return rn(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Pa(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Ci(e,t){return{kind:"schema",type:"picklist",reference:Ci,expects:Rf(e.map(zl),"|"),async:!1,options:e,message:t,get"~standard"(){return rn(this)},"~run"(n,r){return this.options.includes(n.value)?n.typed=!0:gn(this,"type",n,r),n}}}function Re(e){return{kind:"schema",type:"string",reference:Re,expects:"string",async:!1,message:e,get"~standard"(){return rn(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:gn(this,"type",t,n),t}}}function fr(e,t,n){const r=e["~run"]({value:t},Ll(n));if(r.issues)throw new Of(r.issues);return r.value}function Lf(...e){return{...e[0],pipe:e,get"~standard"(){return rn(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const zf=["acrobatics","animalHandling","arcana","athletics","deception","history","insight","intimidation","investigation","medicine","nature","perception","performance","persuasion","religion","sleightOfHand","stealth","survival"],jl=["str","dex","con","int","wis","cha"],Ff=["none","str","dex","con","int","wis","cha"],Bf=["none","proficient","double","half"],Mf=Ci(jl),qf=Ci(Ff),jf=Ci(Bf),Hf=ln({name:ae(Re(),""),hit:ae(it(),0),damage:ae(Re(),""),details:ae(Re(),"")}),Hl=ln({name:ae(Re(),""),level:ae(it(),0),castingTime:ae(Re(),""),range:ae(Re(),""),components:ae(Re(),""),duration:ae(Re(),""),description:ae(Re(),""),notes:ae(Re(),""),prepared:ae(Bl(),!0)}),Uf=ln({blob:ae(ql(Ml(Blob)),null),contrast:ae(it(),0),gray:ae(it(),.5),black:ae(it(),.25),x:ae(it(),0),y:ae(it(),0),scale:ae(it(),1)}),Mr=ln({slug:Lf(Re(),Fl()),avatar:ae(Uf,{blob:null,contrast:1,gray:.5,black:.25,x:0,y:0,scale:1}),name:ae(Re(),""),playerName:ae(Re(),""),level:ae(it(),1),class:ae(Re(),""),subclass:ae(Re(),""),species:ae(Re(),""),size:ae(Re(),""),speed:ae(it(),30),background:ae(Re(),""),alignment:ae(Re(),""),armorClass:ae(it(),10),hitDice:ae(Re(),"1d8"),hitPoints:ae(it(),1),proficiencyBonus:ae(it(),2),abilityScores:ae(ln(ao(jl,ae(it(),10))),{str:10,dex:10,con:10,int:10,wis:10,cha:10}),abilityProficiencies:ae(Xn(Mf),[]),skillProficiencies:ae(ln(ao(zf,ae(jf,"none"))),{acrobatics:"none",animalHandling:"none",arcana:"none",athletics:"none",deception:"none",history:"none",insight:"none",intimidation:"none",investigation:"none",medicine:"none",nature:"none",perception:"none",performance:"none",persuasion:"none",religion:"none",sleightOfHand:"none",stealth:"none",survival:"none"}),languages:ae(Re(),""),features:ae(ln({feats:ae(Re(),""),species:ae(Re(),""),class:ae(Re(),"")}),{feats:"",species:"",class:""}),weapons:ae(Xn(Hf),[]),spells:ae(Xn(Hl),[]),spellcastingAbility:ae(qf,"none"),spellSlots:ae(Xn(ln({level:ae(it(),1),amount:ae(it(),0)})),[]),inventory:ae(Xn(Re()),[])});function Vf(e){return fr(Mr,e)}const Yf={acrobatics:"dex",animalHandling:"wis",arcana:"int",athletics:"str",deception:"cha",history:"int",insight:"wis",intimidation:"cha",investigation:"int",medicine:"wis",nature:"int",perception:"wis",performance:"cha",persuasion:"cha",religion:"int",sleightOfHand:"dex",stealth:"dex",survival:"wis"},Wf="/dnd-character-sheet/assets/belo-DO5QS6YM.jpg",Gf="/dnd-character-sheet/assets/belo-DFuxIOaa.yml";async function Ul(e,t,n){const r=await $l(e),i=r.width/r.height,a=t/n;let o,l,s;return i>a?(o=n/r.height,l=(t-r.width*o)/2,s=0):(o=t/r.width,l=0,s=(n-r.height*o)/2),r.dispose(),{x:l,y:s,scale:o}}var ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ai(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hi={exports:{}};var oo;function Qf(){return oo||(oo=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,a){function o(u,d){if(!i[u]){if(!r[u]){var f=typeof ai=="function"&&ai;if(!d&&f)return f(u,!0);if(l)return l(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var c=i[u]={exports:{}};r[u][0].call(c.exports,function(g){var E=r[u][1][g];return o(E||g)},c,c.exports,n,r,i,a)}return i[u].exports}for(var l=typeof ai=="function"&&ai,s=0;s<a.length;s++)o(a[s]);return o})({1:[function(n,r,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,l;if(o){var s=0,u=new o(g),d=a.document.createTextNode("");u.observe(d,{characterData:!0}),l=function(){d.data=s=++s%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=g,l=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?l=function(){var m=a.document.createElement("script");m.onreadystatechange=function(){g(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:l=function(){setTimeout(g,0)};var v,c=[];function g(){v=!0;for(var m,b,T=c.length;T;){for(b=c,c=[],m=-1;++m<T;)b[m]();T=c.length}v=!1}r.exports=E;function E(m){c.push(m)===1&&!v&&l()}}).call(this,typeof ii<"u"?ii:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var a=n(1);function o(){}var l={},s=["REJECTED"],u=["FULFILLED"],d=["PENDING"];r.exports=f;function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,x!==o&&E(this,x)}f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,_){if(typeof x!="function"&&this.state===u||typeof _!="function"&&this.state===s)return this;var I=new this.constructor(o);if(this.state!==d){var N=this.state===u?x:_;c(I,N,this.outcome)}else this.queue.push(new v(I,x,_));return I};function v(x,_,I){this.promise=x,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},v.prototype.otherCallFulfilled=function(x){c(this.promise,this.onFulfilled,x)},v.prototype.callRejected=function(x){l.reject(this.promise,x)},v.prototype.otherCallRejected=function(x){c(this.promise,this.onRejected,x)};function c(x,_,I){a(function(){var N;try{N=_(I)}catch(F){return l.reject(x,F)}N===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,N)})}l.resolve=function(x,_){var I=m(g,_);if(I.status==="error")return l.reject(x,I.value);var N=I.value;if(N)E(x,N);else{x.state=u,x.outcome=_;for(var F=-1,H=x.queue.length;++F<H;)x.queue[F].callFulfilled(_)}return x},l.reject=function(x,_){x.state=s,x.outcome=_;for(var I=-1,N=x.queue.length;++I<N;)x.queue[I].callRejected(_);return x};function g(x){var _=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof _=="function")return function(){_.apply(x,arguments)}}function E(x,_){var I=!1;function N(j){I||(I=!0,l.reject(x,j))}function F(j){I||(I=!0,l.resolve(x,j))}function H(){_(F,N)}var q=m(H);q.status==="error"&&N(q.value)}function m(x,_){var I={};try{I.value=x(_),I.status="success"}catch(N){I.status="error",I.value=N}return I}f.resolve=b;function b(x){return x instanceof this?x:l.resolve(new this(o),x)}f.reject=T;function T(x){var _=new this(o);return l.reject(_,x)}f.all=A;function A(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,N=!1;if(!I)return this.resolve([]);for(var F=new Array(I),H=0,q=-1,j=new this(o);++q<I;)G(x[q],q);return j;function G(K,Z){_.resolve(K).then(ie,function(re){N||(N=!0,l.reject(j,re))});function ie(re){F[Z]=re,++H===I&&!N&&(N=!0,l.resolve(j,F))}}}f.race=z;function z(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,N=!1;if(!I)return this.resolve([]);for(var F=-1,H=new this(o);++F<I;)q(x[F]);return H;function q(j){_.resolve(j).then(function(G){N||(N=!0,l.resolve(H,G))},function(G){N||(N=!0,l.reject(H,G))})}}},{1:1}],3:[function(n,r,i){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof ii<"u"?ii:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};function o(h,S){if(!(h instanceof S))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var s=l();function u(){try{if(!s||!s.open)return!1;var h=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),S=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!h||S)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(h,S){h=h||[],S=S||{};try{return new Blob(h,S)}catch(P){if(P.name!=="TypeError")throw P;for(var p=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,C=new p,$=0;$<h.length;$+=1)C.append(h[$]);return C.getBlob(S.type)}}typeof Promise>"u"&&n(3);var f=Promise;function v(h,S){S&&h.then(function(p){S(null,p)},function(p){S(p)})}function c(h,S,p){typeof S=="function"&&h.then(S),typeof p=="function"&&h.catch(p)}function g(h){return typeof h!="string"&&(console.warn(h+" used as a key, but it is not a string."),h=String(h)),h}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",b=void 0,T={},A=Object.prototype.toString,z="readonly",x="readwrite";function _(h){for(var S=h.length,p=new ArrayBuffer(S),C=new Uint8Array(p),$=0;$<S;$++)C[$]=h.charCodeAt($);return p}function I(h){return new f(function(S){var p=h.transaction(m,x),C=d([""]);p.objectStore(m).put(C,"key"),p.onabort=function($){$.preventDefault(),$.stopPropagation(),S(!1)},p.oncomplete=function(){var $=navigator.userAgent.match(/Chrome\/(\d+)/),P=navigator.userAgent.match(/Edge\//);S(P||!$||parseInt($[1],10)>=43)}}).catch(function(){return!1})}function N(h){return typeof b=="boolean"?f.resolve(b):I(h).then(function(S){return b=S,b})}function F(h){var S=T[h.name],p={};p.promise=new f(function(C,$){p.resolve=C,p.reject=$}),S.deferredOperations.push(p),S.dbReady?S.dbReady=S.dbReady.then(function(){return p.promise}):S.dbReady=p.promise}function H(h){var S=T[h.name],p=S.deferredOperations.pop();if(p)return p.resolve(),p.promise}function q(h,S){var p=T[h.name],C=p.deferredOperations.pop();if(C)return C.reject(S),C.promise}function j(h,S){return new f(function(p,C){if(T[h.name]=T[h.name]||we(),h.db)if(S)F(h),h.db.close();else return p(h.db);var $=[h.name];S&&$.push(h.version);var P=s.open.apply(s,$);S&&(P.onupgradeneeded=function(M){var U=P.result;try{U.createObjectStore(h.storeName),M.oldVersion<=1&&U.createObjectStore(m)}catch(Y){if(Y.name==="ConstraintError")console.warn('The database "'+h.name+'" has been upgraded from version '+M.oldVersion+" to version "+M.newVersion+', but the storage "'+h.storeName+'" already exists.');else throw Y}}),P.onerror=function(M){M.preventDefault(),C(P.error)},P.onsuccess=function(){var M=P.result;M.onversionchange=function(U){U.target.close()},p(M),H(h)}})}function G(h){return j(h,!1)}function K(h){return j(h,!0)}function Z(h,S){if(!h.db)return!0;var p=!h.db.objectStoreNames.contains(h.storeName),C=h.version<h.db.version,$=h.version>h.db.version;if(C&&(h.version!==S&&console.warn('The database "'+h.name+`" can't be downgraded from version `+h.db.version+" to version "+h.version+"."),h.version=h.db.version),$||p){if(p){var P=h.db.version+1;P>h.version&&(h.version=P)}return!0}return!1}function ie(h){return new f(function(S,p){var C=new FileReader;C.onerror=p,C.onloadend=function($){var P=btoa($.target.result||"");S({__local_forage_encoded_blob:!0,data:P,type:h.type})},C.readAsBinaryString(h)})}function re(h){var S=_(atob(h.data));return d([S],{type:h.type})}function se(h){return h&&h.__local_forage_encoded_blob}function he(h){var S=this,p=S._initReady().then(function(){var C=T[S._dbInfo.name];if(C&&C.dbReady)return C.dbReady});return c(p,h,h),p}function w(h){F(h);for(var S=T[h.name],p=S.forages,C=0;C<p.length;C++){var $=p[C];$._dbInfo.db&&($._dbInfo.db.close(),$._dbInfo.db=null)}return h.db=null,G(h).then(function(P){return h.db=P,Z(h)?K(h):P}).then(function(P){h.db=S.db=P;for(var M=0;M<p.length;M++)p[M]._dbInfo.db=P}).catch(function(P){throw q(h,P),P})}function ee(h,S,p,C){C===void 0&&(C=1);try{var $=h.db.transaction(h.storeName,S);p(null,$)}catch(P){if(C>0&&(!h.db||P.name==="InvalidStateError"||P.name==="NotFoundError"))return f.resolve().then(function(){if(!h.db||P.name==="NotFoundError"&&!h.db.objectStoreNames.contains(h.storeName)&&h.version<=h.db.version)return h.db&&(h.version=h.db.version+1),K(h)}).then(function(){return w(h).then(function(){ee(h,S,p,C-1)})}).catch(p);p(P)}}function we(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function y(h){var S=this,p={db:null};if(h)for(var C in h)p[C]=h[C];var $=T[p.name];$||($=we(),T[p.name]=$),$.forages.push(S),S._initReady||(S._initReady=S.ready,S.ready=he);var P=[];function M(){return f.resolve()}for(var U=0;U<$.forages.length;U++){var Y=$.forages[U];Y!==S&&P.push(Y._initReady().catch(M))}var W=$.forages.slice(0);return f.all(P).then(function(){return p.db=$.db,G(p)}).then(function(X){return p.db=X,Z(p,S._defaultConfig.version)?K(p):X}).then(function(X){p.db=$.db=X,S._dbInfo=p;for(var te=0;te<W.length;te++){var ge=W[te];ge!==S&&(ge._dbInfo.db=p.db,ge._dbInfo.version=p.version)}})}function pe(h,S){var p=this;h=g(h);var C=new f(function($,P){p.ready().then(function(){ee(p._dbInfo,z,function(M,U){if(M)return P(M);try{var Y=U.objectStore(p._dbInfo.storeName),W=Y.get(h);W.onsuccess=function(){var X=W.result;X===void 0&&(X=null),se(X)&&(X=re(X)),$(X)},W.onerror=function(){P(W.error)}}catch(X){P(X)}})}).catch(P)});return v(C,S),C}function De(h,S){var p=this,C=new f(function($,P){p.ready().then(function(){ee(p._dbInfo,z,function(M,U){if(M)return P(M);try{var Y=U.objectStore(p._dbInfo.storeName),W=Y.openCursor(),X=1;W.onsuccess=function(){var te=W.result;if(te){var ge=te.value;se(ge)&&(ge=re(ge));var Pe=h(ge,te.key,X++);Pe!==void 0?$(Pe):te.continue()}else $()},W.onerror=function(){P(W.error)}}catch(te){P(te)}})}).catch(P)});return v(C,S),C}function _e(h,S,p){var C=this;h=g(h);var $=new f(function(P,M){var U;C.ready().then(function(){return U=C._dbInfo,A.call(S)==="[object Blob]"?N(U.db).then(function(Y){return Y?S:ie(S)}):S}).then(function(Y){ee(C._dbInfo,x,function(W,X){if(W)return M(W);try{var te=X.objectStore(C._dbInfo.storeName);Y===null&&(Y=void 0);var ge=te.put(Y,h);X.oncomplete=function(){Y===void 0&&(Y=null),P(Y)},X.onabort=X.onerror=function(){var Pe=ge.error?ge.error:ge.transaction.error;M(Pe)}}catch(Pe){M(Pe)}})}).catch(M)});return v($,p),$}function ze(h,S){var p=this;h=g(h);var C=new f(function($,P){p.ready().then(function(){ee(p._dbInfo,x,function(M,U){if(M)return P(M);try{var Y=U.objectStore(p._dbInfo.storeName),W=Y.delete(h);U.oncomplete=function(){$()},U.onerror=function(){P(W.error)},U.onabort=function(){var X=W.error?W.error:W.transaction.error;P(X)}}catch(X){P(X)}})}).catch(P)});return v(C,S),C}function je(h){var S=this,p=new f(function(C,$){S.ready().then(function(){ee(S._dbInfo,x,function(P,M){if(P)return $(P);try{var U=M.objectStore(S._dbInfo.storeName),Y=U.clear();M.oncomplete=function(){C()},M.onabort=M.onerror=function(){var W=Y.error?Y.error:Y.transaction.error;$(W)}}catch(W){$(W)}})}).catch($)});return v(p,h),p}function Je(h){var S=this,p=new f(function(C,$){S.ready().then(function(){ee(S._dbInfo,z,function(P,M){if(P)return $(P);try{var U=M.objectStore(S._dbInfo.storeName),Y=U.count();Y.onsuccess=function(){C(Y.result)},Y.onerror=function(){$(Y.error)}}catch(W){$(W)}})}).catch($)});return v(p,h),p}function st(h,S){var p=this,C=new f(function($,P){if(h<0){$(null);return}p.ready().then(function(){ee(p._dbInfo,z,function(M,U){if(M)return P(M);try{var Y=U.objectStore(p._dbInfo.storeName),W=!1,X=Y.openKeyCursor();X.onsuccess=function(){var te=X.result;if(!te){$(null);return}h===0||W?$(te.key):(W=!0,te.advance(h))},X.onerror=function(){P(X.error)}}catch(te){P(te)}})}).catch(P)});return v(C,S),C}function et(h){var S=this,p=new f(function(C,$){S.ready().then(function(){ee(S._dbInfo,z,function(P,M){if(P)return $(P);try{var U=M.objectStore(S._dbInfo.storeName),Y=U.openKeyCursor(),W=[];Y.onsuccess=function(){var X=Y.result;if(!X){C(W);return}W.push(X.key),X.continue()},Y.onerror=function(){$(Y.error)}}catch(X){$(X)}})}).catch($)});return v(p,h),p}function Mt(h,S){S=E.apply(this,arguments);var p=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||p.name,h.storeName=h.storeName||p.storeName);var C=this,$;if(!h.name)$=f.reject("Invalid arguments");else{var P=h.name===p.name&&C._dbInfo.db,M=P?f.resolve(C._dbInfo.db):G(h).then(function(U){var Y=T[h.name],W=Y.forages;Y.db=U;for(var X=0;X<W.length;X++)W[X]._dbInfo.db=U;return U});h.storeName?$=M.then(function(U){if(U.objectStoreNames.contains(h.storeName)){var Y=U.version+1;F(h);var W=T[h.name],X=W.forages;U.close();for(var te=0;te<X.length;te++){var ge=X[te];ge._dbInfo.db=null,ge._dbInfo.version=Y}var Pe=new f(function($e,He){var qe=s.open(h.name,Y);qe.onerror=function(Dt){var br=qe.result;br.close(),He(Dt)},qe.onupgradeneeded=function(){var Dt=qe.result;Dt.deleteObjectStore(h.storeName)},qe.onsuccess=function(){var Dt=qe.result;Dt.close(),$e(Dt)}});return Pe.then(function($e){W.db=$e;for(var He=0;He<X.length;He++){var qe=X[He];qe._dbInfo.db=$e,H(qe._dbInfo)}}).catch(function($e){throw(q(h,$e)||f.resolve()).catch(function(){}),$e})}}):$=M.then(function(U){F(h);var Y=T[h.name],W=Y.forages;U.close();for(var X=0;X<W.length;X++){var te=W[X];te._dbInfo.db=null}var ge=new f(function(Pe,$e){var He=s.deleteDatabase(h.name);He.onerror=function(){var qe=He.result;qe&&qe.close(),$e(He.error)},He.onblocked=function(){console.warn('dropInstance blocked for database "'+h.name+'" until all open connections are closed')},He.onsuccess=function(){var qe=He.result;qe&&qe.close(),Pe(qe)}});return ge.then(function(Pe){Y.db=Pe;for(var $e=0;$e<W.length;$e++){var He=W[$e];H(He._dbInfo)}}).catch(function(Pe){throw(q(h,Pe)||f.resolve()).catch(function(){}),Pe})})}return v($,S),$}var tt={_driver:"asyncStorage",_initStorage:y,_support:u(),iterate:De,getItem:pe,setItem:_e,removeItem:ze,clear:je,length:Je,key:st,keys:et,dropInstance:Mt};function An(){return typeof openDatabase=="function"}var Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="~~local_forage_type~",dt=/^~~local_forage_type~([^~]+)~/,Me="__lfsc__:",Tt=Me.length,an="arbf",dr="blob",jr="si08",Hr="ui08",Ur="uic8",Vr="si16",Yr="si32",yn="ur16",Wr="ui32",Gr="fl32",vr="fl64",Qr=Tt+an.length,hr=Object.prototype.toString;function pr(h){var S=h.length*.75,p=h.length,C,$=0,P,M,U,Y;h[h.length-1]==="="&&(S--,h[h.length-2]==="="&&S--);var W=new ArrayBuffer(S),X=new Uint8Array(W);for(C=0;C<p;C+=4)P=Ge.indexOf(h[C]),M=Ge.indexOf(h[C+1]),U=Ge.indexOf(h[C+2]),Y=Ge.indexOf(h[C+3]),X[$++]=P<<2|M>>4,X[$++]=(M&15)<<4|U>>2,X[$++]=(U&3)<<6|Y&63;return W}function gr(h){var S=new Uint8Array(h),p="",C;for(C=0;C<S.length;C+=3)p+=Ge[S[C]>>2],p+=Ge[(S[C]&3)<<4|S[C+1]>>4],p+=Ge[(S[C+1]&15)<<2|S[C+2]>>6],p+=Ge[S[C+2]&63];return S.length%3===2?p=p.substring(0,p.length-1)+"=":S.length%3===1&&(p=p.substring(0,p.length-2)+"=="),p}function $i(h,S){var p="";if(h&&(p=hr.call(h)),h&&(p==="[object ArrayBuffer]"||h.buffer&&hr.call(h.buffer)==="[object ArrayBuffer]")){var C,$=Me;h instanceof ArrayBuffer?(C=h,$+=an):(C=h.buffer,p==="[object Int8Array]"?$+=jr:p==="[object Uint8Array]"?$+=Hr:p==="[object Uint8ClampedArray]"?$+=Ur:p==="[object Int16Array]"?$+=Vr:p==="[object Uint16Array]"?$+=yn:p==="[object Int32Array]"?$+=Yr:p==="[object Uint32Array]"?$+=Wr:p==="[object Float32Array]"?$+=Gr:p==="[object Float64Array]"?$+=vr:S(new Error("Failed to get type for BinaryArray"))),S($+gr(C))}else if(p==="[object Blob]"){var P=new FileReader;P.onload=function(){var M=Ue+h.type+"~"+gr(this.result);S(Me+dr+M)},P.readAsArrayBuffer(h)}else try{S(JSON.stringify(h))}catch(M){console.error("Couldn't convert value into a JSON string: ",h),S(null,M)}}function Ai(h){if(h.substring(0,Tt)!==Me)return JSON.parse(h);var S=h.substring(Qr),p=h.substring(Tt,Qr),C;if(p===dr&&dt.test(S)){var $=S.match(dt);C=$[1],S=S.substring($[0].length)}var P=pr(S);switch(p){case an:return P;case dr:return d([P],{type:C});case jr:return new Int8Array(P);case Hr:return new Uint8Array(P);case Ur:return new Uint8ClampedArray(P);case Vr:return new Int16Array(P);case yn:return new Uint16Array(P);case Yr:return new Int32Array(P);case Wr:return new Uint32Array(P);case Gr:return new Float32Array(P);case vr:return new Float64Array(P);default:throw new Error("Unkown type: "+p)}}var mr={serialize:$i,deserialize:Ai,stringToBuffer:pr,bufferToString:gr};function Xr(h,S,p,C){h.executeSql("CREATE TABLE IF NOT EXISTS "+S.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],p,C)}function Di(h){var S=this,p={db:null};if(h)for(var C in h)p[C]=typeof h[C]!="string"?h[C].toString():h[C];var $=new f(function(P,M){try{p.db=openDatabase(p.name,String(p.version),p.description,p.size)}catch(U){return M(U)}p.db.transaction(function(U){Xr(U,p,function(){S._dbInfo=p,P()},function(Y,W){M(W)})},M)});return p.serializer=mr,$}function Yt(h,S,p,C,$,P){h.executeSql(p,C,$,function(M,U){U.code===U.SYNTAX_ERR?M.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[S.storeName],function(Y,W){W.rows.length?P(Y,U):Xr(Y,S,function(){Y.executeSql(p,C,$,P)},P)},P):P(M,U)},P)}function Kr(h,S){var p=this;h=g(h);var C=new f(function($,P){p.ready().then(function(){var M=p._dbInfo;M.db.transaction(function(U){Yt(U,M,"SELECT * FROM "+M.storeName+" WHERE key = ? LIMIT 1",[h],function(Y,W){var X=W.rows.length?W.rows.item(0).value:null;X&&(X=M.serializer.deserialize(X)),$(X)},function(Y,W){P(W)})})}).catch(P)});return v(C,S),C}function Ri(h,S){var p=this,C=new f(function($,P){p.ready().then(function(){var M=p._dbInfo;M.db.transaction(function(U){Yt(U,M,"SELECT * FROM "+M.storeName,[],function(Y,W){for(var X=W.rows,te=X.length,ge=0;ge<te;ge++){var Pe=X.item(ge),$e=Pe.value;if($e&&($e=M.serializer.deserialize($e)),$e=h($e,Pe.key,ge+1),$e!==void 0){$($e);return}}$()},function(Y,W){P(W)})})}).catch(P)});return v(C,S),C}function Zr(h,S,p,C){var $=this;h=g(h);var P=new f(function(M,U){$.ready().then(function(){S===void 0&&(S=null);var Y=S,W=$._dbInfo;W.serializer.serialize(S,function(X,te){te?U(te):W.db.transaction(function(ge){Yt(ge,W,"INSERT OR REPLACE INTO "+W.storeName+" (key, value) VALUES (?, ?)",[h,X],function(){M(Y)},function(Pe,$e){U($e)})},function(ge){if(ge.code===ge.QUOTA_ERR){if(C>0){M(Zr.apply($,[h,Y,p,C-1]));return}U(ge)}})})}).catch(U)});return v(P,p),P}function Oi(h,S,p){return Zr.apply(this,[h,S,p,1])}function Q(h,S){var p=this;h=g(h);var C=new f(function($,P){p.ready().then(function(){var M=p._dbInfo;M.db.transaction(function(U){Yt(U,M,"DELETE FROM "+M.storeName+" WHERE key = ?",[h],function(){$()},function(Y,W){P(W)})})}).catch(P)});return v(C,S),C}function ne(h){var S=this,p=new f(function(C,$){S.ready().then(function(){var P=S._dbInfo;P.db.transaction(function(M){Yt(M,P,"DELETE FROM "+P.storeName,[],function(){C()},function(U,Y){$(Y)})})}).catch($)});return v(p,h),p}function Qe(h){var S=this,p=new f(function(C,$){S.ready().then(function(){var P=S._dbInfo;P.db.transaction(function(M){Yt(M,P,"SELECT COUNT(key) as c FROM "+P.storeName,[],function(U,Y){var W=Y.rows.item(0).c;C(W)},function(U,Y){$(Y)})})}).catch($)});return v(p,h),p}function St(h,S){var p=this,C=new f(function($,P){p.ready().then(function(){var M=p._dbInfo;M.db.transaction(function(U){Yt(U,M,"SELECT key FROM "+M.storeName+" WHERE id = ? LIMIT 1",[h+1],function(Y,W){var X=W.rows.length?W.rows.item(0).key:null;$(X)},function(Y,W){P(W)})})}).catch(P)});return v(C,S),C}function $t(h){var S=this,p=new f(function(C,$){S.ready().then(function(){var P=S._dbInfo;P.db.transaction(function(M){Yt(M,P,"SELECT key FROM "+P.storeName,[],function(U,Y){for(var W=[],X=0;X<Y.rows.length;X++)W.push(Y.rows.item(X).key);C(W)},function(U,Y){$(Y)})})}).catch($)});return v(p,h),p}function qt(h){return new f(function(S,p){h.transaction(function(C){C.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function($,P){for(var M=[],U=0;U<P.rows.length;U++)M.push(P.rows.item(U).name);S({db:h,storeNames:M})},function($,P){p(P)})},function(C){p(C)})})}function At(h,S){S=E.apply(this,arguments);var p=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||p.name,h.storeName=h.storeName||p.storeName);var C=this,$;return h.name?$=new f(function(P){var M;h.name===p.name?M=C._dbInfo.db:M=openDatabase(h.name,"","",0),h.storeName?P({db:M,storeNames:[h.storeName]}):P(qt(M))}).then(function(P){return new f(function(M,U){P.db.transaction(function(Y){function W(Pe){return new f(function($e,He){Y.executeSql("DROP TABLE IF EXISTS "+Pe,[],function(){$e()},function(qe,Dt){He(Dt)})})}for(var X=[],te=0,ge=P.storeNames.length;te<ge;te++)X.push(W(P.storeNames[te]));f.all(X).then(function(){M()}).catch(function(Pe){U(Pe)})},function(Y){U(Y)})})}):$=f.reject("Invalid arguments"),v($,S),$}var Jr={_driver:"webSQLStorage",_initStorage:Di,_support:An(),iterate:Ri,getItem:Kr,setItem:Oi,removeItem:Q,clear:ne,length:Qe,key:St,keys:$t,dropInstance:At};function ei(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function _r(h,S){var p=h.name+"/";return h.storeName!==S.storeName&&(p+=h.storeName+"/"),p}function us(){var h="_localforage_support_test";try{return localStorage.setItem(h,!0),localStorage.removeItem(h),!1}catch{return!0}}function cs(){return!us()||localStorage.length>0}function fs(h){var S=this,p={};if(h)for(var C in h)p[C]=h[C];return p.keyPrefix=_r(h,S._defaultConfig),cs()?(S._dbInfo=p,p.serializer=mr,f.resolve()):f.reject()}function ds(h){var S=this,p=S.ready().then(function(){for(var C=S._dbInfo.keyPrefix,$=localStorage.length-1;$>=0;$--){var P=localStorage.key($);P.indexOf(C)===0&&localStorage.removeItem(P)}});return v(p,h),p}function vs(h,S){var p=this;h=g(h);var C=p.ready().then(function(){var $=p._dbInfo,P=localStorage.getItem($.keyPrefix+h);return P&&(P=$.serializer.deserialize(P)),P});return v(C,S),C}function hs(h,S){var p=this,C=p.ready().then(function(){for(var $=p._dbInfo,P=$.keyPrefix,M=P.length,U=localStorage.length,Y=1,W=0;W<U;W++){var X=localStorage.key(W);if(X.indexOf(P)===0){var te=localStorage.getItem(X);if(te&&(te=$.serializer.deserialize(te)),te=h(te,X.substring(M),Y++),te!==void 0)return te}}});return v(C,S),C}function ps(h,S){var p=this,C=p.ready().then(function(){var $=p._dbInfo,P;try{P=localStorage.key(h)}catch{P=null}return P&&(P=P.substring($.keyPrefix.length)),P});return v(C,S),C}function gs(h){var S=this,p=S.ready().then(function(){for(var C=S._dbInfo,$=localStorage.length,P=[],M=0;M<$;M++){var U=localStorage.key(M);U.indexOf(C.keyPrefix)===0&&P.push(U.substring(C.keyPrefix.length))}return P});return v(p,h),p}function ms(h){var S=this,p=S.keys().then(function(C){return C.length});return v(p,h),p}function _s(h,S){var p=this;h=g(h);var C=p.ready().then(function(){var $=p._dbInfo;localStorage.removeItem($.keyPrefix+h)});return v(C,S),C}function ys(h,S,p){var C=this;h=g(h);var $=C.ready().then(function(){S===void 0&&(S=null);var P=S;return new f(function(M,U){var Y=C._dbInfo;Y.serializer.serialize(S,function(W,X){if(X)U(X);else try{localStorage.setItem(Y.keyPrefix+h,W),M(P)}catch(te){(te.name==="QuotaExceededError"||te.name==="NS_ERROR_DOM_QUOTA_REACHED")&&U(te),U(te)}})})});return v($,p),$}function bs(h,S){if(S=E.apply(this,arguments),h=typeof h!="function"&&h||{},!h.name){var p=this.config();h.name=h.name||p.name,h.storeName=h.storeName||p.storeName}var C=this,$;return h.name?$=new f(function(P){h.storeName?P(_r(h,C._defaultConfig)):P(h.name+"/")}).then(function(P){for(var M=localStorage.length-1;M>=0;M--){var U=localStorage.key(M);U.indexOf(P)===0&&localStorage.removeItem(U)}}):$=f.reject("Invalid arguments"),v($,S),$}var ws={_driver:"localStorageWrapper",_initStorage:fs,_support:ei(),iterate:hs,getItem:vs,setItem:ys,removeItem:_s,clear:ds,length:ms,key:ps,keys:gs,dropInstance:bs},xs=function(S,p){return S===p||typeof S=="number"&&typeof p=="number"&&isNaN(S)&&isNaN(p)},Ss=function(S,p){for(var C=S.length,$=0;$<C;){if(xs(S[$],p))return!0;$++}return!1},Aa=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"},yr={},Da={},Un={INDEXEDDB:tt,WEBSQL:Jr,LOCALSTORAGE:ws},ks=[Un.INDEXEDDB._driver,Un.WEBSQL._driver,Un.LOCALSTORAGE._driver],ti=["dropInstance"],Ni=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ti),Es={description:"",driver:ks.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Is(h,S){h[S]=function(){var p=arguments;return h.ready().then(function(){return h[S].apply(h,p)})}}function Li(){for(var h=1;h<arguments.length;h++){var S=arguments[h];if(S)for(var p in S)S.hasOwnProperty(p)&&(Aa(S[p])?arguments[0][p]=S[p].slice():arguments[0][p]=S[p])}return arguments[0]}var Ps=(function(){function h(S){o(this,h);for(var p in Un)if(Un.hasOwnProperty(p)){var C=Un[p],$=C._driver;this[p]=$,yr[$]||this.defineDriver(C)}this._defaultConfig=Li({},Es),this._config=Li({},this._defaultConfig,S),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return h.prototype.config=function(p){if((typeof p>"u"?"undefined":a(p))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var C in p){if(C==="storeName"&&(p[C]=p[C].replace(/\W/g,"_")),C==="version"&&typeof p[C]!="number")return new Error("Database version must be a number.");this._config[C]=p[C]}return"driver"in p&&p.driver?this.setDriver(this._config.driver):!0}else return typeof p=="string"?this._config[p]:this._config},h.prototype.defineDriver=function(p,C,$){var P=new f(function(M,U){try{var Y=p._driver,W=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!p._driver){U(W);return}for(var X=Ni.concat("_initStorage"),te=0,ge=X.length;te<ge;te++){var Pe=X[te],$e=!Ss(ti,Pe);if(($e||p[Pe])&&typeof p[Pe]!="function"){U(W);return}}var He=function(){for(var br=function($s){return function(){var As=new Error("Method "+$s+" is not implemented by the current driver"),Ra=f.reject(As);return v(Ra,arguments[arguments.length-1]),Ra}},zi=0,Ts=ti.length;zi<Ts;zi++){var Fi=ti[zi];p[Fi]||(p[Fi]=br(Fi))}};He();var qe=function(br){yr[Y]&&console.info("Redefining LocalForage driver: "+Y),yr[Y]=p,Da[Y]=br,M()};"_support"in p?p._support&&typeof p._support=="function"?p._support().then(qe,U):qe(!!p._support):qe(!0)}catch(Dt){U(Dt)}});return c(P,C,$),P},h.prototype.driver=function(){return this._driver||null},h.prototype.getDriver=function(p,C,$){var P=yr[p]?f.resolve(yr[p]):f.reject(new Error("Driver not found."));return c(P,C,$),P},h.prototype.getSerializer=function(p){var C=f.resolve(mr);return c(C,p),C},h.prototype.ready=function(p){var C=this,$=C._driverSet.then(function(){return C._ready===null&&(C._ready=C._initDriver()),C._ready});return c($,p,p),$},h.prototype.setDriver=function(p,C,$){var P=this;Aa(p)||(p=[p]);var M=this._getSupportedDrivers(p);function U(){P._config.driver=P.driver()}function Y(te){return P._extend(te),U(),P._ready=P._initStorage(P._config),P._ready}function W(te){return function(){var ge=0;function Pe(){for(;ge<te.length;){var $e=te[ge];return ge++,P._dbInfo=null,P._ready=null,P.getDriver($e).then(Y).catch(Pe)}U();var He=new Error("No available storage method found.");return P._driverSet=f.reject(He),P._driverSet}return Pe()}}var X=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=X.then(function(){var te=M[0];return P._dbInfo=null,P._ready=null,P.getDriver(te).then(function(ge){P._driver=ge._driver,U(),P._wrapLibraryMethodsWithReady(),P._initDriver=W(M)})}).catch(function(){U();var te=new Error("No available storage method found.");return P._driverSet=f.reject(te),P._driverSet}),c(this._driverSet,C,$),this._driverSet},h.prototype.supports=function(p){return!!Da[p]},h.prototype._extend=function(p){Li(this,p)},h.prototype._getSupportedDrivers=function(p){for(var C=[],$=0,P=p.length;$<P;$++){var M=p[$];this.supports(M)&&C.push(M)}return C},h.prototype._wrapLibraryMethodsWithReady=function(){for(var p=0,C=Ni.length;p<C;p++)Is(this,Ni[p])},h.prototype.createInstance=function(p){return new h(p)},h})(),Cs=new Ps;r.exports=Cs},{3:3}]},{},[4])(4)})})(Hi)),Hi.exports}var Xf=Qf();const Kf=Vl(Xf),qr=Kf.createInstance({name:"dnd-character-sheet",storeName:"characters"});async function Zf(){const e=[];return await qr.iterate(t=>{const n=fr(Mr,t);e.push(n)}),e}async function Jf(e,t){const n=fr(Mr,{slug:e,name:t});return await qr.setItem(e,n),n}async function ed(e){const t=await qr.getItem(e);return t===null?null:fr(Mr,t)}async function td(e){await qr.setItem(e.slug,e)}async function nd(e){await qr.removeItem(e)}async function rd(e,t){const{parse:n}=await Ei(async()=>{const{parse:s}=await import("./index--Ug0Gu6p.js");return{parse:s}},[]),r=await fetch(Wf).then(s=>s.blob()),i=await fetch(Gf).then(s=>s.text()),a=n(i),o=fr(Mr,{...a,slug:e}),l=await Ul(r,Cr,Pr);o.avatar={...o.avatar,blob:r,...l},t.set(o)}var id=B("<!> <!>",1),ad=B("<h2>Confirm Deletion</h2> <p>Are you sure you want to delete this character?</p> <!>",1),od=B('<input required type="text" placeholder="New Character Name" class="svelte-1uilhb6"/> <!>',1),ld=B("<form><!></form>"),sd=B('<div class="grid svelte-1uilhb6"><!></div> <!> <div class="toolbar svelte-1uilhb6"><!></div>',1),ud=B("<!> <!>",1);function cd(e,t){Se(t,!0);async function n(){const g=k(s).trim();if(g.length===0)return;const E=Dc(g);if(k(l).find(b=>b.slug===E)){oa("A character with that name already exists.","error");return}const m=await Jf(E,g);k(l).push(m),oe(s,""),oe(l,k(l),!0)}function r(g){oe(u,g,!0)}function i(){oe(u,null)}async function a(){if(!k(u))return;const g=k(u);oe(u,null),await nd(g),oe(l,k(l).filter(E=>E.slug!==g),!0)}function o(g){g.preventDefault()}var l,s,u,d=Wo([async()=>l=Ce(un(await Zf())),()=>s=Ce(""),()=>u=Ce(null)]),f=ud(),v=J(f);wn(v,[d[2]],[()=>k(u)],(g,E)=>{var m=b=>{wn(b,[d[2]],void 0,T=>{Ef(T,{get onclose(){return i},children:(A,z)=>{ue(A,{column:!0,children:(x,_)=>{var I=ad(),N=D(J(I),4);ue(N,{children:(F,H)=>{var q=id(),j=J(q);wn(j,[d[2]],void 0,K=>{ht(j,{get onclick(){return i},children:(Z,ie)=>{xe();var re=Xe("Cancel");R(Z,re)},$$slots:{default:!0}})});var G=D(j,2);wn(G,[d[2]],void 0,K=>{ht(G,{get onclick(){return a},children:(Z,ie)=>{xe();var re=Xe("Delete");R(Z,re)},$$slots:{default:!0}})}),R(F,q)},$$slots:{default:!0}}),R(x,I)},$$slots:{default:!0}})},$$slots:{default:!0}})})};Ne(g,b=>{k(E)&&b(m)})});var c=D(v,2);ue(c,{column:!0,children:(g,E)=>{var m=sd(),b=J(m),T=L(b);wn(T,[d[0]],[()=>k(l)],(_,I)=>{pn(_,17,()=>k(I),N=>N.slug,(N,F)=>{Sf(N,{get character(){return k(F)},onDelete:()=>r(k(F).slug)})})}),O(b);var A=D(b,2);Rr(A);var z=D(A,2),x=L(z);Nl(x,{children:(_,I)=>{ue(_,{column:!0,xl:!0,children:(N,F)=>{ue(N,{column:!0,align:"start",padding:!0,children:(H,q)=>{ue(H,{children:(j,G)=>{var K=ld(),Z=L(K);ue(Z,{children:(ie,re)=>{var se=od(),he=J(se);Kn(he);var w=D(he,2);wn(w,[d[2]],void 0,ee=>{ht(w,{type:"submit",get onclick(){return n},children:(we,y)=>{xe();var pe=Xe("Create New Character");R(we,pe)},$$slots:{default:!0}})}),ku([d[1]],()=>{Zn(he,()=>k(s),ee=>oe(s,ee))}),R(ie,se)},$$slots:{default:!0}}),O(K),Ht("submit",K,o),R(j,K)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}}),O(z),R(g,m)}}),R(e,f),ke()}const at=ir({edit:!1,theme:"automatic",hasChanges:!1});at.subscribe(e=>{e.hasChanges?window.onbeforeunload=()=>"There are unsaved changed, these will get lost if you continue":window.onbeforeunload=null});function fd(e){const t=n=>{if(n!=null){if(typeof n=="string"){const r=n.trim();return r===""||r.toLowerCase()==="none"?void 0:n}if(typeof n=="number")return n===0?void 0:n;if(Array.isArray(n)){const r=n.map(i=>t(i)).filter(i=>i!==void 0);return r.length===0?void 0:r}if(typeof n=="object"){const r=Object.entries(n).map(([i,a])=>[i,t(a)]).filter(([,i])=>i!==void 0);return r.length===0?void 0:Object.fromEntries(r)}return n}};return t(e)??{}}async function dd(e){let t=structuredClone(e);return t=fd(t),t=qi(t,"slug"),t.avatar&&(t.avatar.blob=null),t.spellSlots?.length===0&&(t=qi(t,"spellSlots")),t.weapons?.length===0&&(t=qi(t,"weapons")),(await Ei(()=>import("./index--Ug0Gu6p.js"),[])).stringify(t)}var vd=B('<label class="checkbox svelte-136uhkj"><!> <input type="checkbox" class="svelte-136uhkj"/></label>');function hd(e,t){Se(t,!0);const n=()=>Le(at,"$appSettings",r),[r,i]=Ze();let a=ct(t,"checked",15);var o=vd(),l=L(o);yt(l,{nopadding:!0,absolute:!0,transparent:!0,small:!0,noshadow:!0});var s=D(l,2);Kn(s),O(o),de(()=>s.disabled=!n().edit),uc(s,a),R(e,o),ke(),i()}var pd=B("<div><!></div>");function gd(e,t){const n=ct(t,"hide",3,!0);var r=pd();let i;var a=L(r);ft(a,()=>t.children??Te),O(r),de(()=>i=Pt(r,1,"svelte-c0fsxz",null,i,{hide:n()})),R(e,r)}var md=B('<input class="svelte-8ff5h4"/>'),_d=B('<div class="svelte-8ff5h4"> </div>');function Fe(e,t){Se(t,!0);const n=()=>Le(at,"$appSettings",r),[r,i]=Ze();let a=ct(t,"value",15);const o=Be(()=>typeof a()=="number"?"number":"text"),l=Be(()=>n().edit);var s=Bt(),u=J(s);{var d=v=>{var c=md();Kn(c),de(()=>Zt(c,"type",k(o))),Zn(c,a),R(v,c)},f=v=>{var c=_d(),g=L(c,!0);O(c),de(()=>Ye(g,a())),R(v,c)};Ne(u,v=>{k(l)?v(d):v(f,!1)})}R(e,s),ke(),i()}var yd=B('<div class="divider svelte-1iq5b9c"><!></div>'),bd=B("<div><!></div> <!>",1);function Ve(e,t){const n=ct(t,"row",3,!1),r=ct(t,"cell",3,!1),i=Be(()=>{if(n())return;let f="";return t.cells&&(f+=`--cells:${t.cells};`),t.fillCell&&(f+=`--full:${t.fillCell};`),f||void 0});var a=bd(),o=J(a);let l;var s=L(o);ft(s,()=>t.children??Te),O(o);var u=D(o,2);{var d=f=>{var v=yd(),c=L(v);me(c,{}),O(v),R(f,v)};Ne(u,f=>{n()&&f(d)})}de(()=>{ic(o,k(i)),l=Pt(o,1,"svelte-1iq5b9c",null,l,{table:n()===!1&&r()===!1,row:n(),cell:r(),centered:t.centered})}),R(e,a)}var wd=B('<div class="value svelte-1ndak0x"><!></div> <button type="button">delete</button>',1),xd=B("<!> <!>",1),Sd=B("<strong>Qty</strong>"),kd=B("<strong>Item</strong>"),Ed=B("<strong>Notes</strong>"),Id=B("<!> <!> <!>",1),Pd=B('<span class="value svelte-1ndak0x"> </span>'),Cd=B('<span class="value svelte-1ndak0x"> </span>'),Td=B('<span class="value svelte-1ndak0x"> </span>'),$d=B("<!> <!> <!>",1),Ad=B("<!> <!>",1),Dd=B('<div class="wrapper svelte-1ndak0x"><!></div>');function Rd(e,t){Se(t,!0);const n=()=>Le(t.character,"$character",i),r=()=>Le(at,"$appSettings",i),[i,a]=Ze(),o=Be(()=>n().inventory.flatMap(c=>{if(!c.trim())return[];const g=c.trim().match(/^(\d+)\s+(.*)$/),E=g?Number(g[1]):1,m=g?g[2]:c.trim(),[b,T]=Oc(m,"|");return{count:E,name:b,description:T}}));function l(){t.character.update(c=>(c.inventory.push(""),c))}function s(c){t.character.update(g=>(g.inventory.splice(c,1),g))}var u=Dd(),d=L(u);{var f=c=>{ue(c,{column:!0,children:(g,E)=>{var m=xd(),b=J(m);pn(b,1,()=>n().inventory,qn,(A,z,x)=>{ue(A,{align:"center",children:(_,I)=>{var N=wd(),F=J(N),H=L(F);Fe(H,{get value(){return n().inventory[x]},set value(j){ce(t.character,V(n).inventory[x]=j,V(n))}}),O(F);var q=D(F,2);q.__click=()=>s(x),R(_,N)},$$slots:{default:!0}})});var T=D(b,2);ht(T,{onclick:l,children:(A,z)=>{xe();var x=Xe("Add item");R(A,x)},$$slots:{default:!0}}),R(g,m)}})},v=c=>{Ve(c,{cells:3,children:(g,E)=>{var m=Ad(),b=J(m);Ve(b,{row:!0,children:(A,z)=>{var x=Id(),_=J(x);Ve(_,{cell:!0,children:(F,H)=>{var q=Sd();R(F,q)},$$slots:{default:!0}});var I=D(_,2);Ve(I,{cell:!0,children:(F,H)=>{var q=kd();R(F,q)},$$slots:{default:!0}});var N=D(I,2);Ve(N,{cell:!0,children:(F,H)=>{var q=Ed();R(F,q)},$$slots:{default:!0}}),R(A,x)},$$slots:{default:!0}});var T=D(b,2);pn(T,17,()=>k(o),qn,(A,z)=>{Ve(A,{row:!0,children:(x,_)=>{var I=$d(),N=J(I);Ve(N,{cell:!0,children:(q,j)=>{var G=Pd(),K=L(G,!0);O(G),de(()=>Ye(K,k(z).count)),R(q,G)},$$slots:{default:!0}});var F=D(N,2);Ve(F,{cell:!0,children:(q,j)=>{var G=Cd(),K=L(G,!0);O(G),de(()=>Ye(K,k(z).name)),R(q,G)},$$slots:{default:!0}});var H=D(F,2);Ve(H,{cell:!0,children:(q,j)=>{var G=Td(),K=L(G,!0);O(G),de(()=>Ye(K,k(z).description)),R(q,G)},$$slots:{default:!0}}),R(x,I)},$$slots:{default:!0}})}),R(g,m)},$$slots:{default:!0}})};Ne(d,c=>{r().edit?c(f):c(v,!1)})}O(u),R(e,u),ke(),a()}Ct(["click"]);function Ca(e,t){Se(t,!0);const n=Be(()=>Tl(t.modifier));xe();var r=Xe();de(()=>Ye(r,k(n))),R(e,r),ke()}var Od=B('<div class="container"><div><div class="inner svelte-37b3kl"><!></div></div></div>');function Yl(e,t){var n=Od(),r=L(n);let i;var a=L(r),o=L(a);ft(o,()=>t.children??Te),O(a),O(r),O(n),de(()=>i=Pt(r,1,"page svelte-37b3kl",null,i,{multiple:t.multiple})),R(e,n)}var Nd=B('<button type="button">delete</button>'),Ld=B('<div class="line svelte-19rqkn5"><div class="value svelte-19rqkn5"><!></div> <!> <div class="value svelte-19rqkn5"><!></div> <!></div> <!>',1),zd=B('<div class="line svelte-19rqkn5"><span>Level</span> <!> <span>Slots</span></div> <!> <!> <!>',1);function Fd(e,t){Se(t,!0);const n=()=>Le(t.character,"$character",i),r=()=>Le(at,"$appSettings",i),[i,a]=Ze();function o(){n().spellSlots.push({level:1,amount:0}),ce(t.character,V(n).spellSlots=n().spellSlots,V(n))}function l(s){n().spellSlots.splice(s,1),ce(t.character,V(n).spellSlots=n().spellSlots,V(n))}ue(e,{column:!0,sm:!0,children:(s,u)=>{var d=zd(),f=J(d),v=D(L(f),2);me(v,{vertical:!0}),xe(2),O(f);var c=D(f,2);me(c,{});var g=D(c,2);pn(g,1,()=>n().spellSlots,qn,(b,T,A)=>{var z=Ld(),x=J(z),_=L(x),I=L(_);Fe(I,{get value(){return k(T).level},set value(K){k(T).level=K,cn(i,"$character")}}),O(_);var N=D(_,2);me(N,{vertical:!0});var F=D(N,2),H=L(F);Fe(H,{get value(){return k(T).amount},set value(K){k(T).amount=K,cn(i,"$character")}}),O(F);var q=D(F,2);{var j=K=>{var Z=Nd();Z.__click=()=>l(A),R(K,Z)};Ne(q,K=>{r().edit&&K(j)})}O(x);var G=D(x,2);me(G,{}),R(b,z)});var E=D(g,2);{var m=b=>{ht(b,{onclick:o,children:(T,A)=>{xe();var z=Xe("Add spellslot level");R(T,z)},$$slots:{default:!0}})};Ne(E,b=>{r().edit&&b(m)})}R(s,d)},$$slots:{default:!0}}),ke(),a()}Ct(["click"]);var Bd=B("<textarea></textarea>"),Md=B("<div> </div>");function lo(e,t){Se(t,!0);const n=()=>Le(at,"$appSettings",r),[r,i]=Ze();let a=ct(t,"value",15),o=Ce(null);const l=()=>{k(o)&&(k(o).style.height="auto",k(o).style.minHeight=`${k(o).scrollHeight}px`)};Ut(()=>{l(),t.autofocus&&k(o)?.focus({preventScroll:!0})});var s=Bt();Ht("resize",Cn,l);var u=J(s);{var d=v=>{var c=Bd();Tu(c),c.__input=l;let g;rr(c,E=>oe(o,E),()=>k(o)),de(()=>g=Pt(c,1,"textarea svelte-1ilrf3m",null,g,{nopadding:t.nopadding})),Zn(c,a),R(v,c)},f=v=>{var c=Md();let g;var E=L(c,!0);O(c),de(()=>{g=Pt(c,1,"textarea svelte-1ilrf3m",null,g,{nopadding:t.nopadding}),Ye(E,a())}),R(v,c)};Ne(u,v=>{n().edit?v(d):v(f,!1)})}R(e,s),ke(),i()}Ct(["input"]);var qd=B('<p>Spell DC</p> <!> <p class="value big svelte-mrvj8r"> </p>',1),jd=B('<p>Spellcasting</p> <!> <p class="value big svelte-mrvj8r"><!></p>',1),Hd=B("<!> <!> <!> <!> <div><!></div>",1),Ud=B("<span>Prepared</span>"),Vd=B("<span>Spell Name</span>"),Yd=B("<span>Notes</span>"),Wd=B("<!> <!> <!>",1),Gd=B('<div class="value svelte-mrvj8r"><!></div>'),Qd=B('<div class="value svelte-mrvj8r"><!></div>'),Xd=B('<button type="button">delete</button>'),Kd=B("<!> <!> <!> <!>",1),Zd=B("<!> <!>",1),Jd=B("<!> <!> <!>",1),ev=B('<div class="spells svelte-mrvj8r"><!></div>'),tv=B('<div class="side svelte-mrvj8r"><!></div>'),nv=B('<div class="wrapper svelte-mrvj8r"><!> <div class="inventory svelte-mrvj8r"><!></div></div>');function rv(e,t){Se(t,!0);const n=()=>Le(t.character,"$character",i),r=()=>Le(at,"$appSettings",i),[i,a]=Ze(),o=Be(()=>{const d=n().spellcastingAbility;return d==="none"?0:Ii(n().abilityScores[d])}),l=Be(()=>8+k(o)+n().proficiencyBonus);function s(){t.character.update(d=>(d.spells.push(fr(Hl,{})),d))}function u(d){t.character.update(f=>(f.spells.splice(d,1),f))}Yl(e,{children:(d,f)=>{var v=nv(),c=L(v);{let m=Be(()=>n().spells.length===0);gd(c,{get hide(){return k(m)},children:(b,T)=>{var A=tv(),z=L(A);ue(z,{column:!0,children:(x,_)=>{var I=ev(),N=L(I);Lt(N,{title:"Spells",children:(F,H)=>{ue(F,{column:!0,children:(q,j)=>{ue(q,{column:!0,justify:"start",align:"start",children:(G,K)=>{var Z=Jd(),ie=J(Z);ue(ie,{nogrow:!0,children:(w,ee)=>{yt(w,{noshadow:!0,small:!0,children:(we,y)=>{ue(we,{sm:!0,children:(pe,De)=>{var _e=Hd(),ze=J(_e);ue(ze,{column:!0,align:"center",sm:!0,children:(tt,An)=>{var Ge=qd(),Ue=D(J(Ge),2);me(Ue,{});var dt=D(Ue,2),Me=L(dt,!0);O(dt),de(()=>Ye(Me,k(l))),R(tt,Ge)},$$slots:{default:!0}});var je=D(ze,2);me(je,{vertical:!0});var Je=D(je,2);ue(Je,{column:!0,align:"center",sm:!0,children:(tt,An)=>{var Ge=jd(),Ue=D(J(Ge),2);me(Ue,{});var dt=D(Ue,2),Me=L(dt);Ca(Me,{get modifier(){return k(o)}}),O(dt),R(tt,Ge)},$$slots:{default:!0}});var st=D(Je,2);me(st,{vertical:!0});var et=D(st,2),Mt=L(et);Fd(Mt,{get character(){return t.character}}),O(et),R(pe,_e)},$$slots:{default:!0}})}})},$$slots:{default:!0}});var re=D(ie,2);Ve(re,{cells:3,fillCell:3,children:(w,ee)=>{var we=Zd(),y=J(we);Ve(y,{row:!0,children:(De,_e)=>{var ze=Wd(),je=J(ze);Ve(je,{cell:!0,children:(et,Mt)=>{var tt=Ud();R(et,tt)},$$slots:{default:!0}});var Je=D(je,2);Ve(Je,{cell:!0,children:(et,Mt)=>{var tt=Vd();R(et,tt)},$$slots:{default:!0}});var st=D(Je,2);Ve(st,{cell:!0,children:(et,Mt)=>{var tt=Yd();R(et,tt)},$$slots:{default:!0}}),R(De,ze)},$$slots:{default:!0}});var pe=D(y,2);pn(pe,1,()=>n().spells,qn,(De,_e,ze)=>{Ve(De,{row:!0,children:(je,Je)=>{var st=Kd(),et=J(st);Ve(et,{cell:!0,centered:!0,children:(Ue,dt)=>{hd(Ue,{get checked(){return k(_e).prepared},set checked(Me){k(_e).prepared=Me,cn(i,"$character")}})},$$slots:{default:!0}});var Mt=D(et,2);Ve(Mt,{cell:!0,children:(Ue,dt)=>{var Me=Gd(),Tt=L(Me);Fe(Tt,{get value(){return k(_e).name},set value(an){k(_e).name=an,cn(i,"$character")}}),O(Me),R(Ue,Me)},$$slots:{default:!0}});var tt=D(Mt,2);Ve(tt,{cell:!0,children:(Ue,dt)=>{var Me=Qd(),Tt=L(Me);Fe(Tt,{get value(){return k(_e).notes},set value(an){k(_e).notes=an,cn(i,"$character")}}),O(Me),R(Ue,Me)},$$slots:{default:!0}});var An=D(tt,2);{var Ge=Ue=>{Ve(Ue,{cell:!0,children:(dt,Me)=>{var Tt=Xd();Tt.__click=()=>u(ze),R(dt,Tt)},$$slots:{default:!0}})};Ne(An,Ue=>{r().edit&&Ue(Ge)})}R(je,st)},$$slots:{default:!0}})}),R(w,we)},$$slots:{default:!0}});var se=D(re,2);{var he=w=>{ht(w,{onclick:s,children:(ee,we)=>{xe();var y=Xe("Add spell");R(ee,y)},$$slots:{default:!0}})};Ne(se,w=>{r().edit&&w(he)})}R(G,Z)},$$slots:{default:!0}})},$$slots:{default:!0}})}}),O(I),R(x,I)},$$slots:{default:!0}}),O(A),R(b,A)},$$slots:{default:!0}})}var g=D(c,2),E=L(g);Lt(E,{title:"Inventory",children:(m,b)=>{Rd(m,{get character(){return t.character}})}}),O(g),O(v),R(d,v)}}),ke(),a()}Ct(["click"]);var iv=B('<div><input type="range" min="0" max="1" step="0.01"/></div> <div><input type="range" min="0" max="1" step="0.01"/></div> <div><input type="range" min="0" max="1" step="0.01"/></div> <input type="file" accept="image/*"/>',1),av=B('<div class="controls svelte-112qgxv"><!></div>'),ov=B('<div class="container svelte-112qgxv"><div class="canvas"><!></div> <!></div>');function lv(e,t){Se(t,!0);const n=()=>Le(at,"$appSettings",i),r=()=>Le(t.character,"$character",i),[i,a]=Ze();let o=Be(()=>n().edit),l=Ce(null),s=Ce(null);function u(c){k(o)&&oe(s,{x:r().avatar.x,y:r().avatar.y,pointerX:c.clientX,pointerY:c.clientY},!0)}function d(c){if(!k(o)||!k(s)||!k(l))return;const g=c.clientX-k(s).pointerX,E=c.clientY-k(s).pointerY,m=Pr/Cr*r().avatar.scale;ce(t.character,V(r).avatar.x=k(s).x+g*m,V(r)),ce(t.character,V(r).avatar.y=k(s).y+E*m,V(r))}function f(){k(o)&&oe(s,null)}function v(c){if(!k(o)||(c.preventDefault(),!k(l)))return;const g=r().avatar.scale,E=Math.min(Math.max(.1,g-c.deltaY/1e3),10),m=k(l).getBoundingClientRect(),b=c.clientX-m.left,T=c.clientY-m.top,A=b/k(l).offsetWidth*Cr,z=T/k(l).offsetHeight*Pr,x=(A-r().avatar.x)/g,_=(z-r().avatar.y)/g;ce(t.character,V(r).avatar.scale=E,V(r)),ce(t.character,V(r).avatar.x=A-x*E,V(r)),ce(t.character,V(r).avatar.y=z-_*E,V(r))}Ht("mouseup",Cn,f),Ht("pointermove",Cn,d),yt(e,{nopadding:!0,children:(c,g)=>{var E=ov(),m=L(E);m.__pointerdown=u;var b=L(m);{let z=Be(()=>k(s)!==null);Ol(b,{get avatar(){return r().avatar},get disableEffects(){return k(z)}})}O(m),rr(m,z=>oe(l,z),()=>k(l));var T=D(m,2);{var A=z=>{var x=av(),_=L(x);Lt(_,{children:(I,N)=>{ue(I,{column:!0,sm:!0,children:(F,H)=>{var q=iv(),j=J(q),G=L(j);Kn(G),O(j);var K=D(j,2),Z=L(K);Kn(Z),O(K);var ie=D(K,2),re=L(ie);Kn(re),O(ie);var se=D(ie,2);se.__input=async he=>{const w=he.currentTarget.files?.[0];if(w){const ee=await Ul(w,Cr,Pr);ce(t.character,V(r).avatar.blob=w,V(r)),ce(t.character,V(r).avatar.x=ee.x,V(r)),ce(t.character,V(r).avatar.y=ee.y,V(r)),ce(t.character,V(r).avatar.scale=ee.scale,V(r))}he.currentTarget.value=""},Zn(G,()=>r().avatar.contrast,he=>ce(t.character,V(r).avatar.contrast=he,V(r))),Zn(Z,()=>r().avatar.gray,he=>ce(t.character,V(r).avatar.gray=he,V(r))),Zn(re,()=>r().avatar.black,he=>ce(t.character,V(r).avatar.black=he,V(r))),R(F,q)},$$slots:{default:!0}})}}),O(x),R(z,x)};Ne(T,z=>{n().edit&&z(A)})}O(E),Ht("wheel",m,v),R(c,E)}}),ke(),a()}Ct(["pointerdown","input"]);var sv=B('<div class="dot svelte-6jkwtr"></div> <div class="dot svelte-6jkwtr"></div> <div class="dot svelte-6jkwtr"></div>',1),uv=B('<!> <div class="label"> </div>',1);function so(e,t){ue(e,{column:!0,sm:!0,children:(n,r)=>{var i=uv(),a=J(i);ue(a,{children:(s,u)=>{var d=sv();xe(4),R(s,d)},$$slots:{default:!0}});var o=D(a,2),l=L(o,!0);O(o),de(()=>Ye(l,t.label)),R(n,i)},$$slots:{default:!0}})}var cv=B("<!> <span>current</span>",1),fv=B('<div class="value svelte-10uhbq3"><!></div> <!> <span>max</span>',1),dv=B("<!> <!> <!>",1),vv=B('<div class="label svelte-10uhbq3">Hitpoints</div> <!>',1),hv=B('<div style="height:3em;"></div> <!> <span>spend</span>',1),pv=B('<div class="value svelte-10uhbq3"><!></div> <!> <span>current</span>',1),gv=B('<div class="label svelte-10uhbq3">Hit Dice</div> <!> <!> <!>',1),mv=B('<div class="label svelte-10uhbq3">Death<br/>Saves</div> <!> <!> <!>',1),_v=B('<div class="inner svelte-10uhbq3"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!> <!> <!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div>'),yv=B('<div class="container svelte-10uhbq3"><div class="armor svelte-10uhbq3"><div class="inner svelte-10uhbq3"><div class="label svelte-10uhbq3">Armor<br/>Class</div> <!> <div class="value svelte-10uhbq3"><!></div></div></div> <!></div>');function bv(e,t){Se(t,!0);const n=()=>Le(t.character,"$character",r),[r,i]=Ze();var a=yv(),o=L(a),l=L(o),s=D(L(l),2);me(s,{});var u=D(s,2),d=L(u);Fe(d,{get value(){return n().armorClass},set value(v){ce(t.character,V(n).armorClass=v,V(n))}}),O(u),O(l),O(o);var f=D(o,2);Lt(f,{children:(v,c)=>{var g=_v(),E=L(g);qa(E,()=>({"--flex-grow":"1"})),ue(E.lastChild,{column:!0,align:"center",children:(z,x)=>{var _=vv(),I=D(J(_),2);ue(I,{full:!0,children:(N,F)=>{var H=dv(),q=J(H);ue(q,{column:!0,align:"center",justify:"end",full:!0,children:(K,Z)=>{var ie=cv(),re=J(ie);me(re,{}),xe(2),R(K,ie)},$$slots:{default:!0}});var j=D(q,2);me(j,{vertical:!0});var G=D(j,2);ue(G,{column:!0,align:"center",justify:"end",full:!0,children:(K,Z)=>{var ie=fv(),re=J(ie),se=L(re);Fe(se,{get value(){return n().hitPoints},set value(w){ce(t.character,V(n).hitPoints=w,V(n))}}),O(re);var he=D(re,2);me(he,{}),xe(2),R(K,ie)},$$slots:{default:!0}}),R(N,H)},$$slots:{default:!0}}),R(z,_)},$$slots:{default:!0}}),O(E);var m=D(E,2);me(m,{vertical:!0});var b=D(m,2);ue(b,{column:!0,align:"center",sm:!0,children:(z,x)=>{var _=gv(),I=D(J(_),2);Rr(I);var N=D(I,2);ue(N,{column:!0,full:!0,children:(H,q)=>{var j=hv(),G=D(J(j),2);me(G,{}),xe(2),R(H,j)},$$slots:{default:!0}});var F=D(N,2);ue(F,{column:!0,full:!0,children:(H,q)=>{var j=pv(),G=J(j),K=L(G);Fe(K,{get value(){return n().hitDice},set value(ie){ce(t.character,V(n).hitDice=ie,V(n))}}),O(G);var Z=D(G,2);me(Z,{}),xe(2),R(H,j)},$$slots:{default:!0}}),R(z,_)},$$slots:{default:!0}});var T=D(b,2);me(T,{vertical:!0});var A=D(T,2);qa(A,()=>({"--flex-grow":"0"})),ue(A.lastChild,{column:!0,children:(z,x)=>{var _=mv(),I=D(J(_),2);Rr(I);var N=D(I,2);so(N,{label:"successes"});var F=D(N,2);so(F,{label:"failures"}),R(z,_)},$$slots:{default:!0}}),O(A),O(g),R(v,g)}}),O(a),R(e,a),ke(),i()}var wv=B('<div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Level</div>',1),xv=B('<div class="inner svelte-q5a7vm"><div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Player name</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Alignment</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Background</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Class</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Species</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Subclass</div></div> <div class="level svelte-q5a7vm"><!></div></div>');function Sv(e,t){Se(t,!0);const n=()=>Le(t.character,"$character",r),[r,i]=Ze();yt(e,{children:(a,o)=>{var l=xv(),s=L(l),u=L(s),d=L(u);Fe(d,{get value(){return n().playerName},set value(se){ce(t.character,V(n).playerName=se,V(n))}}),O(u);var f=D(u,2);me(f,{}),xe(2),O(s);var v=D(s,2),c=L(v),g=L(c);Fe(g,{get value(){return n().alignment},set value(se){ce(t.character,V(n).alignment=se,V(n))}}),O(c);var E=D(c,2);me(E,{}),xe(2),O(v);var m=D(v,2),b=L(m),T=L(b);Fe(T,{get value(){return n().background},set value(se){ce(t.character,V(n).background=se,V(n))}}),O(b);var A=D(b,2);me(A,{}),xe(2),O(m);var z=D(m,2),x=L(z),_=L(x);Fe(_,{get value(){return n().class},set value(se){ce(t.character,V(n).class=se,V(n))}}),O(x);var I=D(x,2);me(I,{}),xe(2),O(z);var N=D(z,2),F=L(N),H=L(F);Fe(H,{get value(){return n().species},set value(se){ce(t.character,V(n).species=se,V(n))}}),O(F);var q=D(F,2);me(q,{}),xe(2),O(N);var j=D(N,2),G=L(j),K=L(G);Fe(K,{get value(){return n().subclass},set value(se){ce(t.character,V(n).subclass=se,V(n))}}),O(G);var Z=D(G,2);me(Z,{}),xe(2),O(j);var ie=D(j,2),re=L(ie);ue(re,{column:!0,sm:!0,align:"center",children:(se,he)=>{var w=wv(),ee=J(w),we=L(ee);Fe(we,{get value(){return n().level},set value(pe){ce(t.character,V(n).level=pe,V(n))}}),O(ee);var y=D(ee,2);me(y,{}),xe(2),R(se,w)},$$slots:{default:!0}}),O(ie),O(l),R(a,l)}}),ke(),i()}const uo=document.createElement("i");function Wl(e){const t="&"+e+";";uo.innerHTML=t;const n=uo.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Jt(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function ut(e,t){return e.length>0?(Jt(e,e.length,0,t),e):t}const la={}.hasOwnProperty;function kv(e){const t={};let n=-1;for(;++n<e.length;)Ev(t,e[n]);return t}function Ev(e,t){let n;for(n in t){const i=(la.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){la.call(i,o)||(i[o]=[]);const l=a[o];Iv(i[o],Array.isArray(l)?l:l?[l]:[])}}}function Iv(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Jt(e,0,0,r)}function Pv(e){const t={};let n=-1;for(;++n<e.length;)Cv(t,e[n]);return t}function Cv(e,t){let n;for(n in t){const i=(la.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a)i[o]=a[o]}}function Tv(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}const $v={'"':"quot","&":"amp","<":"lt",">":"gt"};function Gl(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+$v[n]+";"}}function Or(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Gt=$n(/[A-Za-z]/),Et=$n(/[\dA-Za-z]/),Av=$n(/[#-'*+\--9=?A-Z^-~]/);function sa(e){return e!==null&&(e<32||e===127)}const ua=$n(/\d/),Dv=$n(/[\dA-Fa-f]/),Rv=$n(/[!-/:-@[-`{-~]/);function le(e){return e!==null&&e<-2}function xt(e){return e!==null&&(e<0||e===32)}function Ie(e){return e===-2||e===-1||e===32}const Ov=$n(new RegExp("\\p{P}|\\p{S}","u")),Nv=$n(/\s/);function $n(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function oi(e,t){const n=Gl(Lv(e||""));if(!t)return n;const r=n.indexOf(":"),i=n.indexOf("?"),a=n.indexOf("#"),o=n.indexOf("/");return r<0||o>-1&&r>o||i>-1&&r>i||a>-1&&r>a||t.test(n.slice(0,r))?n:""}function Lv(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Et(e.charCodeAt(n+1))&&Et(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o="ï¿½"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}const co={}.hasOwnProperty,fo=/^(https?|ircs?|mailto|xmpp)$/i,zv=/^https?$/i;function Fv(e){const t=e||{};let n=!0;const r={},i=[[]],a=[],o=[],s=Pv([{enter:{blockQuote:Z,codeFenced:he,codeFencedFenceInfo:m,codeFencedFenceMeta:m,codeIndented:we,codeText:Ai,content:an,definition:An,definitionDestinationString:Ue,definitionLabelString:m,definitionTitleString:m,emphasis:gr,htmlFlow:Qr,htmlText:pr,image:pe,label:m,link:De,listItemMarker:q,listItemValue:H,listOrdered:N,listUnordered:F,paragraph:re,reference:m,resource:Je,resourceDestinationString:st,resourceTitleString:m,setextHeading:jr,strong:$i},exit:{atxHeading:Ur,atxHeadingSequence:dr,autolinkEmail:Oi,autolinkProtocol:Zr,blockQuote:ie,characterEscapeValue:yn,characterReferenceMarkerHexadecimal:Kr,characterReferenceMarkerNumeric:Kr,characterReferenceValue:Ri,codeFenced:y,codeFencedFence:ee,codeFencedFenceInfo:w,codeFencedFenceMeta:I,codeFlowValue:Gr,codeIndented:y,codeText:mr,codeTextData:yn,data:yn,definition:Tt,definitionDestinationString:dt,definitionLabelString:Ge,definitionTitleString:Me,emphasis:Xr,hardBreakEscape:vr,hardBreakTrailing:vr,htmlFlow:hr,htmlFlowData:yn,htmlText:hr,htmlTextData:yn,image:tt,label:ze,labelText:_e,lineEnding:Wr,link:tt,listOrdered:j,listUnordered:G,paragraph:se,reference:I,referenceString:je,resource:I,resourceDestinationString:et,resourceTitleString:Mt,setextHeading:Yr,setextHeadingLineSequence:Vr,setextHeadingText:Hr,strong:Di,thematicBreak:Yt}},...t.htmlExtensions||[]]),u={definitions:r,tightStack:o},d={buffer:m,encode:_,getData:E,lineEndingIfNeeded:x,options:t,raw:A,resume:b,setData:g,tag:T};let f=t.defaultLineEnding;return v;function v(Q){let ne=-1,Qe=0;const St=[];let $t=[],qt=[];for(;++ne<Q.length;)!f&&(Q[ne][1].type==="lineEnding"||Q[ne][1].type==="lineEndingBlank")&&(f=Q[ne][2].sliceSerialize(Q[ne][1])),(Q[ne][1].type==="listOrdered"||Q[ne][1].type==="listUnordered")&&(Q[ne][0]==="enter"?St.push(ne):c(Q.slice(St.pop(),ne))),Q[ne][1].type==="definition"&&(Q[ne][0]==="enter"?(qt=ut(qt,Q.slice(Qe,ne)),Qe=ne):($t=ut($t,Q.slice(Qe,ne+1)),Qe=ne+1));$t=ut($t,qt),$t=ut($t,Q.slice(Qe)),ne=-1;const At=$t;for(s.enter.null&&s.enter.null.call(d);++ne<Q.length;){const Jr=s[At[ne][0]],ei=At[ne][1].type,_r=Jr[ei];co.call(Jr,ei)&&_r&&_r.call({sliceSerialize:At[ne][2].sliceSerialize,...d},At[ne][1])}return s.exit.null&&s.exit.null.call(d),i[0].join("")}function c(Q){const ne=Q.length;let Qe=0,St=0,$t=!1,qt;for(;++Qe<ne;){const At=Q[Qe];if(At[1]._container)qt=void 0,At[0]==="enter"?St++:St--;else switch(At[1].type){case"listItemPrefix":{At[0]==="exit"&&(qt=!0);break}case"linePrefix":break;case"lineEndingBlank":{At[0]==="enter"&&!St&&(qt?qt=void 0:$t=!0);break}default:qt=void 0}}Q[0][1]._loose=$t}function g(Q,ne){u[Q]=ne}function E(Q){return u[Q]}function m(){i.push([])}function b(){return i.pop().join("")}function T(Q){n&&(g("lastWasTag",!0),i[i.length-1].push(Q))}function A(Q){g("lastWasTag"),i[i.length-1].push(Q)}function z(){A(f||`
`)}function x(){const Q=i[i.length-1],ne=Q[Q.length-1],Qe=ne?ne.charCodeAt(ne.length-1):null;Qe===10||Qe===13||Qe===null||z()}function _(Q){return E("ignoreEncode")?Q:Gl(Q)}function I(){b()}function N(Q){o.push(!Q._loose),x(),T("<ol"),g("expectFirstItem",!0)}function F(Q){o.push(!Q._loose),x(),T("<ul"),g("expectFirstItem",!0)}function H(Q){if(E("expectFirstItem")){const ne=Number.parseInt(this.sliceSerialize(Q),10);ne!==1&&T(' start="'+_(String(ne))+'"')}}function q(){E("expectFirstItem")?T(">"):K(),x(),T("<li>"),g("expectFirstItem"),g("lastWasTag")}function j(){K(),o.pop(),z(),T("</ol>")}function G(){K(),o.pop(),z(),T("</ul>")}function K(){E("lastWasTag")&&!E("slurpAllLineEndings")&&x(),T("</li>"),g("slurpAllLineEndings")}function Z(){o.push(!1),x(),T("<blockquote>")}function ie(){o.pop(),x(),T("</blockquote>"),g("slurpAllLineEndings")}function re(){o[o.length-1]||(x(),T("<p>")),g("slurpAllLineEndings")}function se(){o[o.length-1]?g("slurpAllLineEndings",!0):T("</p>")}function he(){x(),T("<pre><code"),g("fencesCount",0)}function w(){const Q=b();T(' class="language-'+Q+'"')}function ee(){const Q=E("fencesCount")||0;Q||(T(">"),g("slurpOneLineEnding",!0)),g("fencesCount",Q+1)}function we(){x(),T("<pre><code>")}function y(){const Q=E("fencesCount");Q!==void 0&&Q<2&&u.tightStack.length>0&&!E("lastWasTag")&&z(),E("flowCodeSeenData")&&x(),T("</code></pre>"),Q!==void 0&&Q<2&&x(),g("flowCodeSeenData"),g("fencesCount"),g("slurpOneLineEnding")}function pe(){a.push({image:!0}),n=void 0}function De(){a.push({})}function _e(Q){a[a.length-1].labelId=this.sliceSerialize(Q)}function ze(){a[a.length-1].label=b()}function je(Q){a[a.length-1].referenceId=this.sliceSerialize(Q)}function Je(){m(),a[a.length-1].destination=""}function st(){m(),g("ignoreEncode",!0)}function et(){a[a.length-1].destination=b(),g("ignoreEncode")}function Mt(){a[a.length-1].title=b()}function tt(){let Q=a.length-1;const ne=a[Q],Qe=ne.referenceId||ne.labelId,St=ne.destination===void 0?r[Or(Qe)]:ne;for(n=!0;Q--;)if(a[Q].image){n=void 0;break}ne.image?(T('<img src="'+oi(St.destination,t.allowDangerousProtocol?void 0:zv)+'" alt="'),A(ne.label),T('"')):T('<a href="'+oi(St.destination,t.allowDangerousProtocol?void 0:fo)+'"'),T(St.title?' title="'+St.title+'"':""),ne.image?T(" />"):(T(">"),A(ne.label),T("</a>")),a.pop()}function An(){m(),a.push({})}function Ge(Q){b(),a[a.length-1].labelId=this.sliceSerialize(Q)}function Ue(){m(),g("ignoreEncode",!0)}function dt(){a[a.length-1].destination=b(),g("ignoreEncode")}function Me(){a[a.length-1].title=b()}function Tt(){const Q=a[a.length-1],ne=Or(Q.labelId);b(),co.call(r,ne)||(r[ne]=a[a.length-1]),a.pop()}function an(){g("slurpAllLineEndings",!0)}function dr(Q){E("headingRank")||(g("headingRank",this.sliceSerialize(Q).length),x(),T("<h"+E("headingRank")+">"))}function jr(){m(),g("slurpAllLineEndings")}function Hr(){g("slurpAllLineEndings",!0)}function Ur(){T("</h"+E("headingRank")+">"),g("headingRank")}function Vr(Q){g("headingRank",this.sliceSerialize(Q).charCodeAt(0)===61?1:2)}function Yr(){const Q=b();x(),T("<h"+E("headingRank")+">"),A(Q),T("</h"+E("headingRank")+">"),g("slurpAllLineEndings"),g("headingRank")}function yn(Q){A(_(this.sliceSerialize(Q)))}function Wr(Q){if(!E("slurpAllLineEndings")){if(E("slurpOneLineEnding")){g("slurpOneLineEnding");return}if(E("inCodeText")){A(" ");return}A(_(this.sliceSerialize(Q)))}}function Gr(Q){A(_(this.sliceSerialize(Q))),g("flowCodeSeenData",!0)}function vr(){T("<br />")}function Qr(){x(),pr()}function hr(){g("ignoreEncode")}function pr(){t.allowDangerousHtml&&g("ignoreEncode",!0)}function gr(){T("<em>")}function $i(){T("<strong>")}function Ai(){g("inCodeText",!0),T("<code>")}function mr(){g("inCodeText"),T("</code>")}function Xr(){T("</em>")}function Di(){T("</strong>")}function Yt(){x(),T("<hr />")}function Kr(Q){g("characterReferenceType",Q.type)}function Ri(Q){const ne=this.sliceSerialize(Q),Qe=E("characterReferenceType")?Tv(ne,E("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):Wl(ne);A(_(Qe)),g("characterReferenceType")}function Zr(Q){const ne=this.sliceSerialize(Q);T('<a href="'+oi(ne,t.allowDangerousProtocol?void 0:fo)+'">'),A(_(ne)),T("</a>")}function Oi(Q){const ne=this.sliceSerialize(Q);T('<a href="'+oi("mailto:"+ne)+'">'),A(_(ne)),T("</a>")}}function Oe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(s){return Ie(s)?(e.enter(n),l(s)):t(s)}function l(s){return Ie(s)&&a++<i?(e.consume(s),l):(e.exit(n),t(s))}}const Bv={tokenize:Mv};function Mv(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Oe(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return le(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),o)}}const qv={tokenize:jv},vo={tokenize:Hv};function jv(e){const t=this,n=[];let r=0,i,a,o;return l;function l(A){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,s,u)(A)}return u(A)}function s(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&T();const z=t.events.length;let x=z,_;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){_=t.events[x][1].end;break}b(r);let I=z;for(;I<t.events.length;)t.events[I][1].end={..._},I++;return Jt(t.events,x+1,0,t.events.slice(z)),t.events.length=I,u(A)}return l(A)}function u(A){if(r===n.length){if(!i)return v(A);if(i.currentConstruct&&i.currentConstruct.concrete)return g(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(vo,d,f)(A)}function d(A){return i&&T(),b(r),v(A)}function f(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(A)}function v(A){return t.containerState={},e.attempt(vo,c,g)(A)}function c(A){return r++,n.push([t.currentConstruct,t.containerState]),v(A)}function g(A){if(A===null){i&&T(),b(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),E(A)}function E(A){if(A===null){m(e.exit("chunkFlow"),!0),b(0),e.consume(A);return}return le(A)?(e.consume(A),m(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(A),E)}function m(A,z){const x=t.sliceStream(A);if(z&&x.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(x),t.parser.lazy[A.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const I=t.events.length;let N=I,F,H;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(F){H=t.events[N][1].end;break}F=!0}for(b(r),_=I;_<t.events.length;)t.events[_][1].end={...H},_++;Jt(t.events,N+1,0,t.events.slice(I)),t.events.length=_}}function b(A){let z=n.length;for(;z-- >A;){const x=n[z];t.containerState=x[1],x[0].exit.call(t,e)}n.length=A}function T(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Hv(e,t,n){return Oe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ho(e){if(e===null||xt(e)||Nv(e))return 1;if(Ov(e))return 2}function Ta(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const ca={name:"attention",resolveAll:Uv,tokenize:Vv};function Uv(e,t){let n=-1,r,i,a,o,l,s,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},v={...e[n][1].start};po(f,-s),po(v,s),o={type:s>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:s>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},a={type:s>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:s>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ut(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ut(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=ut(u,Ta(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ut(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=ut(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Jt(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Vv(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ho(r);let a;return o;function o(s){return a=s,e.enter("attentionSequence"),l(s)}function l(s){if(s===a)return e.consume(s),l;const u=e.exit("attentionSequence"),d=ho(s),f=!d||d===2&&i||n.includes(s),v=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!v)),u._close=!!(a===42?v:v&&(d||!f)),t(s)}}function po(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Yv={name:"autolink",tokenize:Wv};function Wv(e,t,n){let r=0;return i;function i(c){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(c){return Gt(c)?(e.consume(c),o):c===64?n(c):u(c)}function o(c){return c===43||c===45||c===46||Et(c)?(r=1,l(c)):u(c)}function l(c){return c===58?(e.consume(c),r=0,s):(c===43||c===45||c===46||Et(c))&&r++<32?(e.consume(c),l):(r=0,u(c))}function s(c){return c===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.exit("autolink"),t):c===null||c===32||c===60||sa(c)?n(c):(e.consume(c),s)}function u(c){return c===64?(e.consume(c),d):Av(c)?(e.consume(c),u):n(c)}function d(c){return Et(c)?f(c):n(c)}function f(c){return c===46?(e.consume(c),r=0,d):c===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.exit("autolink"),t):v(c)}function v(c){if((c===45||Et(c))&&r++<63){const g=c===45?v:f;return e.consume(c),g}return n(c)}}const Ti={partial:!0,tokenize:Gv};function Gv(e,t,n){return r;function r(a){return Ie(a)?Oe(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||le(a)?t(a):n(a)}}const Ql={continuation:{tokenize:Xv},exit:Kv,name:"blockQuote",tokenize:Qv};function Qv(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Ie(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Xv(e,t,n){const r=this;return i;function i(o){return Ie(o)?Oe(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(Ql,t,n)(o)}}function Kv(e){e.exit("blockQuote")}const Xl={name:"characterEscape",tokenize:Zv};function Zv(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Rv(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const Kl={name:"characterReference",tokenize:Jv};function Jv(e,t,n){const r=this;let i=0,a,o;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),s}function s(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=Et,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=Dv,d):(e.enter("characterReferenceValue"),a=7,o=ua,d(f))}function d(f){if(f===59&&i){const v=e.exit("characterReferenceValue");return o===Et&&!Wl(r.sliceSerialize(v))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),d):n(f)}}const go={partial:!0,tokenize:th},mo={concrete:!0,name:"codeFenced",tokenize:eh};function eh(e,t,n){const r=this,i={partial:!0,tokenize:x};let a=0,o=0,l;return s;function s(_){return u(_)}function u(_){const I=r.events[r.events.length-1];return a=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,l=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===l?(o++,e.consume(_),d):o<3?n(_):(e.exit("codeFencedFenceSequence"),Ie(_)?Oe(e,f,"whitespace")(_):f(_))}function f(_){return _===null||le(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(go,E,z)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(_))}function v(_){return _===null||le(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):Ie(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Oe(e,c,"whitespace")(_)):_===96&&_===l?n(_):(e.consume(_),v)}function c(_){return _===null||le(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||le(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===l?n(_):(e.consume(_),g)}function E(_){return e.attempt(i,z,m)(_)}function m(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),b}function b(_){return a>0&&Ie(_)?Oe(e,T,"linePrefix",a+1)(_):T(_)}function T(_){return _===null||le(_)?e.check(go,E,z)(_):(e.enter("codeFlowValue"),A(_))}function A(_){return _===null||le(_)?(e.exit("codeFlowValue"),T(_)):(e.consume(_),A)}function z(_){return e.exit("codeFenced"),t(_)}function x(_,I,N){let F=0;return H;function H(Z){return _.enter("lineEnding"),_.consume(Z),_.exit("lineEnding"),q}function q(Z){return _.enter("codeFencedFence"),Ie(Z)?Oe(_,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):j(Z)}function j(Z){return Z===l?(_.enter("codeFencedFenceSequence"),G(Z)):N(Z)}function G(Z){return Z===l?(F++,_.consume(Z),G):F>=o?(_.exit("codeFencedFenceSequence"),Ie(Z)?Oe(_,K,"whitespace")(Z):K(Z)):N(Z)}function K(Z){return Z===null||le(Z)?(_.exit("codeFencedFence"),I(Z)):N(Z)}}}function th(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ui={name:"codeIndented",tokenize:rh},nh={partial:!0,tokenize:ih};function rh(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Oe(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?s(u):le(u)?e.attempt(nh,o,s)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||le(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function s(u){return e.exit("codeIndented"),t(u)}}function ih(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):le(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Oe(e,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):le(o)?i(o):n(o)}}const ah={name:"codeText",previous:lh,resolve:oh,tokenize:sh};function oh(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function lh(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sh(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),s(f))}function s(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),s):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):le(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||le(f)?(e.exit("codeTextData"),s(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class uh{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&wr(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),wr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),wr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);wr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);wr(this.left,n.reverse())}}}function wr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Zl(e){const t={};let n=-1,r,i,a,o,l,s,u;const d=new uh(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,a=0,a<s.length&&s[a][1].type==="lineEndingBlank"&&(a+=2),a<s.length&&s[a][1].type==="content"))for(;++a<s.length&&s[a][1].type!=="content";)s[a][1].type==="chunkText"&&(s[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,ch(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return Jt(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function ch(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,s=[],u={};let d,f,v=-1,c=n,g=0,E=0;const m=[E];for(;c;){for(;e.get(++i)[1]!==c;);a.push(i),c._tokenizer||(d=r.sliceStream(c),c.next||d.push(null),f&&o.defineSkip(c.start),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=c,c=c.next}for(c=n;++v<l.length;)l[v][0]==="exit"&&l[v-1][0]==="enter"&&l[v][1].type===l[v-1][1].type&&l[v][1].start.line!==l[v][1].end.line&&(E=v+1,m.push(E),c._tokenizer=void 0,c.previous=void 0,c=c.next);for(o.events=[],c?(c._tokenizer=void 0,c.previous=void 0):m.pop(),v=m.length;v--;){const b=l.slice(m[v],m[v+1]),T=a.pop();s.push([T,T+b.length-1]),e.splice(T,2,b)}for(s.reverse(),v=-1;++v<s.length;)u[g+s[v][0]]=g+s[v][1],g+=s[v][1]-s[v][0]-1;return u}const fh={resolve:vh,tokenize:hh},dh={partial:!0,tokenize:ph};function vh(e){return Zl(e),e}function hh(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):le(l)?e.check(dh,o,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function ph(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Oe(e,a,"linePrefix")}function a(o){if(o===null||le(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Jl(e,t,n,r,i,a,o,l,s){const u=s||Number.POSITIVE_INFINITY;let d=0;return f;function f(b){return b===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(b),e.exit(a),v):b===null||b===32||b===41||sa(b)?n(b):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),E(b))}function v(b){return b===62?(e.enter(a),e.consume(b),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),c(b))}function c(b){return b===62?(e.exit("chunkString"),e.exit(l),v(b)):b===null||b===60||le(b)?n(b):(e.consume(b),b===92?g:c)}function g(b){return b===60||b===62||b===92?(e.consume(b),c):c(b)}function E(b){return!d&&(b===null||b===41||xt(b))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(b)):d<u&&b===40?(e.consume(b),d++,E):b===41?(e.consume(b),d--,E):b===null||b===32||b===40||sa(b)?n(b):(e.consume(b),b===92?m:E)}function m(b){return b===40||b===41||b===92?(e.consume(b),E):E(b)}}function es(e,t,n,r,i,a){const o=this;let l=0,s;return u;function u(c){return e.enter(r),e.enter(i),e.consume(c),e.exit(i),e.enter(a),d}function d(c){return l>999||c===null||c===91||c===93&&!s||c===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(c):c===93?(e.exit(a),e.enter(i),e.consume(c),e.exit(i),e.exit(r),t):le(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(c))}function f(c){return c===null||c===91||c===93||le(c)||l++>999?(e.exit("chunkString"),d(c)):(e.consume(c),s||(s=!Ie(c)),c===92?v:f)}function v(c){return c===91||c===92||c===93?(e.consume(c),l++,f):f(c)}}function ts(e,t,n,r,i,a){let o;return l;function l(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),o=v===40?41:v,s):n(v)}function s(v){return v===o?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(a),u(v))}function u(v){return v===o?(e.exit(a),s(o)):v===null?n(v):le(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Oe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(v))}function d(v){return v===o||v===null||le(v)?(e.exit("chunkString"),u(v)):(e.consume(v),v===92?f:d)}function f(v){return v===o||v===92?(e.consume(v),d):d(v)}}function Tr(e,t){let n;return r;function r(i){return le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ie(i)?Oe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const gh={name:"definition",tokenize:_h},mh={partial:!0,tokenize:yh};function _h(e,t,n){const r=this;let i;return a;function a(c){return e.enter("definition"),o(c)}function o(c){return es.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function l(c){return i=Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),c===58?(e.enter("definitionMarker"),e.consume(c),e.exit("definitionMarker"),s):n(c)}function s(c){return xt(c)?Tr(e,u)(c):u(c)}function u(c){return Jl(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(c)}function d(c){return e.attempt(mh,f,f)(c)}function f(c){return Ie(c)?Oe(e,v,"whitespace")(c):v(c)}function v(c){return c===null||le(c)?(e.exit("definition"),r.parser.defined.push(i),t(c)):n(c)}}function yh(e,t,n){return r;function r(l){return xt(l)?Tr(e,i)(l):n(l)}function i(l){return ts(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return Ie(l)?Oe(e,o,"whitespace")(l):o(l)}function o(l){return l===null||le(l)?t(l):n(l)}}const bh={name:"hardBreakEscape",tokenize:wh};function wh(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return le(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const xh={name:"headingAtx",resolve:Sh,tokenize:kh};function Sh(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Jt(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function kh(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||xt(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),s(d)):d===null||le(d)?(e.exit("atxHeading"),t(d)):Ie(d)?Oe(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function s(d){return d===35?(e.consume(d),s):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||xt(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const Eh=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],_o=["pre","script","style","textarea"],Ih={concrete:!0,name:"htmlFlow",resolveTo:Th,tokenize:$h},Ph={partial:!0,tokenize:Dh},Ch={partial:!0,tokenize:Ah};function Th(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function $h(e,t,n){const r=this;let i,a,o,l,s;return u;function u(y){return d(y)}function d(y){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(y),f}function f(y){return y===33?(e.consume(y),v):y===47?(e.consume(y),a=!0,E):y===63?(e.consume(y),i=3,r.interrupt?t:w):Gt(y)?(e.consume(y),o=String.fromCharCode(y),m):n(y)}function v(y){return y===45?(e.consume(y),i=2,c):y===91?(e.consume(y),i=5,l=0,g):Gt(y)?(e.consume(y),i=4,r.interrupt?t:w):n(y)}function c(y){return y===45?(e.consume(y),r.interrupt?t:w):n(y)}function g(y){const pe="CDATA[";return y===pe.charCodeAt(l++)?(e.consume(y),l===pe.length?r.interrupt?t:j:g):n(y)}function E(y){return Gt(y)?(e.consume(y),o=String.fromCharCode(y),m):n(y)}function m(y){if(y===null||y===47||y===62||xt(y)){const pe=y===47,De=o.toLowerCase();return!pe&&!a&&_o.includes(De)?(i=1,r.interrupt?t(y):j(y)):Eh.includes(o.toLowerCase())?(i=6,pe?(e.consume(y),b):r.interrupt?t(y):j(y)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(y):a?T(y):A(y))}return y===45||Et(y)?(e.consume(y),o+=String.fromCharCode(y),m):n(y)}function b(y){return y===62?(e.consume(y),r.interrupt?t:j):n(y)}function T(y){return Ie(y)?(e.consume(y),T):H(y)}function A(y){return y===47?(e.consume(y),H):y===58||y===95||Gt(y)?(e.consume(y),z):Ie(y)?(e.consume(y),A):H(y)}function z(y){return y===45||y===46||y===58||y===95||Et(y)?(e.consume(y),z):x(y)}function x(y){return y===61?(e.consume(y),_):Ie(y)?(e.consume(y),x):A(y)}function _(y){return y===null||y===60||y===61||y===62||y===96?n(y):y===34||y===39?(e.consume(y),s=y,I):Ie(y)?(e.consume(y),_):N(y)}function I(y){return y===s?(e.consume(y),s=null,F):y===null||le(y)?n(y):(e.consume(y),I)}function N(y){return y===null||y===34||y===39||y===47||y===60||y===61||y===62||y===96||xt(y)?x(y):(e.consume(y),N)}function F(y){return y===47||y===62||Ie(y)?A(y):n(y)}function H(y){return y===62?(e.consume(y),q):n(y)}function q(y){return y===null||le(y)?j(y):Ie(y)?(e.consume(y),q):n(y)}function j(y){return y===45&&i===2?(e.consume(y),ie):y===60&&i===1?(e.consume(y),re):y===62&&i===4?(e.consume(y),ee):y===63&&i===3?(e.consume(y),w):y===93&&i===5?(e.consume(y),he):le(y)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Ph,we,G)(y)):y===null||le(y)?(e.exit("htmlFlowData"),G(y)):(e.consume(y),j)}function G(y){return e.check(Ch,K,we)(y)}function K(y){return e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),Z}function Z(y){return y===null||le(y)?G(y):(e.enter("htmlFlowData"),j(y))}function ie(y){return y===45?(e.consume(y),w):j(y)}function re(y){return y===47?(e.consume(y),o="",se):j(y)}function se(y){if(y===62){const pe=o.toLowerCase();return _o.includes(pe)?(e.consume(y),ee):j(y)}return Gt(y)&&o.length<8?(e.consume(y),o+=String.fromCharCode(y),se):j(y)}function he(y){return y===93?(e.consume(y),w):j(y)}function w(y){return y===62?(e.consume(y),ee):y===45&&i===2?(e.consume(y),w):j(y)}function ee(y){return y===null||le(y)?(e.exit("htmlFlowData"),we(y)):(e.consume(y),ee)}function we(y){return e.exit("htmlFlow"),t(y)}}function Ah(e,t,n){const r=this;return i;function i(o){return le(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Dh(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ti,t,n)}}const Rh={name:"htmlText",tokenize:Oh};function Oh(e,t,n){const r=this;let i,a,o;return l;function l(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),s}function s(w){return w===33?(e.consume(w),u):w===47?(e.consume(w),x):w===63?(e.consume(w),A):Gt(w)?(e.consume(w),N):n(w)}function u(w){return w===45?(e.consume(w),d):w===91?(e.consume(w),a=0,g):Gt(w)?(e.consume(w),T):n(w)}function d(w){return w===45?(e.consume(w),c):n(w)}function f(w){return w===null?n(w):w===45?(e.consume(w),v):le(w)?(o=f,re(w)):(e.consume(w),f)}function v(w){return w===45?(e.consume(w),c):f(w)}function c(w){return w===62?ie(w):w===45?v(w):f(w)}function g(w){const ee="CDATA[";return w===ee.charCodeAt(a++)?(e.consume(w),a===ee.length?E:g):n(w)}function E(w){return w===null?n(w):w===93?(e.consume(w),m):le(w)?(o=E,re(w)):(e.consume(w),E)}function m(w){return w===93?(e.consume(w),b):E(w)}function b(w){return w===62?ie(w):w===93?(e.consume(w),b):E(w)}function T(w){return w===null||w===62?ie(w):le(w)?(o=T,re(w)):(e.consume(w),T)}function A(w){return w===null?n(w):w===63?(e.consume(w),z):le(w)?(o=A,re(w)):(e.consume(w),A)}function z(w){return w===62?ie(w):A(w)}function x(w){return Gt(w)?(e.consume(w),_):n(w)}function _(w){return w===45||Et(w)?(e.consume(w),_):I(w)}function I(w){return le(w)?(o=I,re(w)):Ie(w)?(e.consume(w),I):ie(w)}function N(w){return w===45||Et(w)?(e.consume(w),N):w===47||w===62||xt(w)?F(w):n(w)}function F(w){return w===47?(e.consume(w),ie):w===58||w===95||Gt(w)?(e.consume(w),H):le(w)?(o=F,re(w)):Ie(w)?(e.consume(w),F):ie(w)}function H(w){return w===45||w===46||w===58||w===95||Et(w)?(e.consume(w),H):q(w)}function q(w){return w===61?(e.consume(w),j):le(w)?(o=q,re(w)):Ie(w)?(e.consume(w),q):F(w)}function j(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),i=w,G):le(w)?(o=j,re(w)):Ie(w)?(e.consume(w),j):(e.consume(w),K)}function G(w){return w===i?(e.consume(w),i=void 0,Z):w===null?n(w):le(w)?(o=G,re(w)):(e.consume(w),G)}function K(w){return w===null||w===34||w===39||w===60||w===61||w===96?n(w):w===47||w===62||xt(w)?F(w):(e.consume(w),K)}function Z(w){return w===47||w===62||xt(w)?F(w):n(w)}function ie(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):n(w)}function re(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),se}function se(w){return Ie(w)?Oe(e,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):he(w)}function he(w){return e.enter("htmlTextData"),o(w)}}const $a={name:"labelEnd",resolveAll:Fh,resolveTo:Bh,tokenize:Mh},Nh={tokenize:qh},Lh={tokenize:jh},zh={tokenize:Hh};function Fh(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Jt(e,0,e.length,n),e}function Bh(e,t){let n=e.length,r=0,i,a,o,l;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const s={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",s,t],["enter",u,t]],l=ut(l,e.slice(a+1,a+r+3)),l=ut(l,[["enter",d,t]]),l=ut(l,Ta(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),l=ut(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=ut(l,e.slice(o+1)),l=ut(l,[["exit",s,t]]),Jt(e,a,e.length,l),e}function Mh(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(v){return a?a._inactive?f(v):(o=r.parser.defined.includes(Or(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),s):n(v)}function s(v){return v===40?e.attempt(Nh,d,o?d:f)(v):v===91?e.attempt(Lh,d,o?u:f)(v):o?d(v):f(v)}function u(v){return e.attempt(zh,d,f)(v)}function d(v){return t(v)}function f(v){return a._balanced=!0,n(v)}}function qh(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return xt(f)?Tr(e,a)(f):a(f)}function a(f){return f===41?d(f):Jl(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return xt(f)?Tr(e,s)(f):d(f)}function l(f){return n(f)}function s(f){return f===34||f===39||f===40?ts(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return xt(f)?Tr(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function jh(e,t,n){const r=this;return i;function i(l){return es.call(r,e,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function Hh(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Uh={name:"labelStartImage",resolveAll:$a.resolveAll,tokenize:Vh};function Vh(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Yh={name:"labelStartLink",resolveAll:$a.resolveAll,tokenize:Wh};function Wh(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Vi={name:"lineEnding",tokenize:Gh};function Gh(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Oe(e,t,"linePrefix")}}const ui={name:"thematicBreak",tokenize:Qh};function Qh(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),s(u)):r>=3&&(u===null||le(u))?(e.exit("thematicBreak"),t(u)):n(u)}function s(u){return u===i?(e.consume(u),r++,s):(e.exit("thematicBreakSequence"),Ie(u)?Oe(e,l,"whitespace")(u):l(u))}}const gt={continuation:{tokenize:Jh},exit:tp,name:"list",tokenize:Zh},Xh={partial:!0,tokenize:np},Kh={partial:!0,tokenize:ep};function Zh(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(c){const g=r.containerState.type||(c===42||c===43||c===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||c===r.containerState.marker:ua(c)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),c===42||c===45?e.check(ui,n,u)(c):u(c);if(!r.interrupt||c===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(c)}return n(c)}function s(c){return ua(c)&&++o<10?(e.consume(c),s):(!r.interrupt||o<2)&&(r.containerState.marker?c===r.containerState.marker:c===41||c===46)?(e.exit("listItemValue"),u(c)):n(c)}function u(c){return e.enter("listItemMarker"),e.consume(c),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||c,e.check(Ti,r.interrupt?n:d,e.attempt(Xh,v,f))}function d(c){return r.containerState.initialBlankLine=!0,a++,v(c)}function f(c){return Ie(c)?(e.enter("listItemPrefixWhitespace"),e.consume(c),e.exit("listItemPrefixWhitespace"),v):n(c)}function v(c){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(c)}}function Jh(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ti,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Oe(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!Ie(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Kh,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Oe(e,e.attempt(gt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function ep(e,t,n){const r=this;return Oe(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function tp(e){e.exit(this.containerState.type)}function np(e,t,n){const r=this;return Oe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Ie(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const yo={name:"setextUnderline",resolveTo:rp,tokenize:ip};function rp(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function ip(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),Ie(u)?Oe(e,s,"lineSuffix")(u):s(u))}function s(u){return u===null||le(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const ap={tokenize:op};function op(e){const t=this,n=e.attempt(Ti,r,e.attempt(this.parser.constructs.flowInitial,i,Oe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(fh,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const lp={resolveAll:rs()},sp=ns("string"),up=ns("text");function ns(e){return{resolveAll:rs(e==="text"?cp:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,l);return o;function o(d){return u(d)?a(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),s}function s(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),s)}function u(d){if(d===null)return!0;const f=i[d];let v=-1;if(f)for(;++v<f.length;){const c=f[v];if(!c.previous||c.previous.call(r,r.previous))return!0}return!1}}}function rs(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function cp(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,l=0,s;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)s=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||s||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const fp={42:gt,43:gt,45:gt,48:gt,49:gt,50:gt,51:gt,52:gt,53:gt,54:gt,55:gt,56:gt,57:gt,62:Ql},dp={91:gh},vp={[-2]:Ui,[-1]:Ui,32:Ui},hp={35:xh,42:ui,45:[yo,ui],60:Ih,61:yo,95:ui,96:mo,126:mo},pp={38:Kl,92:Xl},gp={[-5]:Vi,[-4]:Vi,[-3]:Vi,33:Uh,38:Kl,42:ca,60:[Yv,Rh],91:Yh,92:[bh,Xl],93:$a,95:ca,96:ah},mp={null:[ca,lp]},_p={null:[42,95]},yp={null:[]},bp=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_p,contentInitial:dp,disable:yp,document:fp,flow:hp,flowInitial:vp,insideSpan:mp,string:pp,text:gp},Symbol.toStringTag,{value:"Module"}));function wp(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],l=[];const s={attempt:I(x),check:I(_),consume:T,enter:A,exit:z,interrupt:I(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:E,events:[],now:g,parser:e,previous:null,sliceSerialize:v,sliceStream:c,write:f};let d=t.tokenize.call(u,s);return t.resolveAll&&a.push(t),u;function f(q){return o=ut(o,q),m(),o[o.length-1]!==null?[]:(N(t,0),u.events=Ta(a,u.events,u),u.events)}function v(q,j){return Sp(c(q),j)}function c(q){return xp(o,q)}function g(){const{_bufferIndex:q,_index:j,line:G,column:K,offset:Z}=r;return{_bufferIndex:q,_index:j,line:G,column:K,offset:Z}}function E(q){i[q.line]=q.column,H()}function m(){let q;for(;r._index<o.length;){const j=o[r._index];if(typeof j=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<j.length;)b(j.charCodeAt(r._bufferIndex));else b(j)}}function b(q){d=d(q)}function T(q){le(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,H()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=q}function A(q,j){const G=j||{};return G.type=q,G.start=g(),u.events.push(["enter",G,u]),l.push(G),G}function z(q){const j=l.pop();return j.end=g(),u.events.push(["exit",j,u]),j}function x(q,j){N(q,j.from)}function _(q,j){j.restore()}function I(q,j){return G;function G(K,Z,ie){let re,se,he,w;return Array.isArray(K)?we(K):"tokenize"in K?we([K]):ee(K);function ee(_e){return ze;function ze(je){const Je=je!==null&&_e[je],st=je!==null&&_e.null,et=[...Array.isArray(Je)?Je:Je?[Je]:[],...Array.isArray(st)?st:st?[st]:[]];return we(et)(je)}}function we(_e){return re=_e,se=0,_e.length===0?ie:y(_e[se])}function y(_e){return ze;function ze(je){return w=F(),he=_e,_e.partial||(u.currentConstruct=_e),_e.name&&u.parser.constructs.disable.null.includes(_e.name)?De():_e.tokenize.call(j?Object.assign(Object.create(u),j):u,s,pe,De)(je)}}function pe(_e){return q(he,w),Z}function De(_e){return w.restore(),++se<re.length?y(re[se]):ie}}}function N(q,j){q.resolveAll&&!a.includes(q)&&a.push(q),q.resolve&&Jt(u.events,j,u.events.length-j,q.resolve(u.events.slice(j),u)),q.resolveTo&&(u.events=q.resolveTo(u.events,u))}function F(){const q=g(),j=u.previous,G=u.currentConstruct,K=u.events.length,Z=Array.from(l);return{from:K,restore:ie};function ie(){r=q,u.previous=j,u.currentConstruct=G,u.events.length=K,l=Z,H()}}function H(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function xp(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function Sp(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function kp(e){const r={constructs:kv([bp,...(e||{}).extensions||[]]),content:i(Bv),defined:[],document:i(qv),flow:i(ap),lazy:{},string:i(sp),text:i(up)};return r;function i(a){return o;function o(l){return wp(r,a,l)}}}function Ep(e){for(;!Zl(e););return e}const bo=/[\0\t\n\r]/g;function Ip(){let e=1,t="",n=!0,r;return i;function i(a,o,l){const s=[];let u,d,f,v,c;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(bo.lastIndex=f,u=bo.exec(a),v=u&&u.index!==void 0?u.index:a.length,c=a.charCodeAt(v),!u){t=a.slice(f);break}if(c===10&&f===v&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),f<v&&(s.push(a.slice(f,v)),e+=v-f),c){case 0:{s.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,s.push(-2);e++<d;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:r=!0,e=1}f=v+1}return l&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}function Pp(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Fv(n)(Ep(kp(n).document().write(Ip()(e,t,!0))))}var Cp=B('<form method="dialog"><button type="submit">Close</button></form> <!>',1),Tp=B('<div class="content svelte-z28whr"><button type="button" class="svelte-z28whr">â¶</button> <!></div> <dialog class="svelte-z28whr"><!></dialog>',1),$p=B('<div class="content svelte-z28whr"><!></div>');function li(e,t){Se(t,!0);const n=()=>Le(at,"$appSettings",r),[r,i]=Ze();let a=ct(t,"code",15);const o=Be(()=>Pp(a()));let l=Be(()=>n().edit),s=Ce(null);function u(){k(s)&&k(s).showModal()}function d(E){if(k(s)){var m=k(s).getBoundingClientRect(),b=m.top<=E.clientY&&E.clientY<=m.top+m.height&&m.left<=E.clientX&&E.clientX<=m.left+m.width;b||k(s).close()}}var f=Bt(),v=J(f);{var c=E=>{var m=Tp(),b=J(m),T=L(b);T.__click=u;var A=D(T,2);lo(A,{autofocus:!0,get value(){return a()},set value(_){a(_)}}),O(b);var z=D(b,2);z.__click=d;var x=L(z);ue(x,{column:!0,align:"end",children:(_,I)=>{var N=Cp(),F=D(J(N),2);lo(F,{autofocus:!0,get value(){return a()},set value(H){a(H)}}),R(_,N)}}),O(z),rr(z,_=>oe(s,_),()=>k(s)),R(E,m)},g=E=>{var m=$p(),b=L(m);{var T=A=>{var z=Bt(),x=J(z);Ku(x,()=>k(o)),R(A,z)};Ne(b,A=>{k(o)&&A(T)})}O(m),R(E,m)};Ne(v,E=>{k(l)?E(c):E(g,!1)})}R(e,f),ke(),i()}Ct(["click"]);var Ap=B('<span class="label svelte-xov0bq">Size</span> <span class="value svelte-xov0bq"><!></span>',1),Dp=B('<span class="label svelte-xov0bq">Initiative</span> <span class="value svelte-xov0bq"> </span>',1),Rp=B('<span class="label svelte-xov0bq">Speed</span> <span class="value svelte-xov0bq"><!></span>',1),Op=B('<span class="label svelte-xov0bq">Proficiency Bonus</span> <span class="value svelte-xov0bq"><!></span>',1),Np=B("<!> <!> <!> <!>",1);function Lp(e,t){Se(t,!0);const n=()=>Le(t.character,"$character",r),[r,i]=Ze();ue(e,{column:!0,justify:"between",children:(a,o)=>{var l=Np(),s=J(l);yt(s,{nogrow:!0,children:(v,c)=>{ue(v,{column:!0,children:(g,E)=>{var m=Ap(),b=D(J(m),2),T=L(b);Fe(T,{get value(){return n().size},set value(A){ce(t.character,V(n).size=A,V(n))}}),O(b),R(g,m)},$$slots:{default:!0}})}});var u=D(s,2);yt(u,{nogrow:!0,children:(v,c)=>{ue(v,{column:!0,children:(g,E)=>{var m=Dp(),b=D(J(m),2),T=L(b,!0);O(b),de(A=>Ye(T,A),[()=>Tl(Ii(n().abilityScores.dex))]),R(g,m)},$$slots:{default:!0}})}});var d=D(u,2);yt(d,{nogrow:!0,children:(v,c)=>{ue(v,{column:!0,children:(g,E)=>{var m=Rp(),b=D(J(m),2),T=L(b);Fe(T,{get value(){return n().speed},set value(A){ce(t.character,V(n).speed=A,V(n))}}),O(b),R(g,m)},$$slots:{default:!0}})}});var f=D(d,2);yt(f,{nogrow:!0,children:(v,c)=>{ue(v,{column:!0,children:(g,E)=>{var m=Op(),b=D(J(m),2),T=L(b);Fe(T,{get value(){return n().proficiencyBonus},set value(A){ce(t.character,V(n).proficiencyBonus=A,V(n))}}),O(b),R(g,m)},$$slots:{default:!0}})}}),R(a,l)},$$slots:{default:!0}}),ke(),i()}const zp={acrobatics:"Acrobatics",animalHandling:"Animal Handling",arcana:"Arcana",athletics:"Athletics",deception:"Deception",history:"History",insight:"Insight",intimidation:"Intimidation",investigation:"Investigation",medicine:"Medicine",nature:"Nature",perception:"Perception",performance:"Performance",persuasion:"Persuasion",religion:"Religion",sleightOfHand:"Sleight of Hand",stealth:"Stealth",survival:"Survival",str:"Strength",dex:"Dexterity",con:"Constitution",int:"Intelligence",wis:"Wisdom",cha:"Charisma",none:"None",savingThrow:"Saving Throw"};function is(e){return zp[e]}var Fp=B('<div class="item svelte-1wvd7v4"><div class="name svelte-1wvd7v4"> </div> <div class="modifier svelte-1wvd7v4"><!></div> <span class="score svelte-1wvd7v4"><!> <div class="input svelte-1wvd7v4"><!></div></span></div>');function Bp(e,t){Se(t,!0);const n=()=>Le(t.character,"$character",r),[r,i]=Ze(),a=Be(()=>n().abilityScores[t.ability]);var o=Fp(),l=L(o),s=L(l,!0);O(l);var u=D(l,2),d=L(u);{let E=Be(()=>Ii(k(a)));Ca(d,{get modifier(){return k(E)}})}O(u);var f=D(u,2),v=L(f);yt(v,{rounded:!0,absolute:!0,noshadow:!0,small:!0});var c=D(v,2),g=L(c);Fe(g,{get value(){return n().abilityScores[t.ability]},set value(E){ce(t.character,V(n).abilityScores[t.ability]=E,V(n))}}),O(c),O(f),O(o),de(E=>Ye(s,E),[()=>is(t.ability)]),R(e,o),ke(),i()}var Mp=B('<button aria-label="Proficiency"></button>');function qp(e,t){Se(t,!0);let n=ct(t,"value",15);const r=["none","proficient","double","half"];function i(){const s=(r.indexOf(n()??"none")+1)%r.length;n(r[s])}var a=Mp();a.__click=i;let o;de(()=>o=Pt(a,1,"svelte-1vb6rvd",null,o,{"is-proficient":n()==="proficient","is-double":n()==="double","is-half":n()==="half"})),R(e,a),ke()}Ct(["click"]);var jp=B('<div class="wrapper svelte-1jy7427"><!> <span class="modifier svelte-1jy7427"><!></span> <span class="skill"> </span></div>');function wo(e,t){Se(t,!0);const n=()=>Le(t.character,"$character",i),r=()=>Le(at,"$appSettings",i),[i,a]=Ze(),o=Be(()=>t.skill==="savingThrow"?n().abilityProficiencies.includes(t.ability)?"proficient":"none":n().skillProficiencies[t.skill]??"none"),l=Be(()=>Tc(n().abilityScores[t.ability]??0,n().proficiencyBonus,k(o)));var s=jp(),u=L(s),d=()=>k(o),f=m=>{r().edit&&(t.skill==="savingThrow"?ce(t.character,V(n).abilityProficiencies=Ac(n().abilityProficiencies,t.ability),V(n)):ce(t.character,V(n).skillProficiencies[t.skill]=m,V(n)))};qp(u,{get value(){return d()},set value(m){f(m)}});var v=D(u,2),c=L(v);Ca(c,{get modifier(){return k(l)}}),O(v);var g=D(v,2),E=L(g,!0);O(g),O(s),de(m=>Ye(E,m),[()=>is(t.skill)]),R(e,s),ke(),a()}var Hp=B("<!> <!>",1),Up=B('<div class="inner svelte-1ftln1h"><!> <!> <!> <!></div>');function Gn(e,t){Se(t,!0);const n=Be(()=>$c(Yf).flatMap(([r,i])=>t.ability!==i?[]:{skill:r,ability:i}));yt(e,{children:(r,i)=>{var a=Up(),o=L(a);Bp(o,{get ability(){return t.ability},get character(){return t.character}});var l=D(o,2);me(l,{});var s=D(l,2);wo(s,{skill:"savingThrow",get ability(){return t.ability},get character(){return t.character}});var u=D(s,2);{var d=f=>{var v=Hp(),c=J(v);me(c,{});var g=D(c,2);pn(g,17,()=>k(n),qn,(E,m)=>{wo(E,{get skill(){return k(m).skill},get ability(){return t.ability},get character(){return t.character}})}),R(f,v)};Ne(u,f=>{k(n).length>0&&f(d)})}O(a),R(r,a)}}),ke()}var Vp=B('<span>+</span> <div class="hit"><!></div>',1),Yp=B('<button class="delete-button" type="button">delete</button>'),Wp=B('<div class="seperator svelte-120kl8r"><!></div> <div class="line svelte-120kl8r"><div class="cell name svelte-120kl8r"><!></div> <!> <div class="cell svelte-120kl8r"><!></div> <!> <div class="cell damage svelte-120kl8r"><!></div> <!> <div class="cell details svelte-120kl8r"><!></div> <!></div>',1),Gp=B("<span>Add line</span>"),Qp=B('<div><div class="line heading svelte-120kl8r"><div class="cell name svelte-120kl8r">Name</div> <!> <div class="cell hit svelte-120kl8r">Hit</div> <!> <div class="cell damage svelte-120kl8r">Damage</div> <!> <div class="cell details svelte-120kl8r">Details</div></div> <!> <!></div>');function Xp(e,t){Se(t,!0);const n=()=>Le(at,"$appSettings",i),r=()=>Le(t.character,"$character",i),[i,a]=Ze(),o=Be(()=>n().edit),l=()=>{r().weapons.push({name:"",hit:0,damage:"",details:""}),ce(t.character,V(r).weapons=r().weapons,V(r))},s=u=>{const d=r().weapons.indexOf(u);r().weapons.splice(d,1),ce(t.character,V(r).weapons=r().weapons,V(r))};Lt(e,{children:(u,d)=>{var f=Qp();let v;var c=L(f),g=D(L(c),2);me(g,{vertical:!0});var E=D(g,4);me(E,{vertical:!0});var m=D(E,4);me(m,{vertical:!0}),xe(2),O(c);var b=D(c,2);pn(b,1,()=>r().weapons,qn,(z,x,_)=>{var I=Wp(),N=J(I),F=L(N);me(F,{}),O(N);var H=D(N,2),q=L(H),j=L(q);Fe(j,{get value(){return k(x).name},set value(pe){k(x).name=pe,cn(i,"$character")}}),O(q);var G=D(q,2);me(G,{vertical:!0});var K=D(G,2),Z=L(K);ue(Z,{align:"center",nogap:!0,children:(pe,De)=>{var _e=Vp(),ze=D(J(_e),2),je=L(ze);Fe(je,{get value(){return k(x).hit},set value(Je){k(x).hit=Je,cn(i,"$character")}}),O(ze),R(pe,_e)},$$slots:{default:!0}}),O(K);var ie=D(K,2);me(ie,{vertical:!0});var re=D(ie,2),se=L(re);Fe(se,{get value(){return k(x).damage},set value(pe){k(x).damage=pe,cn(i,"$character")}}),O(re);var he=D(re,2);me(he,{vertical:!0});var w=D(he,2),ee=L(w);Fe(ee,{get value(){return k(x).details},set value(pe){k(x).details=pe,cn(i,"$character")}}),O(w);var we=D(w,2);{var y=pe=>{var De=Yp();De.__click=()=>s(k(x)),R(pe,De)};Ne(we,pe=>{k(o)&&pe(y)})}O(H),R(z,I)});var T=D(b,2);{var A=z=>{ue(z,{children:(x,_)=>{ht(x,{onclick:l,children:(I,N)=>{var F=Gp();R(I,F)},$$slots:{default:!0}})},$$slots:{default:!0}})};Ne(T,z=>{k(o)&&z(A)})}O(f),de(()=>v=Pt(f,1,"items svelte-120kl8r",null,v,{edit:k(o)})),R(u,f)}}),ke(),a()}Ct(["click"]);var Kp=B('<div class="wrapper svelte-1xzr1y2"><div class="inner svelte-1xzr1y2"><!></div></div>');function xo(e,t){let n=Ce(null),r=Ce(null);var i=Kp(),a=L(i),o=L(a);ft(o,()=>t.children??Te),O(a),rr(a,l=>oe(r,l),()=>k(r)),O(i),rr(i,l=>oe(n,l),()=>k(n)),R(e,i)}var Zp=B('<span class="languages svelte-1ghi6lp"><!></span>'),Jp=B('<div class="inner svelte-1ghi6lp"><div class="side svelte-1ghi6lp"><h1 class="name svelte-1ghi6lp"><!></h1> <div class="avatar svelte-1ghi6lp"><!></div> <div class="abilities svelte-1ghi6lp"><div class="line svelte-1ghi6lp"><!> <!> <!> <!> <!></div> <div class="line svelte-1ghi6lp"><!> <!> <!></div></div></div> <div class="main svelte-1ghi6lp"><div class="heading svelte-1ghi6lp"><!></div> <div class="combat svelte-1ghi6lp"><!></div> <div class="other svelte-1ghi6lp"><!></div> <div class="weapons svelte-1ghi6lp"><!></div> <div class="feats svelte-1ghi6lp"><!></div> <div class="species svelte-1ghi6lp"><!></div> <div class="class svelte-1ghi6lp"><!></div></div></div>');function eg(e,t){Se(t,!0);const n=()=>Le(t.character,"$character",r),[r,i]=Ze();Yl(e,{children:(a,o)=>{var l=Jp(),s=L(l),u=L(s),d=L(u);Fe(d,{get value(){return n().name},set value(y){ce(t.character,V(n).name=y,V(n))}}),O(u);var f=D(u,2),v=L(f);lv(v,{get character(){return t.character}}),O(f);var c=D(f,2),g=L(c),E=L(g);Gn(E,{ability:"str",get character(){return t.character}});var m=D(E,2);Gn(m,{ability:"dex",get character(){return t.character}});var b=D(m,2);Gn(b,{ability:"con",get character(){return t.character}});var T=D(b,2);Lt(T,{title:"Heroic Inspiration"});var A=D(T,2);Lt(A,{title:"Languages",children:(y,pe)=>{var De=Zp(),_e=L(De);li(_e,{get code(){return n().languages},set code(ze){ce(t.character,V(n).languages=ze,V(n))}}),O(De),R(y,De)}}),O(g);var z=D(g,2),x=L(z);Gn(x,{ability:"int",get character(){return t.character}});var _=D(x,2);Gn(_,{ability:"wis",get character(){return t.character}});var I=D(_,2);Gn(I,{ability:"cha",get character(){return t.character}}),O(z),O(c),O(s);var N=D(s,2),F=L(N),H=L(F);Sv(H,{get character(){return t.character}}),O(F);var q=D(F,2),j=L(q);bv(j,{get character(){return t.character}}),O(q);var G=D(q,2),K=L(G);Lp(K,{get character(){return t.character}}),O(G);var Z=D(G,2),ie=L(Z);Xp(ie,{get character(){return t.character}}),O(Z);var re=D(Z,2),se=L(re);Lt(se,{grid:!0,title:"Feats",children:(y,pe)=>{li(y,{get code(){return n().features.feats},set code(De){ce(t.character,V(n).features.feats=De,V(n))}})}}),O(re);var he=D(re,2),w=L(he);Lt(w,{grid:!0,title:"Species",children:(y,pe)=>{xo(y,{children:(De,_e)=>{li(De,{get code(){return n().features.species},set code(ze){ce(t.character,V(n).features.species=ze,V(n))}})}})}}),O(he);var ee=D(he,2),we=L(ee);Lt(we,{grid:!0,title:"Class",children:(y,pe)=>{xo(y,{children:(De,_e)=>{li(De,{get code(){return n().features.class},set code(ze){ce(t.character,V(n).features.class=ze,V(n))}})}})}}),O(ee),O(N),O(l),R(a,l)}}),ke(),i()}const as="character.json",os="avatar.";async function tg(e){const{BlobReader:t,BlobWriter:n,TextReader:r,ZipWriter:i}=await Ei(async()=>{const{BlobReader:f,BlobWriter:v,TextReader:c,ZipWriter:g}=await import("./index-NmetT060.js");return{BlobReader:f,BlobWriter:v,TextReader:c,ZipWriter:g}},[]),a=new n,o=new i(a);let l=structuredClone(e);l.avatar.blob=null;const s=JSON.stringify(l);await o.add(as,new r(s));const u=e.avatar?.blob;if(u instanceof Blob){let f=u.type?.split("/")[1]||"bin";f==="jpeg"&&(f="jpg");const v=`${os}${f}`;await o.add(v,new t(u))}await o.close();const d=await a.getData();return new File([d],`${e.slug}.zip`)}async function ng(e){const{BlobReader:t,BlobWriter:n,TextWriter:r,ZipReader:i}=await Ei(async()=>{const{BlobReader:f,BlobWriter:v,TextWriter:c,ZipReader:g}=await import("./index-NmetT060.js");return{BlobReader:f,BlobWriter:v,TextWriter:c,ZipReader:g}},[]),a=new i(new t(e)),o=await a.getEntries(),l=o.find(f=>f.directory===!1&&f.filename.startsWith(os)),s=o.find(f=>f.directory===!1&&f.filename===as);if(!s)throw new Error("Invalid save data: missing character.json");const[u,d]=await Promise.all([(async()=>{const f=new r;await s.getData(f);const v=await f.getData();return Vf(JSON.parse(v))})(),(async()=>{if(!l)return null;const f=new n;return await l.getData(f),await f.getData()})()]);return u.avatar.blob=d,await a.close(),u}var rg=B('<input type="file" class="svelte-ozss1q"/> <!>',1),ig=B("<label><!></label>");function ag(e,t){Se(t,!0);var n=ig(),r=L(n);Ia(r,{children:(i,a)=>{var o=rg(),l=J(o);l.__change=u=>{const d=u.currentTarget.files?.[0]??null;t.onchange?.(d),u.currentTarget.value=""};var s=D(l,2);ft(s,()=>t.children??Te),de(()=>Zt(l,"accept",t.accept)),R(i,o)}}),O(n),R(e,n),ke()}Ct(["change"]);var Yi,So;function og(){return So||(So=1,Yi=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Yi}var lg=og();const sg=Vl(lg);function ug(e,t){return sg(e,t)}var cg=B("<!> <!> <!> <!> <!> <!> <!> <!>",1),fg=B('<!> <!> <div class="toolbar hide-print svelte-va3igi"><!></div>',1),dg=B("<div><!></div>");function vg(e,t){Se(t,!0);const n=()=>Le(at,"$appSettings",i),r=()=>Le(k(l),"$character",i),[i,a]=Ze();let o=ct(t,"characterData",15),l=Ce(un(ir(structuredClone(o()))));Ut(()=>{fc(oe(l,ir(structuredClone(o())),!0),"$character",i)});const s=Be(()=>n().hasChanges);Ut(()=>{ce(at,V(n).hasChanges=!ug(o(),r()),V(n))});const u=()=>{ce(at,V(n).edit=!n().edit,V(n))};async function d(){const m=await tg(r());await Nc(m,m.name)}async function f(m){try{if(!m)return;const b=await ng(m);k(l).set(b)}catch(b){console.error(b),oa("Something went wrong with importing.")}}async function v(){await td(r()),o(r())}var c=dg();let g;var E=L(c);ue(E,{column:!0,xl:!0,children:(m,b)=>{var T=fg(),A=J(T);eg(A,{get character(){return k(l)}});var z=D(A,2);rv(z,{get character(){return k(l)}});var x=D(z,2),_=L(x);Nl(_,{children:(I,N)=>{ue(I,{padding:!0,justify:"start",children:(F,H)=>{var q=cg(),j=J(q);ht(j,{onclick:u,children:(ee,we)=>{xe();var y=Xe("Toggle editables");R(ee,y)},$$slots:{default:!0}});var G=D(j,2);{var K=ee=>{ht(ee,{onclick:v,children:(we,y)=>{xe();var pe=Xe("Save changes");R(we,pe)},$$slots:{default:!0}})};Ne(G,ee=>{k(s)&&ee(K)})}var Z=D(G,2);Rr(Z);var ie=D(Z,2);ht(ie,{onclick:d,children:(ee,we)=>{xe();var y=Xe("Export");R(ee,y)},$$slots:{default:!0}});var re=D(ie,2);ag(re,{accept:"application/zip",onchange:f,children:(ee,we)=>{xe();var y=Xe("Import");R(ee,y)},$$slots:{default:!0}});var se=D(re,2);ht(se,{onclick:async()=>{const ee=await dd(r());await navigator.clipboard.writeText(ee),oa("Copied to clipboard")},children:(ee,we)=>{xe();var y=Xe("Export to yaml");R(ee,y)},$$slots:{default:!0}});var he=D(se,2);ht(he,{type:"button",onclick:async()=>{const ee=n().edit;ce(at,V(n).edit=!1,V(n)),await ki(),window.print(),ce(at,V(n).edit=ee,V(n))},children:(ee,we)=>{xe();var y=Xe("Print");R(ee,y)},$$slots:{default:!0}});var w=D(he,2);ht(w,{onclick:async()=>{await rd(r().slug,k(l))},children:(ee,we)=>{xe();var y=Xe("Load Example");R(ee,y)},$$slots:{default:!0}}),R(F,q)},$$slots:{default:!0}})}}),O(x),R(m,T)}}),O(c),de(()=>g=Pt(c,1,"svelte-va3igi",null,g,{showEditables:!n().edit})),R(e,c),ke(),a()}var hg=B('<h1>No character found for slug: <code> </code></h1> <a href="/">Go back to character select</a>',1);function pg(e,t){Se(t,!0);var n,r=Wo([async()=>n=await Go(()=>ed(t.params.slug))]),i=Bt(),a=J(i);wn(a,[r[0]],[()=>k(n)],(o,l)=>{var s=d=>{wn(d,[r[0]],void 0,f=>{vg(f,{get characterData(){return k(n)},set characterData(v){oe(n,v)}})})},u=d=>{var f=hg(),v=J(f),c=D(L(v)),g=L(c,!0);O(c),O(v);var E=D(v,2);Sa(E,m=>Dl?.(m)),de(()=>Ye(g,t.params.slug),void 0,void 0,[r[0]]),R(d,f)};Ne(o,d=>{k(l)?d(s):d(u,!1)})}),R(e,i),ke()}var gg=B('<label><span>Size</span> <input name="size" type="number"/></label> <label><span>Columns</span> <input name="x" type="number"/></label> <label><span>Rows</span> <input name="y" type="number"/></label> <label><span>Stroke width</span> <input name="stroke" type="number"/></label> <!>',1),mg=B('<div class="wrapper svelte-1g22s45"><form class="svelte-1g22s45"><!></form> <!> <div class="canvas svelte-1g22s45"><!></div></div>');function _g(e,t){Se(t,!0);let n=Ce(null),r=Ce(null),i=Ce(2),a=Ce(10),o=Ce(8),l=Ce(100),s=30;Ut(()=>{if(!(!k(n)||!k(r))){k(n).width=s*2+k(a)*k(l),k(n).height=s*2+k(o)*k(l),k(r).clearRect(0,0,k(n).width,k(n).height),k(r).filter="url(#pencil)",k(r).lineWidth=k(i);for(let m=1;m<k(a);m++){k(r).beginPath();const b=s+m*k(l);k(r).moveTo(b,s),k(r).lineTo(b,k(n).height-s),k(r).stroke()}for(let m=1;m<k(o);m++){k(r).beginPath();const b=s+m*k(l);k(r).moveTo(s,b),k(r).lineTo(k(n).width-s,b),k(r).stroke()}k(r).lineWidth=k(i)*1.5,k(r).beginPath(),k(r).roundRect(s,s,k(n).width-s*2,k(n).height-s*2,k(i)*5),k(r).stroke()}});const u=m=>{m.preventDefault();const b=new FormData(m.currentTarget),T=parseInt(b.get("x")?.toString()||"")||k(a),A=parseInt(b.get("y")?.toString()||"")||k(o),z=parseInt(b.get("size")?.toString()||"")||k(l);Math.sqrt(T*A*z*z)>4e3&&!confirm("The grid will be pretty large and can cause issues, are you sure?")||(oe(a,T,!0),oe(o,A,!0),oe(l,z,!0),oe(i,parseInt(b.get("stroke")?.toString()||"")||k(i),!0))};var d=mg(),f=L(d),v=L(f);ue(v,{column:!0,children:(m,b)=>{var T=gg(),A=J(T),z=D(L(A),2);O(A);var x=D(A,2),_=D(L(x),2);O(x);var I=D(x,2),N=D(L(I),2);O(I);var F=D(I,2),H=D(L(F),2);O(F);var q=D(F,2);ht(q,{type:"submit",children:(j,G)=>{xe();var K=Xe("Generate");R(j,K)},$$slots:{default:!0}}),de(()=>{z.defaultValue=k(l),_.defaultValue=k(a),N.defaultValue=k(o),H.defaultValue=k(i)}),R(m,T)}}),O(f);var c=D(f,2);me(c,{vertical:!0});var g=D(c,2),E=L(g);Rl(E,{get canvas(){return k(n)},set canvas(m){oe(n,m,!0)},get context(){return k(r)},set context(m){oe(r,m,!0)}}),O(g),O(d),Ht("submit",f,u),R(e,d),ke()}function yg(e){_g(e,{})}const Fn={characterSelect:()=>"/",characterSheet:e=>`/sheet/${e}`,gridGenerator:()=>"/generate-grid"},bg={[Fn.characterSelect()]:cd,[Fn.characterSheet(":slug")]:pg,[Fn.gridGenerator()]:yg},ci=[];let ls;function ss(e){const t=e.pattern.test(ls);ko(e,e.className,t),ko(e,e.inactiveClassName,!t)}function ko(e,t,n){(t||"").split(" ").forEach(r=>{r&&(e.node.classList.remove(r),n&&e.node.classList.add(r))})}Pi.subscribe(e=>{ls=e.location+(e.querystring?"?"+e.querystring:""),ci.map(ss)});function wg(e,t){if(t&&(typeof t=="string"||typeof t=="object"&&t instanceof RegExp)?t={path:t}:t=t||{},!t.path&&e.hasAttribute("href")&&(t.path=e.getAttribute("href"),t.path&&t.path.length>1&&t.path.charAt(0)=="#"&&(t.path=t.path.substring(1))),t.className||(t.className="active"),!t.path||typeof t.path=="string"&&(t.path.length<1||t.path.charAt(0)!="/"&&t.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof t.path=="string"?Al(t.path):{pattern:t.path},r={node:e,className:t.className,inactiveClassName:t.inactiveClassName,pattern:n};return ci.push(r),ss(r),{destroy(){ci.splice(ci.indexOf(r),1)}}}var xg=B("<a><!></a>");function Eo(e,t){Se(t,!0);const n=()=>Le(at,"$appSettings",r),[r,i]=Ze(),a=Be(()=>n().hasChanges);function o(u){u.preventDefault(),(!k(a)||window.confirm("There are unsaved changed, these will get lost if you continue"))&&Qc(t.href)}var l=xg();l.__click=o;var s=L(l);ft(s,()=>t.children??Te),O(l),Sa(l,u=>wg?.(u)),de(()=>Zt(l,"href",t.href)),R(e,l),ke(),i()}Ct(["click"]);var Sg=B('<header class="hide-print"><div class="inner svelte-a8kxe2"><h1><!></h1> <nav class="svelte-a8kxe2"></nav></div> <!></header>');function kg(e,t){Se(t,!1);const n=[{href:Fn.characterSelect(),label:"Character select"},{href:Fn.gridGenerator(),label:"Grid generator"}];El();var r=Sg(),i=L(r),a=L(i),o=L(a);{let u=Si(()=>Fn.characterSelect());Eo(o,{get href(){return k(u)},children:(d,f)=>{xe();var v=Xe("D&D Character Sheet creator");R(d,v)},$$slots:{default:!0}})}O(a);var l=D(a,2);pn(l,5,()=>n,qn,(u,d)=>{let f=()=>k(d).href,v=()=>k(d).label;Eo(u,{get href(){return f()},children:(c,g)=>{xe();var E=Xe();de(()=>Ye(E,v())),R(c,E)},$$slots:{default:!0}})}),O(l),O(i);var s=D(i,2);me(s,{}),O(r),R(e,r),ke()}var Eg=B("<!> <!> <!>",1),Ig=B('<!> <main class="svelte-1n46o8q"><!></main>',1);function Pg(e){var t=Ig(),n=J(t);Gc(n,{});var r=D(n,2),i=L(r);Ec(i,{children:(a,o)=>{var l=Eg(),s=J(l);kg(s,{});var u=D(s,2);Zc(u,{get routes(){return bg}});var d=D(u,2);Yc(d),R(a,l)}}),O(r),R(e,t)}const Cg=document.getElementById("app");Vu(Pg,{target:Cg});
