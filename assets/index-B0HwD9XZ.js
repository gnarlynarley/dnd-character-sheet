(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const Gi=!1;var gi=Array.isArray,Ns=Array.prototype.indexOf,mi=Array.from,Co=Object.defineProperty,Sn=Object.getOwnPropertyDescriptor,$o=Object.getOwnPropertyDescriptors,Os=Object.prototype,Ls=Array.prototype,da=Object.getPrototypeOf,La=Object.isExtensible;function Xn(e){return typeof e=="function"}const Te=()=>{};function zs(e){return e()}function di(e){for(var t=0;t<e.length;t++)e[t]()}function To(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const Ze=2,Dr=4,er=8,Qi=1<<24,tn=16,_n=32,jn=64,_i=128,zt=512,lt=1024,_t=2048,nn=4096,It=8192,Kt=16384,or=32768,hn=65536,Xi=1<<17,va=1<<18,lr=1<<19,Ao=1<<20,un=1<<25,Bn=32768,Ki=1<<21,ha=1<<22,kn=1<<23,En=Symbol("$state"),Do=Symbol("legacy props"),Fs=Symbol(""),Rn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},yi=3,Hn=8;function bi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Bs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ms(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function qs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function js(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Hs(){throw new Error("https://svelte.dev/e/effect_pending_outside_reaction")}function Us(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Vs(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Ys(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ws(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Gs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Xs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ks=1,Zs=2,Ro=4,Js=8,eu=16,tu=1,nu=2,ru=4,iu=8,au=16,ou=1,lu=2,su=4,uu=1,cu=2,fu="[",wi="[!",pa="]",Fr={},rt=Symbol(),du="http://www.w3.org/1999/xhtml";function Br(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function vu(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let ce=!1;function fn(e){ce=e}let be;function Ye(e){if(e===null)throw Br(),Fr;return be=e}function Pn(){return Ye(Bt(be))}function N(e){if(ce){if(Bt(be)!==null)throw Br(),Fr;be=e}}function xe(e=1){if(ce){for(var t=e,n=be;t--;)n=Bt(n);be=n}}function Rr(e=!0){for(var t=0,n=be;;){if(n.nodeType===Hn){var r=n.data;if(r===pa){if(t===0)return n;t-=1}else(r===fu||r===wi)&&(t+=1)}var i=Bt(n);e&&n.remove(),n=i}}function No(e){if(!e||e.nodeType!==Hn)throw Br(),Fr;return e.data}function Oo(e){return e===this.v}function Lo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function zo(e){return!Lo(e,this.v)}let dn=!1,sr=!1,hu=!1;function pu(){dn=!0}function gu(){sr=!0}let De=null;function tr(e){De=e}function ke(e,t=!1,n){De={p:De,i:!1,c:null,e:null,s:e,x:null,l:sr&&!t?{s:null,u:null,$:[]}:null}}function Ee(e){var t=De,n=t.e;if(n!==null){t.e=null;for(var r of n)ul(r)}return t.i=!0,De=t.p,{}}function Mr(){return!sr||De!==null&&De.l===null}let Nn=[];function Fo(){var e=Nn;Nn=[],di(e)}function yn(e){if(Nn.length===0&&!Ir){var t=Nn;queueMicrotask(()=>{t===Nn&&Fo()})}Nn.push(e)}function mu(){for(;Nn.length>0;)Fo()}function Bo(e){var t=ve;if(t===null)return ye.f|=kn,e;if((t.f&or)===0){if((t.f&_i)===0)throw e;t.b.error(e)}else Mn(e,t)}function Mn(e,t){for(;t!==null;){if((t.f&_i)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const _u=-7169;function Ge(e,t){e.f=e.f&_u|t}function ga(e){(e.f&zt)!==0||e.deps===null?Ge(e,lt):Ge(e,nn)}function Mo(e){if(e!==null)for(const t of e)(t.f&Ze)===0||(t.f&Bn)===0||(t.f^=Bn,Mo(t.deps))}function qo(e,t,n){(e.f&_t)!==0?t.add(e):(e.f&nn)!==0&&n.add(e),Mo(e.deps),Ge(e,lt)}const Yn=new Set;let Se=null,ui=null,it=null,Nt=[],xi=null,Zi=!1,Ir=!1;class Xt{committed=!1;current=new Map;previous=new Map;#e=new Set;#i=new Set;#t=0;#a=0;#o=null;#r=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#a>0}process(t){Nt=[],ui=null,this.apply();var n=[],r=[];for(const i of t)this.#l(i,n,r);this.is_fork||this.#u(),this.is_deferred()?(this.#s(r),this.#s(n)):(ui=this,Se=null,za(r),za(n),ui=null,this.#o?.resolve()),it=null}#l(t,n,r){t.f^=lt;for(var i=t.first,a=null;i!==null;){var o=i.f,l=(o&(_n|jn))!==0,s=l&&(o&lt)!==0,u=s||(o&It)!==0||this.skipped_effects.has(i);if(dn&&a===null&&(o&_i)!==0&&i.b?.is_pending&&(a=i),!u&&i.fn!==null){l?i.f^=lt:a!==null&&(o&(Dr|er|Qi))!==0?a.b.defer_effect(i):(o&Dr)!==0?n.push(i):dn&&(o&(er|Qi))!==0?r.push(i):fr(i)&&((o&tn)!==0&&this.#r.add(i),rr(i));var d=i.first;if(d!==null){i=d;continue}}var f=i.parent;for(i=i.next;i===null&&f!==null;)f===a&&(a=null),i=f.next,f=f.parent}}#s(t){for(var n=0;n<t.length;n+=1)qo(t[n],this.#r,this.#n)}capture(t,n){n!==rt&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&kn)===0&&(this.current.set(t,t.v),it?.set(t,t.v))}activate(){Se=this,this.apply()}deactivate(){Se===this&&(Se=null,it=null)}flush(){if(this.activate(),Nt.length>0){if(Ji(),Se!==null&&Se!==this)return}else this.#t===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#i)t(this);this.#i.clear()}#u(){if(this.#a===0){for(const t of this.#e)t();this.#e.clear()}this.#t===0&&this.#c()}#c(){if(Yn.size>1){this.previous.clear();var t=it,n=!0;for(const i of Yn){if(i===this){n=!1;continue}const a=[];for(const[l,s]of this.current){if(i.current.has(l))if(n&&s!==i.current.get(l))i.current.set(l,s);else continue;a.push(l)}if(a.length===0)continue;const o=[...i.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var r=Nt;Nt=[];const l=new Set,s=new Map;for(const u of a)Ho(u,o,l,s);if(Nt.length>0){Se=i,i.apply();for(const u of Nt)i.#l(u,[],[]);i.deactivate()}Nt=r}}Se=null,it=t}this.committed=!0,Yn.delete(this)}increment(t){this.#t+=1,t&&(this.#a+=1)}decrement(t){this.#t-=1,t&&(this.#a-=1),this.revive()}revive(){for(const t of this.#r)this.#n.delete(t),Ge(t,_t),pn(t);for(const t of this.#n)Ge(t,nn),pn(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#i.add(t)}settled(){return(this.#o??=To()).promise}static ensure(){if(Se===null){const t=Se=new Xt;Yn.add(Se),Ir||Xt.enqueue(()=>{Se===t&&t.flush()})}return Se}static enqueue(t){yn(t)}apply(){if(!(!dn||!this.is_fork&&Yn.size===1)){it=new Map(this.current);for(const t of Yn)if(t!==this)for(const[n,r]of t.previous)it.has(n)||it.set(n,r)}}}function jo(e){var t=Ir;Ir=!0;try{var n;for(e&&(Se!==null&&Ji(),n=e());;){if(mu(),Nt.length===0&&(Se?.flush(),Nt.length===0))return xi=null,n;Ji()}}finally{Ir=t}}function Ji(){var e=Ln;Zi=!0;var t=null;try{var n=0;for(hi(!0);Nt.length>0;){var r=Xt.ensure();if(n++>1e3){var i,a;yu()}r.process(Nt),In.clear()}}finally{Zi=!1,hi(e),xi=null}}function yu(){try{Us()}catch(e){Mn(e,xi)}}let Gt=null;function za(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Kt|It))===0&&fr(r)&&(Gt=new Set,rr(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?vl(r):r.fn=null),Gt?.size>0)){In.clear();for(const i of Gt){if((i.f&(Kt|It))!==0)continue;const a=[i];let o=i.parent;for(;o!==null;)Gt.has(o)&&(Gt.delete(o),a.push(o)),o=o.parent;for(let l=a.length-1;l>=0;l--){const s=a[l];(s.f&(Kt|It))===0&&rr(s)}}Gt.clear()}}Gt=null}}function Ho(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;(a&Ze)!==0?Ho(i,t,n,r):(a&(ha|tn))!==0&&(a&_t)===0&&Uo(i,t,r)&&(Ge(i,_t),pn(i))}}function Uo(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&Ze)!==0&&Uo(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function pn(e){for(var t=xi=e;t.parent!==null;){t=t.parent;var n=t.f;if(Zi&&t===ve&&(n&tn)!==0&&(n&va)===0)return;if((n&(jn|_n))!==0){if((n&lt)===0)return;t.f^=lt}}Nt.push(t)}let vi=[];function bu(){try{jo(()=>{for(const e of vi)$u(e)})}finally{vi=[]}}function wu(e){var t=Cn(0),n=!0,r=void 0;return E(t),Nu(()=>{if(n){var i=it;try{it=null,r=e()}finally{it=i}return}vi.length===0&&yn(bu),vi.push(t)}),n=!1,r}function xu(e){let t=0,n=Cn(0),r;return()=>{_a()&&(E(n),Un(()=>(t===0&&(r=V(()=>e(()=>Cr(n)))),t+=1,()=>{yn(()=>{t-=1,t===0&&(r?.(),r=void 0,Cr(n))})})))}}var Su=hn|lr|_i;function Vo(e,t,n){new ku(e,t,n)}class ku{parent;is_pending=!1;#e;#i=ce?be:null;#t;#a;#o;#r=null;#n=null;#l=null;#s=null;#u=null;#c=0;#f=0;#v=!1;#h=new Set;#p=new Set;#d=null;#b=xu(()=>(this.#d=Cn(this.#c),()=>{this.#d=null}));constructor(t,n,r){this.#e=t,this.#t=n,this.#a=r,this.parent=ve.b,this.is_pending=!!this.#t.pending,this.#o=cr(()=>{if(ve.b=this,ce){const a=this.#i;Pn(),a.nodeType===Hn&&a.data===wi?this.#x():(this.#w(),this.#f===0&&(this.is_pending=!1))}else{var i=this.#_();try{this.#r=Ot(()=>r(i))}catch(a){this.error(a)}this.#f>0?this.#m():this.is_pending=!1}return()=>{this.#u?.remove()}},Su),ce&&(this.#e=be)}#w(){try{this.#r=Ot(()=>this.#a(this.#e))}catch(t){this.error(t)}}#x(){const t=this.#t.pending;t&&(this.#n=Ot(()=>t(this.#e)),Xt.enqueue(()=>{var n=this.#_();this.#r=this.#g(()=>(Xt.ensure(),Ot(()=>this.#a(n)))),this.#f>0?this.#m():(On(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#_(){var t=this.#e;return this.is_pending&&(this.#u=gt(),this.#e.before(this.#u),t=this.#u),t}defer_effect(t){qo(t,this.#h,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#g(t){var n=ve,r=ye,i=De;Zt(this.#o),bt(this.#o),tr(this.#o.ctx);try{return t()}catch(a){return Bo(a),null}finally{Zt(n),bt(r),tr(i)}}#m(){const t=this.#t.pending;this.#r!==null&&(this.#s=document.createDocumentFragment(),this.#s.append(this.#u),gl(this.#r,this.#s)),this.#n===null&&(this.#n=Ot(()=>t(this.#e)))}#y(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(t);return}if(this.#f+=t,this.#f===0){this.is_pending=!1;for(const n of this.#h)Ge(n,_t),pn(n);for(const n of this.#p)Ge(n,nn),pn(n);this.#h.clear(),this.#p.clear(),this.#n&&On(this.#n,()=>{this.#n=null}),this.#s&&(this.#e.before(this.#s),this.#s=null)}}update_pending_count(t){this.#y(t),this.#c+=t,this.#d&&nr(this.#d,this.#c)}get_effect_pending(){return this.#b(),E(this.#d)}error(t){var n=this.#t.onerror;let r=this.#t.failed;if(this.#v||!n&&!r)throw t;this.#r&&(wt(this.#r),this.#r=null),this.#n&&(wt(this.#n),this.#n=null),this.#l&&(wt(this.#l),this.#l=null),ce&&(Ye(this.#i),xe(),Ye(Rr()));var i=!1,a=!1;const o=()=>{if(i){vu();return}i=!0,a&&Xs(),Xt.ensure(),this.#c=0,this.#l!==null&&On(this.#l,()=>{this.#l=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#g(()=>(this.#v=!1,Ot(()=>this.#a(this.#e)))),this.#f>0?this.#m():this.is_pending=!1};var l=ye;try{bt(null),a=!0,n?.(t,o),a=!1}catch(s){Mn(s,this.#o&&this.#o.parent)}finally{bt(l)}r&&yn(()=>{this.#l=this.#g(()=>{Xt.ensure(),this.#v=!0;try{return Ot(()=>{r(this.#e,()=>t,()=>o)})}catch(s){return Mn(s,this.#o.parent),null}finally{this.#v=!1}})})}}function Yo(){return ve.b}function Eu(){ve===null&&Hs();var e=ve.b;return e===null?0:e.get_effect_pending()}function Si(e,t,n,r){const i=Mr()?qr:ki;if(n.length===0&&e.length===0){r(t.map(i));return}var a=Se,o=ve,l=Wo();function s(){Promise.all(n.map(u=>Qo(u))).then(u=>{l();try{r([...t.map(i),...u])}catch(d){(o.f&Kt)===0&&Mn(d,o)}a?.deactivate(),Nr()}).catch(u=>{Mn(u,o)})}e.length>0?Promise.all(e).then(()=>{l();try{return s()}finally{a?.deactivate(),Nr()}}):s()}function Iu(e,t){Si(e,[],[],t)}function Wo(){var e=ve,t=ye,n=De,r=Se;return function(a=!0){Zt(e),bt(t),tr(n),a&&r?.activate()}}function Nr(){Zt(null),bt(null),tr(null)}function Go(e){const t=Wo();var n=Yo(),r=Se,i=n.is_rendered();n.update_pending_count(1),r.increment(i);var a=ve,o=null;const l=d=>{o={error:d},Ba(a)||Mn(d,a)};var s=Promise.resolve(e[0]()).catch(l),u=[s];for(const d of e.slice(1))s=s.then(()=>{if(o)throw o.error;if(Ba(a))throw Rn;return t(),d()}).catch(l).finally(()=>{Nr(),Se?.deactivate()}),u.push(s);return s.then(()=>Promise.resolve()).finally(()=>{n.update_pending_count(-1),r.decrement(i)}),u}function qr(e){var t=Ze|_t,n=ye!==null&&(ye.f&Ze)!==0?ye:null;return ve!==null&&(ve.f|=lr),{ctx:De,deps:null,effects:null,equals:Oo,f:t,fn:e,reactions:null,rv:0,v:rt,wv:0,parent:n??ve,ac:null}}function Qo(e,t,n){let r=ve;r===null&&Bs();var i=r.b,a=void 0,o=Cn(rt),l=!ye,s=new Map;return Fu(()=>{var u=To();a=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{d===Se&&d.committed&&d.deactivate(),Nr()})}catch(c){u.reject(c),Nr()}var d=Se;if(l){var f=i.is_rendered();i.update_pending_count(1),d.increment(f),s.get(d)?.reject(Rn),s.delete(d),s.set(d,u)}const v=(c,g=void 0)=>{if(d.activate(),g)g!==Rn&&(o.f|=kn,nr(o,g));else{(o.f&kn)!==0&&(o.f^=kn),nr(o,c);for(const[S,m]of s){if(s.delete(S),S===d)break;m.reject(Rn)}}l&&(i.update_pending_count(-1),d.decrement(f))};u.promise.then(v,c=>v(null,c||"unknown"))}),ya(()=>{for(const u of s.values())u.reject(Rn)}),new Promise(u=>{function d(f){function v(){f===a?u(o):d(a)}f.then(v,v)}d(a)})}function Oe(e){const t=qr(e);return dn||ml(t),t}function ki(e){const t=qr(e);return t.equals=zo,t}function Xo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)wt(t[n])}}function Pu(e){for(var t=e.parent;t!==null;){if((t.f&Ze)===0)return(t.f&Kt)===0?t:null;t=t.parent}return null}function ma(e){var t,n=ve;Zt(Pu(e));try{e.f&=~Bn,Xo(e),t=wl(e)}finally{Zt(n)}return t}function Ko(e){var t=ma(e);if(!e.equals(t)&&(e.wv=yl(),(!Se?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){Ge(e,lt);return}Tn||(it!==null?(_a()||Se?.is_fork)&&it.set(e,t):ga(e))}let ea=new Set;const In=new Map;let Zo=!1;function Cn(e,t){var n={f:0,v:e,reactions:null,equals:Oo,rv:0,wv:0};return n}function $e(e,t){const n=Cn(e);return ml(n),n}function Pr(e,t=!1,n=!0){const r=Cn(e);return t||(r.equals=zo),sr&&n&&De!==null&&De.l!==null&&(De.l.s??=[]).push(r),r}function oe(e,t,n=!1){ye!==null&&(!Ht||(ye.f&Xi)!==0)&&Mr()&&(ye.f&(Ze|tn|ha|Xi))!==0&&!vn?.includes(e)&&Qs();let r=n?xn(t):t;return nr(e,r)}function nr(e,t){if(!e.equals(t)){var n=e.v;Tn?In.set(e,t):In.set(e,n),e.v=t;var r=Xt.ensure();if(r.capture(e,n),(e.f&Ze)!==0){const i=e;(e.f&_t)!==0&&ma(i),ga(i)}e.wv=yl(),Jo(e,_t),Mr()&&ve!==null&&(ve.f&lt)!==0&&(ve.f&(_n|jn))===0&&(Rt===null?qu([e]):Rt.push(e)),!r.is_fork&&ea.size>0&&!Zo&&Cu()}return t}function Cu(){Zo=!1;var e=Ln;hi(!0);const t=Array.from(ea);try{for(const n of t)(n.f&lt)!==0&&Ge(n,nn),fr(n)&&rr(n)}finally{hi(e)}ea.clear()}function $u(e,t=1){var n=E(e),r=t===1?n++:n--;return oe(e,n),r}function Cr(e){oe(e,e.v+1)}function Jo(e,t){var n=e.reactions;if(n!==null)for(var r=Mr(),i=n.length,a=0;a<i;a++){var o=n[a],l=o.f;if(!(!r&&o===ve)){var s=(l&_t)===0;if(s&&Ge(o,t),(l&Ze)!==0){var u=o;it?.delete(u),(l&Bn)===0&&(l&zt&&(o.f|=Bn),Jo(u,nn))}else s&&((l&tn)!==0&&Gt!==null&&Gt.add(o),pn(o))}}}function xn(e){if(typeof e!="object"||e===null||En in e)return e;const t=da(e);if(t!==Os&&t!==Ls)return e;var n=new Map,r=gi(e),i=$e(0),a=zn,o=l=>{if(zn===a)return l();var s=ye,u=zn;bt(null),qa(a);var d=l();return bt(s),qa(u),d};return r&&n.set("length",$e(e.length)),new Proxy(e,{defineProperty(l,s,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ws();var d=n.get(s);return d===void 0?d=o(()=>{var f=$e(u.value);return n.set(s,f),f}):oe(d,u.value,!0),!0},deleteProperty(l,s){var u=n.get(s);if(u===void 0){if(s in l){const d=o(()=>$e(rt));n.set(s,d),Cr(i)}}else oe(u,rt),Cr(i);return!0},get(l,s,u){if(s===En)return e;var d=n.get(s),f=s in l;if(d===void 0&&(!f||Sn(l,s)?.writable)&&(d=o(()=>{var c=xn(f?l[s]:rt),g=$e(c);return g}),n.set(s,d)),d!==void 0){var v=E(d);return v===rt?void 0:v}return Reflect.get(l,s,u)},getOwnPropertyDescriptor(l,s){var u=Reflect.getOwnPropertyDescriptor(l,s);if(u&&"value"in u){var d=n.get(s);d&&(u.value=E(d))}else if(u===void 0){var f=n.get(s),v=f?.v;if(f!==void 0&&v!==rt)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,s){if(s===En)return!0;var u=n.get(s),d=u!==void 0&&u.v!==rt||Reflect.has(l,s);if(u!==void 0||ve!==null&&(!d||Sn(l,s)?.writable)){u===void 0&&(u=o(()=>{var v=d?xn(l[s]):rt,c=$e(v);return c}),n.set(s,u));var f=E(u);if(f===rt)return!1}return d},set(l,s,u,d){var f=n.get(s),v=s in l;if(r&&s==="length")for(var c=u;c<f.v;c+=1){var g=n.get(c+"");g!==void 0?oe(g,rt):c in l&&(g=o(()=>$e(rt)),n.set(c+"",g))}if(f===void 0)(!v||Sn(l,s)?.writable)&&(f=o(()=>$e(void 0)),oe(f,xn(u)),n.set(s,f));else{v=f.v!==rt;var S=o(()=>xn(u));oe(f,S)}var m=Reflect.getOwnPropertyDescriptor(l,s);if(m?.set&&m.set.call(d,u),!v){if(r&&typeof s=="string"){var b=n.get("length"),C=Number(s);Number.isInteger(C)&&C>=b.v&&oe(b,C+1)}Cr(i)}return!0},ownKeys(l){E(i);var s=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==rt});for(var[u,d]of n)d.v!==rt&&!(u in l)&&s.push(u);return s},setPrototypeOf(){Gs()}})}var $n,el,tl,nl,rl;function Tu(){if($n===void 0){$n=window,el=document,tl=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;nl=Sn(t,"firstChild").get,rl=Sn(t,"nextSibling").get,La(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),La(n)&&(n.__t=void 0)}}function gt(e=""){return document.createTextNode(e)}function pt(e){return nl.call(e)}function Bt(e){return rl.call(e)}function L(e,t){if(!ce)return pt(e);var n=pt(be);if(n===null)n=be.appendChild(gt());else if(t&&n.nodeType!==yi){var r=gt();return n?.before(r),Ye(r),r}return Ye(n),n}function J(e,t=!1){if(!ce){var n=pt(e);return n instanceof Comment&&n.data===""?Bt(n):n}if(t&&be?.nodeType!==yi){var r=gt();return be?.before(r),Ye(r),r}return be}function A(e,t=1,n=!1){let r=ce?be:e;for(var i;t--;)i=r,r=Bt(r);if(!ce)return r;if(n&&r?.nodeType!==yi){var a=gt();return r===null?i?.after(a):r.before(a),Ye(a),a}return Ye(r),r}function il(e){e.textContent=""}function al(){if(!dn||Gt!==null)return!1;var e=ve.f;return(e&or)!==0}function Au(e){ce&&pt(e)!==null&&il(e)}let Fa=!1;function ol(){Fa||(Fa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ur(e){var t=ye,n=ve;bt(null),Zt(null);try{return e()}finally{bt(t),Zt(n)}}function ll(e,t,n,r=n){e.addEventListener(t,()=>ur(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),ol()}function sl(e){ve===null&&(ye===null&&js(),qs()),Tn&&Ms()}function Du(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Mt(e,t,n){var r=ve;r!==null&&(r.f&It)!==0&&(e|=It);var i={ctx:De,deps:null,nodes:null,f:e|_t|zt,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{rr(i),i.f|=or}catch(l){throw wt(i),l}else t!==null&&pn(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&lr)===0&&(a=a.first,(e&tn)!==0&&(e&hn)!==0&&a!==null&&(a.f|=hn)),a!==null&&(a.parent=r,r!==null&&Du(a,r),ye!==null&&(ye.f&Ze)!==0&&(e&jn)===0)){var o=ye;(o.effects??=[]).push(a)}return i}function _a(){return ye!==null&&!Ht}function ya(e){const t=Mt(er,null,!1);return Ge(t,lt),t.teardown=e,t}function Yt(e){sl();var t=ve.f,n=!ye&&(t&_n)!==0&&(t&or)===0;if(n){var r=De;(r.e??=[]).push(e)}else return ul(e)}function ul(e){return Mt(Dr|Ao,e,!1)}function Ru(e){return sl(),Mt(er|Ao,e,!0)}function Nu(e){return Mt(Xi,e,!0)}function Ou(e){Xt.ensure();const t=Mt(jn|lr,e,!0);return(n={})=>new Promise(r=>{n.outro?On(t,()=>{wt(t),r(void 0)}):(wt(t),r(void 0))})}function ba(e){return Mt(Dr,e,!1)}function Lu(e,t){var n=De,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Un(()=>{e(),!r.ran&&(r.ran=!0,V(t))})}function zu(){var e=De;Un(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&lt)!==0&&n.deps!==null&&Ge(n,nn),fr(n)&&rr(n),t.ran=!1}})}function Fu(e){return Mt(ha|lr,e,!0)}function Un(e,t=0){return Mt(er|t,e,!0)}function de(e,t=[],n=[],r=[]){Si(r,t,n,i=>{Mt(er,()=>e(...i.map(E)),!0)})}function Bu(e,t=[],n=[],r=[]){var i=Se,a=n.length>0||r.length>0;a&&i.increment(!0),Si(r,t,n,o=>{Mt(Dr,()=>e(...o.map(E)),!1),a&&i.decrement(!0)})}function cr(e,t=0){var n=Mt(tn|t,e,!0);return n}function Ot(e){return Mt(_n|lr,e,!0)}function cl(e){var t=e.teardown;if(t!==null){const n=Tn,r=ye;Ma(!0),bt(null);try{t.call(null)}finally{Ma(n),bt(r)}}}function fl(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&ur(()=>{i.abort(Rn)});var r=n.next;(n.f&jn)!==0?n.parent=null:wt(n,t),n=r}}function Mu(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&_n)===0&&wt(t),t=n}}function wt(e,t=!0){var n=!1;(t||(e.f&va)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(dl(e.nodes.start,e.nodes.end),n=!0),fl(e,t&&!n),pi(e,0),Ge(e,Kt);var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)a.stop();cl(e);var i=e.parent;i!==null&&i.first!==null&&vl(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function dl(e,t){for(;e!==null;){var n=e===t?null:Bt(e);e.remove(),e=n}}function vl(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function On(e,t,n=!0){var r=[];hl(e,r,!0);var i=()=>{n&&wt(e),t&&t()},a=r.length;if(a>0){var o=()=>--a||i();for(var l of r)l.out(o)}else i()}function hl(e,t,n){if((e.f&It)===0){e.f^=It;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var i=e.first;i!==null;){var a=i.next,o=(i.f&hn)!==0||(i.f&_n)!==0&&(e.f&tn)!==0;hl(i,t,o?n:!1),i=a}}}function wa(e){pl(e,!0)}function pl(e,t){if((e.f&It)!==0){e.f^=It,(e.f&lt)===0&&(Ge(e,_t),pn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&hn)!==0||(n.f&_n)!==0;pl(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(const o of a)(o.is_global||t)&&o.in()}}function Ba(e=ve){return(e.f&Kt)!==0}function gl(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Bt(n);t.append(n),n=i}}let Ln=!1;function hi(e){Ln=e}let Tn=!1;function Ma(e){Tn=e}let ye=null,Ht=!1;function bt(e){ye=e}let ve=null;function Zt(e){ve=e}let vn=null;function ml(e){ye!==null&&(!dn||(ye.f&Ze)!==0)&&(vn===null?vn=[e]:vn.push(e))}let dt=null,kt=0,Rt=null;function qu(e){Rt=e}let _l=1,Or=0,zn=Or;function qa(e){zn=e}function yl(){return++_l}function fr(e){var t=e.f;if((t&_t)!==0)return!0;if(t&Ze&&(e.f&=~Bn),(t&nn)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var a=n[i];if(fr(a)&&Ko(a),a.wv>e.wv)return!0}(t&zt)!==0&&it===null&&Ge(e,lt)}return!1}function bl(e,t,n=!0){var r=e.reactions;if(r!==null&&!(!dn&&vn?.includes(e)))for(var i=0;i<r.length;i++){var a=r[i];(a.f&Ze)!==0?bl(a,t,!1):t===a&&(n?Ge(a,_t):(a.f&lt)!==0&&Ge(a,nn),pn(a))}}function wl(e){var t=dt,n=kt,r=Rt,i=ye,a=vn,o=De,l=Ht,s=zn,u=e.f;dt=null,kt=0,Rt=null,ye=(u&(_n|jn))===0?e:null,vn=null,tr(e.ctx),Ht=!1,zn=++Or,e.ac!==null&&(ur(()=>{e.ac.abort(Rn)}),e.ac=null);try{e.f|=Ki;var d=e.fn,f=d(),v=e.deps;if(dt!==null){var c;if(pi(e,kt),v!==null&&kt>0)for(v.length=kt+dt.length,c=0;c<dt.length;c++)v[kt+c]=dt[c];else e.deps=v=dt;if(_a()&&(e.f&zt)!==0)for(c=kt;c<v.length;c++)(v[c].reactions??=[]).push(e)}else v!==null&&kt<v.length&&(pi(e,kt),v.length=kt);if(Mr()&&Rt!==null&&!Ht&&v!==null&&(e.f&(Ze|nn|_t))===0)for(c=0;c<Rt.length;c++)bl(Rt[c],e);return i!==null&&i!==e&&(Or++,Rt!==null&&(r===null?r=Rt:r.push(...Rt))),(e.f&kn)!==0&&(e.f^=kn),f}catch(g){return Bo(g)}finally{e.f^=Ki,dt=t,kt=n,Rt=r,ye=i,vn=a,tr(o),Ht=l,zn=s}}function ju(e,t){let n=t.reactions;if(n!==null){var r=Ns.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&Ze)!==0&&(dt===null||!dt.includes(t))){var a=t;(a.f&zt)!==0&&(a.f^=zt,a.f&=~Bn),ga(a),Xo(a),pi(a,0)}}function pi(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ju(e,n[r])}function rr(e){var t=e.f;if((t&Kt)===0){Ge(e,lt);var n=ve,r=Ln;ve=e,Ln=!0;try{(t&(tn|Qi))!==0?Mu(e):fl(e),cl(e);var i=wl(e);e.teardown=typeof i=="function"?i:null,e.wv=_l;var a;Gi&&hu&&(e.f&_t)!==0&&e.deps}finally{Ln=r,ve=n}}}async function Ei(){if(dn)return new Promise(e=>{requestAnimationFrame(()=>e()),setTimeout(()=>e())});await Promise.resolve(),jo()}function E(e){var t=e.f,n=(t&Ze)!==0;if(ye!==null&&!Ht){var r=ve!==null&&(ve.f&Kt)!==0;if(!r&&!vn?.includes(e)){var i=ye.deps;if((ye.f&Ki)!==0)e.rv<Or&&(e.rv=Or,dt===null&&i!==null&&i[kt]===e?kt++:dt===null?dt=[e]:dt.includes(e)||dt.push(e));else{(ye.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[ye]:a.includes(ye)||a.push(ye)}}}if(Tn&&In.has(e))return In.get(e);if(n){var o=e;if(Tn){var l=o.v;return((o.f&lt)===0&&o.reactions!==null||Sl(o))&&(l=ma(o)),In.set(o,l),l}var s=(o.f&zt)===0&&!Ht&&ye!==null&&(Ln||(ye.f&zt)!==0),u=o.deps===null;fr(o)&&(s&&(o.f|=zt),Ko(o)),s&&!u&&xl(o)}if(it?.has(e))return it.get(e);if((e.f&kn)!==0)throw e.v;return e.v}function xl(e){if(e.deps!==null){e.f|=zt;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Ze)!==0&&(t.f&zt)===0&&xl(t)}}function Sl(e){if(e.v===rt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(In.has(t)||(t.f&Ze)!==0&&Sl(t))return!0;return!1}function V(e){var t=Ht;try{return Ht=!0,e()}finally{Ht=t}}function kl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(En in e)ta(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&En in n&&ta(n)}}}function ta(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ta(e[r],t)}catch{}const n=da(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=$o(n);for(let i in r){const a=r[i].get;if(a)try{a.call(e)}catch{}}}}}const Hu=["touchstart","touchmove"];function Uu(e){return Hu.includes(e)}const El=new Set,na=new Set;function Vu(e,t,n,r={}){function i(a){if(r.capture||kr.call(t,a),!a.cancelBubble)return ur(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?yn(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Ut(e,t,n,r,i){var a={capture:r,passive:i},o=Vu(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ya(()=>{t.removeEventListener(e,o,a)})}function Ct(e){for(var t=0;t<e.length;t++)El.add(e[t]);for(var n of na)n(e)}let ja=null;function kr(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;ja=e;var o=0,l=ja===e&&e.__root;if(l){var s=i.indexOf(l);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;s<=u&&(o=s)}if(a=i[o]||e.target,a!==t){Co(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=ye,f=ve;bt(null),Zt(null);try{for(var v,c=[];a!==null;){var g=a.assignedSlot||a.parentNode||a.host||null;try{var S=a["__"+r];S!=null&&(!a.disabled||e.target===a)&&S.call(a,e)}catch(m){v?c.push(m):v=m}if(e.cancelBubble||g===t||g===null)break;a=g}if(v){for(let m of c)queueMicrotask(()=>{throw m});throw v}}finally{e.__root=t,delete e.currentTarget,bt(d),Zt(f)}}}function xa(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ft(e,t){var n=ve;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function B(e,t){var n=(t&uu)!==0,r=(t&cu)!==0,i,a=!e.startsWith("<!>");return()=>{if(ce)return Ft(be,null),be;i===void 0&&(i=xa(a?e:"<!>"+e),n||(i=pt(i)));var o=r||tl?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=pt(o),s=o.lastChild;Ft(l,s)}else Ft(o,o);return o}}function Yu(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(ce)return Ft(be,null),be;if(!a){var o=xa(i),l=pt(o);a=pt(l)}var s=a.cloneNode(!0);return Ft(s,s),s}}function Wu(e,t){return Yu(e,t,"svg")}function Ke(e=""){if(!ce){var t=gt(e+"");return Ft(t,t),t}var n=be;return n.nodeType!==yi&&(n.before(n=gt()),Ye(n)),Ft(n,n),n}function Vt(){if(ce)return Ft(be,null),be;var e=document.createDocumentFragment(),t=document.createComment(""),n=gt();return e.append(t,n),Ft(t,n),e}function R(e,t){if(ce){var n=ve;((n.f&or)===0||n.nodes.end===null)&&(n.nodes.end=be),Pn();return}e!==null&&e.before(t)}let ra=!0;function We(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Gu(e,t){return Qu(e,t)}const Wn=new Map;function Qu(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:o=!0}){Tu();var l=new Set,s=f=>{for(var v=0;v<f.length;v++){var c=f[v];if(!l.has(c)){l.add(c);var g=Uu(c);t.addEventListener(c,kr,{passive:g});var S=Wn.get(c);S===void 0?(document.addEventListener(c,kr,{passive:g}),Wn.set(c,1)):Wn.set(c,S+1)}}};s(mi(El)),na.add(s);var u=void 0,d=Ou(()=>{var f=n??t.appendChild(gt());return Vo(f,{pending:()=>{}},v=>{if(a){ke({});var c=De;c.c=a}if(i&&(r.$$events=i),ce&&Ft(v,null),ra=o,u=e(v,r)||{},ra=!0,ce&&(ve.nodes.end=be,be===null||be.nodeType!==Hn||be.data!==pa))throw Br(),Fr;a&&Ee()}),()=>{for(var v of l){t.removeEventListener(v,kr);var c=Wn.get(v);--c===0?(document.removeEventListener(v,kr),Wn.delete(v)):Wn.set(v,c)}na.delete(s),f!==n&&f.parentNode?.removeChild(f)}});return Xu.set(u,d),u}let Xu=new WeakMap;function on(e,t=[],n=[],r){var i=Yo(),a=Se,o=i.is_rendered();i.update_pending_count(1),a.increment(o);var l=ce;if(l){Pn();var s=be,u=Rr(!1);Ye(u)}Si(t,[],n,d=>{l&&(fn(!0),Ye(s));try{for(const f of d)E(f);r(e,...d)}finally{l&&fn(!1),i.update_pending_count(-1),a.decrement(o)}})}class Sa{anchor;#e=new Map;#i=new Map;#t=new Map;#a=new Set;#o=!0;constructor(t,n=!0){this.anchor=t,this.#o=n}#r=()=>{var t=Se;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#i.get(n);if(r)wa(r),this.#a.delete(n);else{var i=this.#t.get(n);i&&(this.#i.set(n,i.effect),this.#t.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[a,o]of this.#e){if(this.#e.delete(a),a===t)break;const l=this.#t.get(o);l&&(wt(l.effect),this.#t.delete(o))}for(const[a,o]of this.#i){if(a===n||this.#a.has(a))continue;const l=()=>{if(Array.from(this.#e.values()).includes(a)){var u=document.createDocumentFragment();gl(o,u),u.append(gt()),this.#t.set(a,{effect:o,fragment:u})}else wt(o);this.#a.delete(a),this.#i.delete(a)};this.#o||!r?(this.#a.add(a),On(o,l,!1)):l()}}};#n=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#t)n.includes(r)||(wt(i.effect),this.#t.delete(r))};ensure(t,n){var r=Se,i=al();if(n&&!this.#i.has(t)&&!this.#t.has(t))if(i){var a=document.createDocumentFragment(),o=gt();a.append(o),this.#t.set(t,{effect:Ot(()=>n(o)),fragment:a})}else this.#i.set(t,Ot(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[l,s]of this.#i)l===t?r.skipped_effects.delete(s):r.skipped_effects.add(s);for(const[l,s]of this.#t)l===t?r.skipped_effects.delete(s.effect):r.skipped_effects.add(s.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else ce&&(this.anchor=be),this.#r()}}function Le(e,t,n=!1){ce&&Pn();var r=new Sa(e),i=n?hn:0;function a(o,l){if(ce){const u=No(e)===wi;if(o===u){var s=Rr();Ye(s),r.anchor=s,fn(!1),r.ensure(o,l),fn(!0);return}}r.ensure(o,l)}cr(()=>{var o=!1;t((l,s=!0)=>{o=!0,a(s,l)}),o||a(!1,null)},i)}function Ha(e,t){ce&&Ye(pt(e)),Un(()=>{var n=t();for(var r in n){var i=n[r];i?e.style.setProperty(r,i):e.style.removeProperty(r)}})}function qn(e,t){return t}function Ku(e,t,n){for(var r=[],i=t.length,a,o=t.length,l=0;l<i;l++){let f=t[l];On(f,()=>{if(a){if(a.pending.delete(f),a.done.add(f),a.pending.size===0){var v=e.outrogroups;ia(mi(a.done)),v.delete(a),v.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var s=r.length===0&&n!==null;if(s){var u=n,d=u.parentNode;il(d),d.append(u),e.items.clear()}ia(t,!s)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function ia(e,t=!0){for(var n=0;n<e.length;n++)wt(e[n],t)}var Ua;function gn(e,t,n,r,i,a=null){var o=e,l=new Map,s=(t&Ro)!==0;if(s){var u=e;o=ce?Ye(pt(u)):u.appendChild(gt())}ce&&Pn();var d=null,f=ki(()=>{var b=n();return gi(b)?b:b==null?[]:mi(b)}),v,c=!0;function g(){m.fallback=d,Zu(m,v,o,t,r),d!==null&&(v.length===0?(d.f&un)===0?wa(d):(d.f^=un,Er(d,null,o)):On(d,()=>{d=null}))}var S=cr(()=>{v=E(f);var b=v.length;let C=!1;if(ce){var D=No(o)===wi;D!==(b===0)&&(o=Rr(),Ye(o),fn(!1),C=!0)}for(var O=new Set,x=Se,_=al(),I=0;I<b;I+=1){ce&&be.nodeType===Hn&&be.data===pa&&(o=be,C=!0,fn(!1));var z=v[I],F=r(z,I),H=c?null:l.get(F);H?(H.v&&nr(H.v,z),H.i&&nr(H.i,I),_&&x.skipped_effects.delete(H.e)):(H=Ju(l,c?o:Ua??=gt(),z,F,I,i,t,n),c||(H.e.f|=un),l.set(F,H)),O.add(F)}if(b===0&&a&&!d&&(c?d=Ot(()=>a(o)):(d=Ot(()=>a(Ua??=gt())),d.f|=un)),ce&&b>0&&Ye(Rr()),!c)if(_){for(const[q,j]of l)O.has(q)||x.skipped_effects.add(j.e);x.oncommit(g),x.ondiscard(()=>{})}else g();C&&fn(!0),E(f)}),m={effect:S,items:l,outrogroups:null,fallback:d};c=!1,ce&&(o=be)}function Zu(e,t,n,r,i){var a=(r&Js)!==0,o=t.length,l=e.items,s=e.effect.first,u,d=null,f,v=[],c=[],g,S,m,b;if(a)for(b=0;b<o;b+=1)g=t[b],S=i(g,b),m=l.get(S).e,(m.f&un)===0&&(m.nodes?.a?.measure(),(f??=new Set).add(m));for(b=0;b<o;b+=1){if(g=t[b],S=i(g,b),m=l.get(S).e,e.outrogroups!==null)for(const H of e.outrogroups)H.pending.delete(m),H.done.delete(m);if((m.f&un)!==0)if(m.f^=un,m===s)Er(m,null,n);else{var C=d?d.next:s;m===e.effect.last&&(e.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),wn(e,d,m),wn(e,m,C),Er(m,C,n),d=m,v=[],c=[],s=d.next;continue}if((m.f&It)!==0&&(wa(m),a&&(m.nodes?.a?.unfix(),(f??=new Set).delete(m))),m!==s){if(u!==void 0&&u.has(m)){if(v.length<c.length){var D=c[0],O;d=D.prev;var x=v[0],_=v[v.length-1];for(O=0;O<v.length;O+=1)Er(v[O],D,n);for(O=0;O<c.length;O+=1)u.delete(c[O]);wn(e,x.prev,_.next),wn(e,d,x),wn(e,_,D),s=D,d=_,b-=1,v=[],c=[]}else u.delete(m),Er(m,s,n),wn(e,m.prev,m.next),wn(e,m,d===null?e.effect.first:d.next),wn(e,d,m),d=m;continue}for(v=[],c=[];s!==null&&s!==m;)(u??=new Set).add(s),c.push(s),s=s.next;if(s===null)continue}(m.f&un)===0&&v.push(m),d=m,s=m.next}if(e.outrogroups!==null){for(const H of e.outrogroups)H.pending.size===0&&(ia(mi(H.done)),e.outrogroups?.delete(H));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||u!==void 0){var I=[];if(u!==void 0)for(m of u)(m.f&It)===0&&I.push(m);for(;s!==null;)(s.f&It)===0&&s!==e.fallback&&I.push(s),s=s.next;var z=I.length;if(z>0){var F=(r&Ro)!==0&&o===0?n:null;if(a){for(b=0;b<z;b+=1)I[b].nodes?.a?.measure();for(b=0;b<z;b+=1)I[b].nodes?.a?.fix()}Ku(e,I,F)}}a&&yn(()=>{if(f!==void 0)for(m of f)m.nodes?.a?.apply()})}function Ju(e,t,n,r,i,a,o,l){var s=(o&Ks)!==0?(o&eu)===0?Pr(n,!1,!1):Cn(n):null,u=(o&Zs)!==0?Cn(i):null;return{v:s,i:u,e:Ot(()=>(a(t,s??n,u??i,l),()=>{e.delete(r)}))}}function Er(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&(t.f&un)===0?t.nodes.start:n;r!==null;){var o=Bt(r);if(a.before(r),r===i)return;r=o}}function wn(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function ec(e,t,n=!1,r=!1,i=!1){var a=e,o="";de(()=>{var l=ve;if(o===(o=t()??"")){ce&&Pn();return}if(l.nodes!==null&&(dl(l.nodes.start,l.nodes.end),l.nodes=null),o!==""){if(ce){be.data;for(var s=Pn(),u=s;s!==null&&(s.nodeType!==Hn||s.data!=="");)u=s,s=Bt(s);if(s===null)throw Br(),Fr;Ft(be,u),a=Ye(s);return}var d=o+"";n?d=`<svg>${d}</svg>`:r&&(d=`<math>${d}</math>`);var f=xa(d);if((n||r)&&(f=pt(f)),Ft(pt(f),f.lastChild),n||r)for(;pt(f);)a.before(pt(f));else a.before(f)}})}function ct(e,t,...n){var r=new Sa(e);cr(()=>{const i=t()??null;r.ensure(i,i&&(a=>i(a,...n)))},hn)}function Va(e,t,n){ce&&Pn();var r=new Sa(e);cr(()=>{var i=t()??null;r.ensure(i,i&&(a=>n(a,i)))},hn)}const tc=()=>performance.now(),ln={tick:e=>requestAnimationFrame(e),now:()=>tc(),tasks:new Set};function Il(){const e=ln.now();ln.tasks.forEach(t=>{t.c(e)||(ln.tasks.delete(t),t.f())}),ln.tasks.size!==0&&ln.tick(Il)}function nc(e){let t;return ln.tasks.size===0&&ln.tick(Il),{promise:new Promise(n=>{ln.tasks.add(t={c:e,f:n})}),abort(){ln.tasks.delete(t)}}}function ii(e,t){ur(()=>{e.dispatchEvent(new CustomEvent(t))})}function rc(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Ya(e){const t={},n=e.split(";");for(const r of n){const[i,a]=r.split(":");if(!i||a===void 0)break;const o=rc(i.trim());t[o]=a.trim()}return t}const ic=e=>e;function Wa(e,t,n,r){var i=(e&ou)!==0,a=(e&lu)!==0,o=i&&a,l=(e&su)!==0,s=o?"both":i?"in":"out",u,d=t.inert,f=t.style.overflow,v,c;function g(){return ur(()=>u??=n()(t,r?.()??{},{direction:s}))}var S={is_global:l,in(){if(t.inert=d,!i){c?.abort(),c?.reset?.();return}a||v?.abort(),ii(t,"introstart"),v=aa(t,g(),c,1,()=>{ii(t,"introend"),v?.abort(),v=u=void 0,t.style.overflow=f})},out(D){if(!a){D?.(),u=void 0;return}t.inert=!0,ii(t,"outrostart"),c=aa(t,g(),v,0,()=>{ii(t,"outroend"),D?.()})},stop:()=>{v?.abort(),c?.abort()}},m=ve;if((m.nodes.t??=[]).push(S),i&&ra){var b=l;if(!b){for(var C=m.parent;C&&(C.f&hn)!==0;)for(;(C=C.parent)&&(C.f&tn)===0;);b=!C||(C.f&or)!==0}b&&ba(()=>{V(()=>S.in())})}}function aa(e,t,n,r,i){var a=r===1;if(Xn(t)){var o,l=!1;return yn(()=>{if(!l){var m=t({direction:a?"in":"out"});o=aa(e,m,n,r,i)}}),{abort:()=>{l=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!t?.duration)return i(),{abort:Te,deactivate:Te,reset:Te,t:()=>r};const{delay:s=0,css:u,tick:d,easing:f=ic}=t;var v=[];if(a&&n===void 0&&(d&&d(0,1),u)){var c=Ya(u(0,1));v.push(c,c)}var g=()=>1-r,S=e.animate(v,{duration:s,fill:"forwards"});return S.onfinish=()=>{S.cancel();var m=n?.t()??1-r;n?.abort();var b=r-m,C=t.duration*Math.abs(b),D=[];if(C>0){var O=!1;if(u)for(var x=Math.ceil(C/16.666666666666668),_=0;_<=x;_+=1){var I=m+b*f(_/x),z=Ya(u(I,1-I));D.push(z),O||=z.overflow==="hidden"}O&&(e.style.overflow="hidden"),g=()=>{var F=S.currentTime;return m+b*f(F/C)},d&&nc(()=>{if(S.playState!=="running")return!1;var F=g();return d(F,1-F),!0})}S=e.animate(D,{duration:C,fill:"forwards"}),S.onfinish=()=>{g=()=>r,d?.(r,1-r),i()}},{abort:()=>{S&&(S.cancel(),S.effect=null,S.onfinish=Te)},deactivate:()=>{i=Te},reset:()=>{r===0&&d?.(1,0)},t:()=>g()}}function ac(e,t){let n=null,r=ce;var i;if(ce){n=be;for(var a=pt(document.head);a!==null&&(a.nodeType!==Hn||a.data!==e);)a=Bt(a);if(a===null)fn(!1);else{var o=Bt(a);a.remove(),Ye(o)}}ce||(i=document.head.appendChild(gt()));try{cr(()=>t(i),va)}finally{r&&(fn(!0),Ye(n))}}function ka(e,t,n){ba(()=>{var r=V(()=>t(e,n?.())||{});if(r?.destroy)return()=>r.destroy()})}const Ga=[...` 	
\r\fÂ \v\uFEFF`];function oc(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var a=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+a;(o===0||Ga.includes(r[o-1]))&&(l===r.length||Ga.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function lc(e,t){return e==null?null:String(e)}function Pt(e,t,n,r,i,a){var o=e.__className;if(ce||o!==n||o===void 0){var l=oc(n,r,a);(!ce||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}else if(a&&i!==a)for(var s in a){var u=!!a[s];(i==null||u!==!!i[s])&&e.classList.toggle(s,u)}return a}function sc(e,t,n,r){var i=e.__style;if(ce||i!==t){var a=lc(t);(!ce||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=t}return r}const uc=Symbol("is custom element"),cc=Symbol("is html");function Zn(e){if(ce){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Jt(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;Jt(e,"checked",null),e.checked=i}}};e.__on_r=n,yn(n),ol()}}function Jt(e,t,n,r){var i=fc(e);ce&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[Fs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&dc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function fc(e){return e.__attributes??={[uc]:e.nodeName.includes("-"),[cc]:e.namespaceURI===du}}var Qa=new Map;function dc(e){var t=e.getAttribute("is")||e.nodeName,n=Qa.get(t);if(n)return n;Qa.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){r=$o(i);for(var o in r)r[o].set&&n.push(o);i=da(i)}return n}function Jn(e,t,n=t){var r=new WeakSet;ll(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Mi(e)?qi(a):a,n(a),Se!==null&&r.add(Se),await Ei(),a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd,s=e.value.length;if(e.value=a??"",l!==null){var u=e.value.length;o===l&&l===s&&u>s?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=o,e.selectionEnd=Math.min(l,u))}}}),(ce&&e.defaultValue!==e.value||V(t)==null&&e.value)&&(n(Mi(e)?qi(e.value):e.value),Se!==null&&r.add(Se)),Un(()=>{var i=t();if(e===document.activeElement){var a=ui??Se;if(r.has(a))return}Mi(e)&&i===qi(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function vc(e,t,n=t){ll(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),(ce&&e.defaultChecked!==e.checked||V(t)==null)&&n(e.checked),Un(()=>{var r=t();e.checked=!!r})}function Mi(e){var t=e.type;return t==="number"||t==="range"}function qi(e){return e===""?null:+e}function Xa(e,t){return e===t||e?.[En]===t}function ir(e={},t,n,r){return ba(()=>{var i,a;return Un(()=>{i=a,a=[],V(()=>{e!==n(...a)&&(t(e,...a),i&&Xa(n(...i),e)&&t(null,...i))})}),()=>{yn(()=>{a&&Xa(n(...a),e)&&t(null,...a)})}}),e}function Pl(e=!1){const t=De,n=t.l.u;if(!n)return;let r=()=>kl(t.s);if(e){let i=0,a={};const o=qr(()=>{let l=!1;const s=t.s;for(const u in s)s[u]!==a[u]&&(a[u]=s[u],l=!0);return l&&i++,i});r=()=>E(o)}n.b.length&&Ru(()=>{Ka(t,r),di(n.b)}),Yt(()=>{const i=V(()=>n.m.map(zs));return()=>{for(const a of i)typeof a=="function"&&a()}}),n.a.length&&Yt(()=>{Ka(t,r),di(n.a)})}function Ka(e,t){if(e.l.s)for(const n of e.l.s)E(n);t()}function Za(e,t){var n=e.$$events?.[t.type],r=gi(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,t)}function Ea(e,t,n){if(e==null)return t(void 0),n&&n(void 0),Te;const r=V(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Gn=[];function Cl(e,t){return{subscribe:ar(e,t).subscribe}}function ar(e,t=Te){let n=null;const r=new Set;function i(l){if(Lo(e,l)&&(e=l,n)){const s=!Gn.length;for(const u of r)u[1](),Gn.push(u,e);if(s){for(let u=0;u<Gn.length;u+=2)Gn[u][0](Gn[u+1]);Gn.length=0}}}function a(l){i(l(e))}function o(l,s=Te){const u=[l,s];return r.add(u),r.size===1&&(n=t(i,a)||Te),l(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:o}}function $l(e,t,n){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return Cl(n,(o,l)=>{let s=!1;const u=[];let d=0,f=Te;const v=()=>{if(d)return;f();const g=t(r?u[0]:u,o,l);a?o(g):f=typeof g=="function"?g:Te},c=i.map((g,S)=>Ea(g,m=>{u[S]=m,d&=~(1<<S),s&&v()},()=>{d|=1<<S}));return s=!0,v(),function(){di(c),f(),s=!1}})}function hc(e){let t;return Ea(e,n=>t=n)(),t}let ai=!1,oa=Symbol();function ze(e,t,n){const r=n[t]??={store:null,source:Pr(void 0),unsubscribe:Te};if(r.store!==e&&!(oa in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Te;else{var i=!0;r.unsubscribe=Ea(e,a=>{i?r.source.v=a:oe(r.source,a)}),i=!1}return e&&oa in n?hc(e):E(r.source)}function pc(e,t,n){let r=n[t];return r&&r.store!==e&&(r.unsubscribe(),r.unsubscribe=Te),e}function gc(e,t){return e.set(t),t}function cn(e,t){var n=e[t];n.store!==null&&gc(n.store,n.source.v)}function Je(){const e={};function t(){ya(()=>{for(var n in e)e[n].unsubscribe();Co(e,oa,{enumerable:!1,value:!0})})}return[e,t]}function fe(e,t,n){return e.set(n),t}function mc(e){var t=ai;try{return ai=!1,[e(),ai]}finally{ai=t}}const _c={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Xn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];Xn(i)&&(i=i());const a=Sn(i,t);if(a&&a.set)return a.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Xn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Sn(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===En||t===Do)return!1;for(let n of e.props)if(Xn(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Xn(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Ja(...e){return new Proxy({props:e},_c)}function mt(e,t,n,r){var i=!sr||(n&nu)!==0,a=(n&iu)!==0,o=(n&au)!==0,l=r,s=!0,u=()=>(s&&(s=!1,l=o?V(r):r),l),d;if(a){var f=En in e||Do in e;d=Sn(e,t)?.set??(f&&t in e?D=>e[t]=D:void 0)}var v,c=!1;a?[v,c]=mc(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=u(),d&&(i&&Ys(),d(v)));var g;if(i?g=()=>{var D=e[t];return D===void 0?u():(s=!0,D)}:g=()=>{var D=e[t];return D!==void 0&&(l=void 0),D===void 0?l:D},i&&(n&ru)===0)return g;if(d){var S=e.$$legacy;return(function(D,O){return arguments.length>0?((!i||!O||S||c)&&d(O?g():D),D):g()})}var m=!1,b=((n&tu)!==0?qr:ki)(()=>(m=!1,g()));a&&E(b);var C=ve;return(function(D,O){if(arguments.length>0){const x=O?E(b):i&&a?xn(D):D;return oe(b,x),m=!0,l!==void 0&&(l=x),D}return Tn&&m||(C.f&Kt)!==0?b.v:E(b)})}function yc(e){De===null&&bi(),sr&&De.l!==null?Tl(De).m.push(e):Yt(()=>{const t=V(e);if(typeof t=="function")return t})}function bc(e){De===null&&bi(),yc(()=>()=>V(e))}function wc(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function xc(){const e=De;return e===null&&bi(),(t,n,r)=>{const i=e.s.$$events?.[t];if(i){const a=gi(i)?i.slice():[i],o=wc(t,n,r);for(const l of a)l.call(e.x,o);return!o.defaultPrevented}return!0}}function Sc(e){De===null&&bi(),De.l===null&&Vs(),Tl(De).a.push(e)}function Tl(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const kc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(kc);gu();pu();var Ec=B("<div><!></div>");function ue(e,t){var n=Ec();let r;var i=L(n);ct(i,()=>t.children??Te),N(n),de(()=>r=Pt(n,1,"flex svelte-13pc1i9",null,r,{paddingVertical:t.padding==="vertical"||t.padding===!0,paddingHorizontal:t.padding==="horizontal"||t.padding===!0,column:t.column,full:t.full,nogap:t.nogap,justifyStart:t.justify==="start",justifyCenter:t.justify==="center",justifyEnd:t.justify==="end",justifyBetween:t.justify==="between",alignStart:t.align==="start",alignCenter:t.align==="center",alignEnd:t.align==="end",sm:t.sm,xl:t.xl,nogrow:t.nogrow})),R(e,n)}var Ic=B("<h1>oops! something went wrong.</h1> <pre> </pre> <button>oops! try again</button>",1),Pc=B("<h1>loading...</h1>"),Cc=B("<!> <!>",1);function $c(e,t){var n=Vt(),r=J(n);Vo(r,{failed:(a,o=Te,l=Te)=>{var s=Ic(),u=A(J(s),2),d=L(u,!0);N(u);var f=A(u,2);f.__click=function(...v){l()?.apply(this,v)},de(v=>We(d,v),[()=>JSON.stringify(o(),null,2)]),R(a,s)}},a=>{var o=Cc(),l=J(o);ct(l,()=>t.children??Te);var s=A(l,2);{var u=d=>{ue(d,{justify:"center",padding:!0,children:(f,v)=>{var c=Pc();R(f,c)}})};Le(s,d=>{wu(Eu)&&d(u)})}R(a,o)}),R(e,n)}Ct(["click"]);const Tc="modulepreload",Ac=function(e){return"/dnd-character-sheet/"+e},eo={},Ii=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),s=l?.nonce||l?.getAttribute("nonce");i=u(n.map(d=>{if(d=Ac(d),d in eo)return;eo[d]=!0;const f=d.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const c=document.createElement("link");if(c.rel=f?"stylesheet":Tc,f||(c.as="script"),c.crossOrigin="",c.href=d,s&&c.setAttribute("nonce",s),document.head.appendChild(c),f)return new Promise((g,S)=>{c.addEventListener("load",g),c.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=l,window.dispatchEvent(s),!s.defaultPrevented)throw l}return i.then(l=>{for(const s of l||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function Al(e){return e>0?`+${e}`:e.toString()}function Pi(e){return Math.floor((e-10)/2)}function Dc(e){switch(e){case"none":return 0;case"proficient":return 1;case"double":return 2;case"half":return .5}}function Rc(e,t,n){const r=Dc(n),i=Pi(e);return Math.floor(i+t*r)}function Nc(e){return Object.entries(e)}function Dl(e){const t=URL.createObjectURL(e);return new Promise((n,r)=>{const i=document.createElement("img");i.dispose=()=>{URL.revokeObjectURL(t)},i.onload=()=>{n(i)},i.onerror=()=>{r(new Error("Image could not be loaded"))},i.src=t})}function Oc(e,t){const n=e.indexOf(t),r=Array.from(e);return n===-1?r.push(t):r.splice(n,1),r}function Lc(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"")}function ji(e,t){const{[t]:n,...r}=e;return r}function zc(){return(Date.now()+Math.floor(Math.random()*1e3)).toString(36)}function Fc(e,t){const n=e.indexOf(t);if(n===-1)return[e,""];const r=e.slice(0,n),i=e.slice(n+t.length);return[r.trim(),i.trim()]}function Bc(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}const Ia=ar([]);function la(e,t="info"){const n={id:zc(),message:e,type:t};Ia.update(r=>[...r,n])}function to(e){Ia.update(t=>t.filter(n=>n.id!==e))}const Mc=e=>e;function qc(e){const t=e-1;return t*t*t+1}function no(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function jc(e,{delay:t=0,duration:n=400,easing:r=Mc}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}function Hc(e,{delay:t=0,duration:n=400,easing:r=qc,x:i=0,y:a=0,opacity:o=0}={}){const l=getComputedStyle(e),s=+l.opacity,u=l.transform==="none"?"":l.transform,d=s*(1-o),[f,v]=no(i),[c,g]=no(a);return{delay:t,duration:n,easing:r,css:(S,m)=>`
			transform: ${u} translate(${(1-S)*f}${v}, ${(1-S)*c}${g});
			opacity: ${s-d*m}`}}var Uc=B('<div><div class="inner svelte-foxhw6"><!></div></div>');function ht(e,t){var n=Uc();let r;var i=L(n),a=L(i);ct(a,()=>t.children??Te),N(i),N(n),de(()=>r=Pt(n,1,"container svelte-foxhw6",null,r,{nopadding:t.nopadding,grid:t.grid,absolute:t.absolute,rounded:t.rounded,noshadow:t.noshadow,transparent:t.transparent,faded:t.faded,small:t.small,nogrow:t.nogrow,withHover:t.withHover})),R(e,n)}var Vc=B('<div class="message"> </div>'),Yc=B('<button type="button" class="container"><!></button>');function Wc(e,t){ke(t,!0);const n=4e3;let r=$e(!1);function i(){to(t.notification.id)}function a(){oe(r,!0)}function o(){oe(r,!1)}Yt(()=>{if(E(r))return;const u=setTimeout(()=>{to(t.notification.id)},n);return()=>{clearTimeout(u)}});var l=Yc();l.__click=i;var s=L(l);ht(s,{children:(u,d)=>{var f=Vc(),v=L(f,!0);N(f),de(()=>We(v,t.notification.message)),R(u,f)}}),N(l),Ut("mouseenter",l,a),Ut("mouseleave",l,o),Wa(1,l,()=>Hc,()=>({y:100,duration:300})),Wa(2,l,()=>jc,()=>({duration:300})),R(e,l),Ee()}Ct(["click"]);var Gc=B('<div class="notification"><!></div>'),Qc=B('<div class="container hide-print svelte-1tpaxq5"></div>');function Xc(e){const t=()=>ze(Ia,"$notifications",n),[n,r]=Je();var i=Qc();gn(i,5,t,a=>a.id,(a,o)=>{var l=Gc(),s=L(l);Wc(s,{get notification(){return E(o)}}),N(l),R(a,l)}),N(i),R(e,i),r()}var Kc=Wu('<svg width="0" height="0" style="display: none;"><filter id="pencil"><feTurbulence type="fractalNoise" baseFrequency="0.5" numOctaves="1" result="noise"></feTurbulence><feDisplacementMap in="SourceGraphic" in2="noise"></feDisplacementMap></filter></svg>');function Zc(e){let n=$e(2.2);function r(){oe(n,.8)}function i(){oe(n,2.2)}var a=Kc();Ut("beforeprint",$n,r),Ut("afterprint",$n,i);var o=L(a),l=A(L(o));N(o),N(a),de(()=>Jt(l,"scale",E(n))),R(e,a)}function Rl(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],l="",s=e.split("/");for(s[0]||s.shift();i=s.shift();)n=i[0],n==="*"?(o.push("wild"),l+="/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+"/?$","i")}}function ro(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Ci=Cl(null,function(t){t(ro());const n=()=>{t(ro())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});$l(Ci,e=>e.location);$l(Ci,e=>e.querystring);const io=ar(void 0);async function Jc(e){if(!e||e.length<1||e.charAt(0)!="/"&&e.indexOf("#/")!==0)throw Error("Invalid parameter location");await Ei(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(e.charAt(0)=="#"?"":"#")+e}function Nl(e,t){if(t=oo(t),!e||!e.tagName||e.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return ao(e,t),{update(n){n=oo(n),ao(e,n)}}}function ef(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ao(e,t){let n=t.href||e.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);e.setAttribute("href",n),e.addEventListener("click",r=>{r.preventDefault(),t.disabled||tf(r.currentTarget.getAttribute("href"))})}function oo(e){return e&&typeof e=="string"?{href:e}:e||{}}function tf(e){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=e}function nf(e,t){ke(t,!1);let n=mt(t,"routes",24,()=>({})),r=mt(t,"prefix",8,""),i=mt(t,"restoreScrollState",8,!1);class a{constructor(_,I){if(!I||typeof I!="function"&&(typeof I!="object"||I._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:z,keys:F}=Rl(_);this.path=_,typeof I=="object"&&I._sveltesparouter===!0?(this.component=I.component,this.conditions=I.conditions||[],this.userData=I.userData,this.props=I.props||{}):(this.component=()=>Promise.resolve(I),this.conditions=[],this.props={}),this._pattern=z,this._keys=F}match(_){if(r()){if(typeof r()=="string")if(_.startsWith(r()))_=_.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const H=_.match(r());if(H&&H[0])_=_.substr(H[0].length)||"/";else return null}}const I=this._pattern.exec(_);if(I===null)return null;if(this._keys===!1)return I;const z={};let F=0;for(;F<this._keys.length;){try{z[this._keys[F]]=decodeURIComponent(I[F+1]||"")||null}catch{z[this._keys[F]]=null}F++}return z}async checkConditions(_){for(let I=0;I<this.conditions.length;I++)if(!await this.conditions[I](_))return!1;return!0}}const o=[];n()instanceof Map?n().forEach((x,_)=>{o.push(new a(_,x))}):Object.keys(n()).forEach(x=>{o.push(new a(x,n()[x]))});let l=Pr(null),s=Pr(null),u=Pr({});const d=xc();async function f(x,_){await Ei(),d(x,_)}let v=null,c=null;i()&&(c=x=>{x.state&&(x.state.__svelte_spa_router_scrollY||x.state.__svelte_spa_router_scrollX)?v=x.state:v=null},window.addEventListener("popstate",c),Sc(()=>{ef(v)}));let g=null,S=null;const m=Ci.subscribe(async x=>{g=x;let _=0;for(;_<o.length;){const I=o[_].match(x.location);if(!I){_++;continue}const z={route:o[_].path,location:x.location,querystring:x.querystring,userData:o[_].userData,params:I&&typeof I=="object"&&Object.keys(I).length?I:null};if(!await o[_].checkConditions(z)){oe(l,null),S=null,f("conditionsFailed",z);return}f("routeLoading",Object.assign({},z));const F=o[_].component;if(S!=F){F.loading?(oe(l,F.loading),S=F,oe(s,F.loadingParams),oe(u,{}),f("routeLoaded",Object.assign({},z,{component:E(l),name:E(l).name,params:E(s)}))):(oe(l,null),S=null);const H=await F();if(x!=g)return;oe(l,H&&H.default||H),S=F}I&&typeof I=="object"&&Object.keys(I).length?oe(s,I):oe(s,null),oe(u,o[_].props),f("routeLoaded",Object.assign({},z,{component:E(l),name:E(l).name,params:E(s)})).then(()=>{io.set(E(s))});return}oe(l,null),S=null,io.set(void 0)});bc(()=>{m(),c&&window.removeEventListener("popstate",c)}),Lu(()=>kl(i()),()=>{history.scrollRestoration=i()?"manual":"auto"}),zu(),Pl();var b=Vt(),C=J(b);{var D=x=>{var _=Vt(),I=J(_);Va(I,()=>E(l),(z,F)=>{F(z,Ja({get params(){return E(s)}},()=>E(u),{$$events:{routeEvent(H){Za.call(this,t,H)}}}))}),R(x,_)},O=x=>{var _=Vt(),I=J(_);Va(I,()=>E(l),(z,F)=>{F(z,Ja(()=>E(u),{$$events:{routeEvent(H){Za.call(this,t,H)}}}))}),R(x,_)};Le(C,x=>{E(s)?x(D):x(O,!1)})}R(e,b),Ee()}var rf=B("<div></div>");function me(e,t){var n=rf();let r;de(()=>r=Pt(n,1,"svelte-avds",null,r,{spread:t.spread,vertical:t.vertical})),R(e,n)}var af=B('<div class="inner svelte-l89b3q"><!></div>'),of=B("<div><!></div>");function Pa(e,t){var n=of();let r;var i=L(n);ht(i,{withHover:!0,nopadding:!0,children:(a,o)=>{var l=af(),s=L(l);ct(s,()=>t.children??Te),N(l),R(a,l)}}),N(n),de(()=>r=Pt(n,1,"wrapper svelte-l89b3q",null,r,{pending:t.pending})),R(e,n)}var lf=B("<button><!></button>");function vt(e,t){ke(t,!0);const n=mt(t,"type",3,"button");let r=$e(!1);function i(){E(r)||(oe(r,!0),Promise.resolve(t.onclick?.()).finally(()=>{oe(r,!1)}))}var a=lf();a.__click=i;let o;var l=L(a);Pa(l,{get pending(){return E(r)},children:(s,u)=>{var d=Vt(),f=J(d);ct(f,()=>t.children??Te),R(s,d)}}),N(a),de(()=>{Jt(a,"type",n()),o=Pt(a,1,"svelte-18sv61c",null,o,{pending:E(r)})}),R(e,a),Ee()}Ct(["click"]);const $r=1300,Tr=1e3;function sf(e,t,n=.4,r=!1,i=128){const a=e.width|0,o=e.height|0;if(a<=0||o<=0)return;const l=t.getImageData(0,0,a,o),s=l.data,d=Math.max(-1,Math.min(1,n))*255,f=259*(d+255)/(255*(259-d)),v=g=>g<0?0:g>255?255:g,c=g=>v(f*(g-128)+128);for(let g=0;g<s.length;g+=4){if(s[g+3]===0)continue;const m=s[g+0],b=s[g+1],C=s[g+2];if(r){const D=.2126*m+.7152*b+.0722*C,x=c(D)<i?0:255;s[g+0]=x,s[g+1]=x,s[g+2]=x}else s[g+0]=c(m),s[g+1]=c(b),s[g+2]=c(C)}t.putImageData(l,0,0)}function uf(e,t,n,r){const i=t.getImageData(0,0,e.width,e.height),a=i.data,o=r*255,l=n*r*(255-r);for(let s=0;s<a.length;s+=4){const u=a[s],d=a[s+1],f=a[s+2],v=.299*u+.587*d+.114*f;let c=0;v>l&&(c=190),v>o&&(c=255),a[s]=c,a[s+1]=c,a[s+2]=c}t.putImageData(i,0,0)}function cf(e,t,n=6,r=45){const i=e.width|0,a=e.height|0;if(i<=0||a<=0)return;const l=t.getImageData(0,0,i,a).data,s=150,u=i*a,d=new Uint8Array(u),f=new Uint8Array(u);for(let I=0;I<u;I++){const z=I*4;if(l[z+3]===0){d[I]=255,f[I]=0;continue}const H=l[z+0],q=l[z+1],j=l[z+2],W=.2126*H+.7152*q+.0722*j|0;d[I]=W,f[I]=W<=s?1:0}const v=document.createElement("canvas");v.width=i,v.height=a;const c=v.getContext("2d");if(!c)return;c.clearRect(0,0,i,a),c.fillStyle="#fff",c.fillRect(0,0,i,a),c.fillStyle="#000";const g=r*Math.PI/180,S=Math.cos(g),m=Math.sin(g),b=Math.max(2,Math.round(n*2)),C=i/2,D=a/2,O=Math.sqrt(i*i+a*a)/2;for(let I=-O;I<=O;I+=b)for(let z=-O;z<=O;z+=b){const F=C+z*S-I*m,H=D+z*m+I*S,q=F|0,j=H|0;if(q<0||q>=i||j<0||j>=a)continue;const W=j*i+q,K=W*4;if(l[K+3]===0||f[W])continue;const re=(1-d[W]/255)*n;re<=.15||(c.beginPath(),c.arc(F,H,re,0,Math.PI*2),c.fill())}const x=c.getImageData(0,0,i,a),_=x.data;for(let I=0;I<u;I++){const z=I*4,F=l[z+3];if(F===0){_[z+3]=0;continue}if(f[I]){const H=d[I];_[z+0]=H,_[z+1]=H,_[z+2]=H,_[z+3]=F}else _[z+3]=F}t.putImageData(x,0,0)}function ff(e,t,n,r,i){const a=e.getContext("2d");if(!a)return;const{width:o,height:l}=t;a.drawImage(t,n,r,o*i,l*i)}var df=B('<div class="wrapper svelte-rcmikk"><canvas class="svelte-rcmikk"></canvas></div>');function Ol(e,t){ke(t,!0);let n=mt(t,"canvas",15),r=mt(t,"context",15);Yt(()=>{r(n()?.getContext("2d",{willReadFrequently:!0})??null)});var i=df(),a=L(i);ir(a,o=>n(o),()=>n()),N(i),de(()=>{Jt(a,"width",t.width),Jt(a,"height",t.height)}),R(e,i),Ee()}var vf=B('<div class="canvas svelte-nzlhga"><!></div>');function Ll(e,t){ke(t,!0);const n=Oe(()=>t.avatar.blob);let r=$e(null),i=$e(null),a=$e(null),o=Oe(()=>t.avatar.contrast),l=Oe(()=>t.avatar.gray),s=Oe(()=>t.avatar.black);Yt(()=>{E(n)?Dl(E(n)).then(f=>{oe(r,f,!0)}):oe(r,null)}),Yt(()=>{!E(r)||!E(a)||!E(i)||(E(a).clearRect(0,0,E(i).width,E(i).height),ff(E(i),E(r),t.avatar.x,t.avatar.y,t.avatar.scale),t.disableEffects||(sf(E(i),E(a),E(o)),uf(E(i),E(a),E(l),E(s)),cf(E(i),E(a),4,45)))});var u=vf(),d=L(u);Ol(d,{get width(){return Tr},get height(){return $r},get canvas(){return E(i)},set canvas(f){oe(i,f,!0)},get context(){return E(a)},set context(f){oe(a,f,!0)}}),N(u),R(e,u),Ee()}var hf=B('<div class="grid svelte-1hhz0mg"><div class="inner svelte-1hhz0mg"><!></div></div>');function pf(e,t){var n=hf(),r=L(n),i=L(r);ct(i,()=>t.children??Te),N(r),N(n),R(e,n)}var gf=B('<h1 class="svelte-1udyrqm"> </h1> <!>',1),mf=B('<div class="padding svelte-1udyrqm"><!></div>'),_f=B('<div class="children svelte-1udyrqm"><!></div>'),yf=B('<div class="inner svelte-1udyrqm"><!> <!></div>');function Lt(e,t){ht(e,{get grid(){return t.grid},nopadding:!0,children:(n,r)=>{var i=yf(),a=L(i);{var o=u=>{var d=gf(),f=J(d),v=L(f,!0);N(f);var c=A(f,2);me(c,{}),de(()=>We(v,t.title)),R(u,d)};Le(a,u=>{t.title&&u(o)})}var l=A(a,2);{var s=u=>{var d=_f(),f=L(d);{var v=g=>{pf(g,{children:(S,m)=>{var b=Vt(),C=J(b);ct(C,()=>t.children),R(S,b)}})},c=g=>{var S=mf(),m=L(S);ct(m,()=>t.children),N(S),R(g,S)};Le(f,g=>{t.grid?g(v):g(c,!1)})}N(d),R(u,d)};Le(l,u=>{t.children&&u(s)})}N(i),R(n,i)}})}var bf=B('<div class="push svelte-1c0ge01"></div>');function Lr(e){var t=bf();R(e,t)}var wf=B("<span> </span>"),xf=B("<span> </span>"),Sf=B("<p> </p> <p><!> <!></p>",1),kf=B("<span>View Sheet</span>"),Ef=B("<a><!></a> <!>",1),If=B('<!> <!> <!> <!> <div class="bottom svelte-19e1lap"><!></div>',1);function Pf(e,t){ke(t,!0),Lt(e,{get title(){return t.character.name},children:(n,r)=>{ue(n,{column:!0,children:(i,a)=>{var o=If(),l=J(o);ht(l,{nopadding:!0,noshadow:!0,small:!0,children:(c,g)=>{Ll(c,{get avatar(){return t.character.avatar}})}});var s=A(l,2);ue(s,{column:!0,children:(c,g)=>{var S=Sf(),m=J(S),b=L(m);N(m);var C=A(m,2),D=L(C);{var O=I=>{var z=wf(),F=L(z);N(z),de(()=>We(F,`Class: ${t.character.class??""}`)),R(I,z)};Le(D,I=>{t.character.class&&I(O)})}var x=A(D,2);{var _=I=>{var z=xf(),F=L(z);N(z),de(()=>We(F,`(${t.character.subclass??""})`)),R(I,z)};Le(x,I=>{t.character.subclass&&I(_)})}N(C),de(()=>We(b,`Level: ${t.character.level??""}`)),R(c,S)},$$slots:{default:!0}});var u=A(s,2);Lr(u);var d=A(u,2);me(d,{});var f=A(d,2),v=L(f);ue(v,{justify:"start",children:(c,g)=>{var S=Ef(),m=J(S),b=L(m);Pa(b,{children:(O,x)=>{var _=kf();R(O,_)}}),N(m),ka(m,O=>Nl?.(O));var C=A(m,2);{var D=O=>{vt(O,{get onclick(){return t.onDelete},children:(x,_)=>{xe();var I=Ke("Delete");R(x,I)},$$slots:{default:!0}})};Le(C,O=>{t.onDelete&&O(D)})}de(O=>Jt(m,"href",O),[()=>Fn.characterSheet(t.character.slug)]),R(c,S)},$$slots:{default:!0}}),N(f),R(i,o)},$$slots:{default:!0}})}}),Ee()}var Cf=B('<div class="modal svelte-ta60gp"><div><!></div></div>');function $f(e,t){ke(t,!0);function n(o){o.key==="Escape"&&(o.stopPropagation(),o.preventDefault(),t.onclose?.())}var r=Cf();Ut("keydown",$n,n);var i=L(r),a=L(i);Lt(a,{get title(){return t.title},children:(o,l)=>{var s=Vt(),u=J(s);ct(u,()=>t.children??Te),R(o,s)}}),N(i),N(r),R(e,r),Ee()}var Tf=B('<div class="wrapper svelte-1mlq5p3"><!> <div class="inner"><!></div></div>');function zl(e,t){var n=Tf(),r=L(n);me(r,{});var i=A(r,2),a=L(i);ct(a,()=>t.children??Te),N(i),N(n),R(e,n)}function Ca(e,t){ac("1822nxv",n=>{Bu(()=>{el.title=t.title??""})})}let Hi;function Fl(e){return{lang:Hi?.lang,message:e?.message,abortEarly:Hi?.abortEarly,abortPipeEarly:Hi?.abortPipeEarly}}let Af;function Df(e){return Af?.get(e)}let Rf;function Nf(e){return Rf?.get(e)}let Of;function Lf(e,t){return Of?.get(e)?.get(t)}function Bl(e){const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function mn(e,t,n,r,i){const a=i&&"input"in i?i.input:n.value,o=i?.expected??e.expects??null,l=i?.received??Bl(a),s={kind:e.kind,type:e.type,input:a,expected:o,received:l,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u=e.kind==="schema",d=i?.message??e.message??Lf(e.reference,s.lang)??(u?Nf(s.lang):null)??r.message??Df(s.lang);d!==void 0&&(s.message=typeof d=="function"?d(s):d),u&&(n.typed=!1),n.issues?n.issues.push(s):n.issues=[s]}function rn(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Fl())}}}function zf(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}function lo(e,t){const n={};for(const r of e)n[r]=t;return n}var Ff=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Ml(e){return{kind:"validation",type:"non_empty",reference:Ml,async:!1,expects:"!0",message:e,"~run"(t,n){return t.typed&&t.value.length===0&&mn(this,"length",t,n,{received:"0"}),t}}}function Bf(e,t,n){return typeof e.fallback=="function"?e.fallback(t,n):e.fallback}function $a(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Kn(e,t){return{kind:"schema",type:"array",reference:Kn,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return rn(this)},"~run"(n,r){const i=n.value;if(Array.isArray(i)){n.typed=!0,n.value=[];for(let a=0;a<i.length;a++){const o=i[a],l=this.item["~run"]({value:o},r);if(l.issues){const s={type:"array",origin:"value",input:i,key:a,value:o};for(const u of l.issues)u.path?u.path.unshift(s):u.path=[s],n.issues?.push(u);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value.push(l.value)}}else mn(this,"type",n,r);return n}}}function ql(e){return{kind:"schema",type:"boolean",reference:ql,expects:"boolean",async:!1,message:e,get"~standard"(){return rn(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:mn(this,"type",t,n),t}}}function jl(e,t){return{kind:"schema",type:"instance",reference:jl,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return rn(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:mn(this,"type",n,r),n}}}function Hl(e,t){return{kind:"schema",type:"nullable",reference:Hl,expects:`(${e.expects} | null)`,async:!1,wrapped:e,default:t,get"~standard"(){return rn(this)},"~run"(n,r){return n.value===null&&(this.default!==void 0&&(n.value=$a(this,n,r)),n.value===null)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function at(e){return{kind:"schema",type:"number",reference:at,expects:"number",async:!1,message:e,get"~standard"(){return rn(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:mn(this,"type",t,n),t}}}function sn(e,t){return{kind:"schema",type:"object",reference:sn,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return rn(this)},"~run"(n,r){const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const a in this.entries){const o=this.entries[a];if(a in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){const l=a in i?i[a]:$a(o),s=o["~run"]({value:l},r);if(s.issues){const u={type:"object",origin:"value",input:i,key:a,value:l};for(const d of s.issues)d.path?d.path.unshift(u):d.path=[u],n.issues?.push(d);if(n.issues||(n.issues=s.issues),r.abortEarly){n.typed=!1;break}}s.typed||(n.typed=!1),n.value[a]=s.value}else if(o.fallback!==void 0)n.value[a]=Bf(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(mn(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]}),r.abortEarly))break}}else mn(this,"type",n,r);return n}}}function ie(e,t){return{kind:"schema",type:"optional",reference:ie,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return rn(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=$a(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function $i(e,t){return{kind:"schema",type:"picklist",reference:$i,expects:zf(e.map(Bl),"|"),async:!1,options:e,message:t,get"~standard"(){return rn(this)},"~run"(n,r){return this.options.includes(n.value)?n.typed=!0:mn(this,"type",n,r),n}}}function Re(e){return{kind:"schema",type:"string",reference:Re,expects:"string",async:!1,message:e,get"~standard"(){return rn(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:mn(this,"type",t,n),t}}}function dr(e,t,n){const r=e["~run"]({value:t},Fl(n));if(r.issues)throw new Ff(r.issues);return r.value}function Mf(...e){return{...e[0],pipe:e,get"~standard"(){return rn(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const qf=["acrobatics","animalHandling","arcana","athletics","deception","history","insight","intimidation","investigation","medicine","nature","perception","performance","persuasion","religion","sleightOfHand","stealth","survival"],Ul=["str","dex","con","int","wis","cha"],jf=["none","str","dex","con","int","wis","cha"],Hf=["none","proficient","double","half"],Uf=$i(Ul),Vf=$i(jf),Yf=$i(Hf),Wf=sn({name:ie(Re(),""),hit:ie(at(),0),damage:ie(Re(),""),details:ie(Re(),"")}),Vl=sn({name:ie(Re(),""),level:ie(at(),0),castingTime:ie(Re(),""),range:ie(Re(),""),components:ie(Re(),""),duration:ie(Re(),""),description:ie(Re(),""),notes:ie(Re(),""),prepared:ie(ql(),!0)}),Gf=sn({blob:ie(Hl(jl(Blob)),null),contrast:ie(at(),0),gray:ie(at(),.5),black:ie(at(),.25),x:ie(at(),0),y:ie(at(),0),scale:ie(at(),1)}),jr=sn({slug:Mf(Re(),Ml()),avatar:ie(Gf,{blob:null,contrast:1,gray:.5,black:.25,x:0,y:0,scale:1}),name:ie(Re(),""),playerName:ie(Re(),""),level:ie(at(),1),class:ie(Re(),""),subclass:ie(Re(),""),species:ie(Re(),""),size:ie(Re(),""),speed:ie(at(),30),background:ie(Re(),""),alignment:ie(Re(),""),armorClass:ie(at(),10),hitDice:ie(Re(),"1d8"),hitPoints:ie(at(),1),proficiencyBonus:ie(at(),2),proficienies:ie(Re(),""),abilityScores:ie(sn(lo(Ul,ie(at(),10))),{str:10,dex:10,con:10,int:10,wis:10,cha:10}),abilityProficiencies:ie(Kn(Uf),[]),skillProficiencies:ie(sn(lo(qf,ie(Yf,"none"))),{acrobatics:"none",animalHandling:"none",arcana:"none",athletics:"none",deception:"none",history:"none",insight:"none",intimidation:"none",investigation:"none",medicine:"none",nature:"none",perception:"none",performance:"none",persuasion:"none",religion:"none",sleightOfHand:"none",stealth:"none",survival:"none"}),languages:ie(Re(),""),features:ie(sn({feats:ie(Re(),""),species:ie(Re(),""),class:ie(Re(),"")}),{feats:"",species:"",class:""}),weapons:ie(Kn(Wf),[]),spells:ie(Kn(Vl),[]),spellcastingAbility:ie(Vf,"none"),spellSlots:ie(Kn(sn({level:ie(at(),1),amount:ie(at(),0)})),[]),inventory:ie(Kn(Re()),[])});function Qf(e){return dr(jr,e)}const Xf={acrobatics:"dex",animalHandling:"wis",arcana:"int",athletics:"str",deception:"cha",history:"int",insight:"wis",intimidation:"cha",investigation:"int",medicine:"wis",nature:"int",perception:"wis",performance:"cha",persuasion:"cha",religion:"int",sleightOfHand:"dex",stealth:"dex",survival:"wis"},Kf="/dnd-character-sheet/assets/belo-DO5QS6YM.jpg",Zf="/dnd-character-sheet/assets/belo-1j1Nv5tw.yml";async function Yl(e,t,n){const r=await Dl(e),i=r.width/r.height,a=t/n;let o,l,s;return i>a?(o=n/r.height,l=(t-r.width*o)/2,s=0):(o=t/r.width,l=0,s=(n-r.height*o)/2),r.dispose(),{x:l,y:s,scale:o}}var oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function li(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ui={exports:{}};var so;function Jf(){return so||(so=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,a){function o(u,d){if(!i[u]){if(!r[u]){var f=typeof li=="function"&&li;if(!d&&f)return f(u,!0);if(l)return l(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var c=i[u]={exports:{}};r[u][0].call(c.exports,function(g){var S=r[u][1][g];return o(S||g)},c,c.exports,n,r,i,a)}return i[u].exports}for(var l=typeof li=="function"&&li,s=0;s<a.length;s++)o(a[s]);return o})({1:[function(n,r,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,l;if(o){var s=0,u=new o(g),d=a.document.createTextNode("");u.observe(d,{characterData:!0}),l=function(){d.data=s=++s%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=g,l=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?l=function(){var m=a.document.createElement("script");m.onreadystatechange=function(){g(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:l=function(){setTimeout(g,0)};var v,c=[];function g(){v=!0;for(var m,b,C=c.length;C;){for(b=c,c=[],m=-1;++m<C;)b[m]();C=c.length}v=!1}r.exports=S;function S(m){c.push(m)===1&&!v&&l()}}).call(this,typeof oi<"u"?oi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var a=n(1);function o(){}var l={},s=["REJECTED"],u=["FULFILLED"],d=["PENDING"];r.exports=f;function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,x!==o&&S(this,x)}f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,_){if(typeof x!="function"&&this.state===u||typeof _!="function"&&this.state===s)return this;var I=new this.constructor(o);if(this.state!==d){var z=this.state===u?x:_;c(I,z,this.outcome)}else this.queue.push(new v(I,x,_));return I};function v(x,_,I){this.promise=x,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},v.prototype.otherCallFulfilled=function(x){c(this.promise,this.onFulfilled,x)},v.prototype.callRejected=function(x){l.reject(this.promise,x)},v.prototype.otherCallRejected=function(x){c(this.promise,this.onRejected,x)};function c(x,_,I){a(function(){var z;try{z=_(I)}catch(F){return l.reject(x,F)}z===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,z)})}l.resolve=function(x,_){var I=m(g,_);if(I.status==="error")return l.reject(x,I.value);var z=I.value;if(z)S(x,z);else{x.state=u,x.outcome=_;for(var F=-1,H=x.queue.length;++F<H;)x.queue[F].callFulfilled(_)}return x},l.reject=function(x,_){x.state=s,x.outcome=_;for(var I=-1,z=x.queue.length;++I<z;)x.queue[I].callRejected(_);return x};function g(x){var _=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof _=="function")return function(){_.apply(x,arguments)}}function S(x,_){var I=!1;function z(j){I||(I=!0,l.reject(x,j))}function F(j){I||(I=!0,l.resolve(x,j))}function H(){_(F,z)}var q=m(H);q.status==="error"&&z(q.value)}function m(x,_){var I={};try{I.value=x(_),I.status="success"}catch(z){I.status="error",I.value=z}return I}f.resolve=b;function b(x){return x instanceof this?x:l.resolve(new this(o),x)}f.reject=C;function C(x){var _=new this(o);return l.reject(_,x)}f.all=D;function D(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,z=!1;if(!I)return this.resolve([]);for(var F=new Array(I),H=0,q=-1,j=new this(o);++q<I;)W(x[q],q);return j;function W(K,Z){_.resolve(K).then(re,function(ae){z||(z=!0,l.reject(j,ae))});function re(ae){F[Z]=ae,++H===I&&!z&&(z=!0,l.resolve(j,F))}}}f.race=O;function O(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,z=!1;if(!I)return this.resolve([]);for(var F=-1,H=new this(o);++F<I;)q(x[F]);return H;function q(j){_.resolve(j).then(function(W){z||(z=!0,l.resolve(H,W))},function(W){z||(z=!0,l.reject(H,W))})}}},{1:1}],3:[function(n,r,i){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof oi<"u"?oi:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};function o(h,k){if(!(h instanceof k))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var s=l();function u(){try{if(!s||!s.open)return!1;var h=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),k=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!h||k)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(h,k){h=h||[],k=k||{};try{return new Blob(h,k)}catch(P){if(P.name!=="TypeError")throw P;for(var p=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,$=new p,T=0;T<h.length;T+=1)$.append(h[T]);return $.getBlob(k.type)}}typeof Promise>"u"&&n(3);var f=Promise;function v(h,k){k&&h.then(function(p){k(null,p)},function(p){k(p)})}function c(h,k,p){typeof k=="function"&&h.then(k),typeof p=="function"&&h.catch(p)}function g(h){return typeof h!="string"&&(console.warn(h+" used as a key, but it is not a string."),h=String(h)),h}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",b=void 0,C={},D=Object.prototype.toString,O="readonly",x="readwrite";function _(h){for(var k=h.length,p=new ArrayBuffer(k),$=new Uint8Array(p),T=0;T<k;T++)$[T]=h.charCodeAt(T);return p}function I(h){return new f(function(k){var p=h.transaction(m,x),$=d([""]);p.objectStore(m).put($,"key"),p.onabort=function(T){T.preventDefault(),T.stopPropagation(),k(!1)},p.oncomplete=function(){var T=navigator.userAgent.match(/Chrome\/(\d+)/),P=navigator.userAgent.match(/Edge\//);k(P||!T||parseInt(T[1],10)>=43)}}).catch(function(){return!1})}function z(h){return typeof b=="boolean"?f.resolve(b):I(h).then(function(k){return b=k,b})}function F(h){var k=C[h.name],p={};p.promise=new f(function($,T){p.resolve=$,p.reject=T}),k.deferredOperations.push(p),k.dbReady?k.dbReady=k.dbReady.then(function(){return p.promise}):k.dbReady=p.promise}function H(h){var k=C[h.name],p=k.deferredOperations.pop();if(p)return p.resolve(),p.promise}function q(h,k){var p=C[h.name],$=p.deferredOperations.pop();if($)return $.reject(k),$.promise}function j(h,k){return new f(function(p,$){if(C[h.name]=C[h.name]||we(),h.db)if(k)F(h),h.db.close();else return p(h.db);var T=[h.name];k&&T.push(h.version);var P=s.open.apply(s,T);k&&(P.onupgradeneeded=function(M){var U=P.result;try{U.createObjectStore(h.storeName),M.oldVersion<=1&&U.createObjectStore(m)}catch(Y){if(Y.name==="ConstraintError")console.warn('The database "'+h.name+'" has been upgraded from version '+M.oldVersion+" to version "+M.newVersion+', but the storage "'+h.storeName+'" already exists.');else throw Y}}),P.onerror=function(M){M.preventDefault(),$(P.error)},P.onsuccess=function(){var M=P.result;M.onversionchange=function(U){U.target.close()},p(M),H(h)}})}function W(h){return j(h,!1)}function K(h){return j(h,!0)}function Z(h,k){if(!h.db)return!0;var p=!h.db.objectStoreNames.contains(h.storeName),$=h.version<h.db.version,T=h.version>h.db.version;if($&&(h.version!==k&&console.warn('The database "'+h.name+`" can't be downgraded from version `+h.db.version+" to version "+h.version+"."),h.version=h.db.version),T||p){if(p){var P=h.db.version+1;P>h.version&&(h.version=P)}return!0}return!1}function re(h){return new f(function(k,p){var $=new FileReader;$.onerror=p,$.onloadend=function(T){var P=btoa(T.target.result||"");k({__local_forage_encoded_blob:!0,data:P,type:h.type})},$.readAsBinaryString(h)})}function ae(h){var k=_(atob(h.data));return d([k],{type:h.type})}function se(h){return h&&h.__local_forage_encoded_blob}function pe(h){var k=this,p=k._initReady().then(function(){var $=C[k._dbInfo.name];if($&&$.dbReady)return $.dbReady});return c(p,h,h),p}function w(h){F(h);for(var k=C[h.name],p=k.forages,$=0;$<p.length;$++){var T=p[$];T._dbInfo.db&&(T._dbInfo.db.close(),T._dbInfo.db=null)}return h.db=null,W(h).then(function(P){return h.db=P,Z(h)?K(h):P}).then(function(P){h.db=k.db=P;for(var M=0;M<p.length;M++)p[M]._dbInfo.db=P}).catch(function(P){throw q(h,P),P})}function ee(h,k,p,$){$===void 0&&($=1);try{var T=h.db.transaction(h.storeName,k);p(null,T)}catch(P){if($>0&&(!h.db||P.name==="InvalidStateError"||P.name==="NotFoundError"))return f.resolve().then(function(){if(!h.db||P.name==="NotFoundError"&&!h.db.objectStoreNames.contains(h.storeName)&&h.version<=h.db.version)return h.db&&(h.version=h.db.version+1),K(h)}).then(function(){return w(h).then(function(){ee(h,k,p,$-1)})}).catch(p);p(P)}}function we(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function y(h){var k=this,p={db:null};if(h)for(var $ in h)p[$]=h[$];var T=C[p.name];T||(T=we(),C[p.name]=T),T.forages.push(k),k._initReady||(k._initReady=k.ready,k.ready=pe);var P=[];function M(){return f.resolve()}for(var U=0;U<T.forages.length;U++){var Y=T.forages[U];Y!==k&&P.push(Y._initReady().catch(M))}var G=T.forages.slice(0);return f.all(P).then(function(){return p.db=T.db,W(p)}).then(function(X){return p.db=X,Z(p,k._defaultConfig.version)?K(p):X}).then(function(X){p.db=T.db=X,k._dbInfo=p;for(var te=0;te<G.length;te++){var ge=G[te];ge!==k&&(ge._dbInfo.db=p.db,ge._dbInfo.version=p.version)}})}function he(h,k){var p=this;h=g(h);var $=new f(function(T,P){p.ready().then(function(){ee(p._dbInfo,O,function(M,U){if(M)return P(M);try{var Y=U.objectStore(p._dbInfo.storeName),G=Y.get(h);G.onsuccess=function(){var X=G.result;X===void 0&&(X=null),se(X)&&(X=ae(X)),T(X)},G.onerror=function(){P(G.error)}}catch(X){P(X)}})}).catch(P)});return v($,k),$}function Ie(h,k){var p=this,$=new f(function(T,P){p.ready().then(function(){ee(p._dbInfo,O,function(M,U){if(M)return P(M);try{var Y=U.objectStore(p._dbInfo.storeName),G=Y.openCursor(),X=1;G.onsuccess=function(){var te=G.result;if(te){var ge=te.value;se(ge)&&(ge=ae(ge));var Ce=h(ge,te.key,X++);Ce!==void 0?T(Ce):te.continue()}else T()},G.onerror=function(){P(G.error)}}catch(te){P(te)}})}).catch(P)});return v($,k),$}function _e(h,k,p){var $=this;h=g(h);var T=new f(function(P,M){var U;$.ready().then(function(){return U=$._dbInfo,D.call(k)==="[object Blob]"?z(U.db).then(function(Y){return Y?k:re(k)}):k}).then(function(Y){ee($._dbInfo,x,function(G,X){if(G)return M(G);try{var te=X.objectStore($._dbInfo.storeName);Y===null&&(Y=void 0);var ge=te.put(Y,h);X.oncomplete=function(){Y===void 0&&(Y=null),P(Y)},X.onabort=X.onerror=function(){var Ce=ge.error?ge.error:ge.transaction.error;M(Ce)}}catch(Ce){M(Ce)}})}).catch(M)});return v(T,p),T}function Fe(h,k){var p=this;h=g(h);var $=new f(function(T,P){p.ready().then(function(){ee(p._dbInfo,x,function(M,U){if(M)return P(M);try{var Y=U.objectStore(p._dbInfo.storeName),G=Y.delete(h);U.oncomplete=function(){T()},U.onerror=function(){P(G.error)},U.onabort=function(){var X=G.error?G.error:G.transaction.error;P(X)}}catch(X){P(X)}})}).catch(P)});return v($,k),$}function je(h){var k=this,p=new f(function($,T){k.ready().then(function(){ee(k._dbInfo,x,function(P,M){if(P)return T(P);try{var U=M.objectStore(k._dbInfo.storeName),Y=U.clear();M.oncomplete=function(){$()},M.onabort=M.onerror=function(){var G=Y.error?Y.error:Y.transaction.error;T(G)}}catch(G){T(G)}})}).catch(T)});return v(p,h),p}function et(h){var k=this,p=new f(function($,T){k.ready().then(function(){ee(k._dbInfo,O,function(P,M){if(P)return T(P);try{var U=M.objectStore(k._dbInfo.storeName),Y=U.count();Y.onsuccess=function(){$(Y.result)},Y.onerror=function(){T(Y.error)}}catch(G){T(G)}})}).catch(T)});return v(p,h),p}function st(h,k){var p=this,$=new f(function(T,P){if(h<0){T(null);return}p.ready().then(function(){ee(p._dbInfo,O,function(M,U){if(M)return P(M);try{var Y=U.objectStore(p._dbInfo.storeName),G=!1,X=Y.openKeyCursor();X.onsuccess=function(){var te=X.result;if(!te){T(null);return}h===0||G?T(te.key):(G=!0,te.advance(h))},X.onerror=function(){P(X.error)}}catch(te){P(te)}})}).catch(P)});return v($,k),$}function tt(h){var k=this,p=new f(function($,T){k.ready().then(function(){ee(k._dbInfo,O,function(P,M){if(P)return T(P);try{var U=M.objectStore(k._dbInfo.storeName),Y=U.openKeyCursor(),G=[];Y.onsuccess=function(){var X=Y.result;if(!X){$(G);return}G.push(X.key),X.continue()},Y.onerror=function(){T(Y.error)}}catch(X){T(X)}})}).catch(T)});return v(p,h),p}function qt(h,k){k=S.apply(this,arguments);var p=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||p.name,h.storeName=h.storeName||p.storeName);var $=this,T;if(!h.name)T=f.reject("Invalid arguments");else{var P=h.name===p.name&&$._dbInfo.db,M=P?f.resolve($._dbInfo.db):W(h).then(function(U){var Y=C[h.name],G=Y.forages;Y.db=U;for(var X=0;X<G.length;X++)G[X]._dbInfo.db=U;return U});h.storeName?T=M.then(function(U){if(U.objectStoreNames.contains(h.storeName)){var Y=U.version+1;F(h);var G=C[h.name],X=G.forages;U.close();for(var te=0;te<X.length;te++){var ge=X[te];ge._dbInfo.db=null,ge._dbInfo.version=Y}var Ce=new f(function(Ae,He){var qe=s.open(h.name,Y);qe.onerror=function(Dt){var wr=qe.result;wr.close(),He(Dt)},qe.onupgradeneeded=function(){var Dt=qe.result;Dt.deleteObjectStore(h.storeName)},qe.onsuccess=function(){var Dt=qe.result;Dt.close(),Ae(Dt)}});return Ce.then(function(Ae){G.db=Ae;for(var He=0;He<X.length;He++){var qe=X[He];qe._dbInfo.db=Ae,H(qe._dbInfo)}}).catch(function(Ae){throw(q(h,Ae)||f.resolve()).catch(function(){}),Ae})}}):T=M.then(function(U){F(h);var Y=C[h.name],G=Y.forages;U.close();for(var X=0;X<G.length;X++){var te=G[X];te._dbInfo.db=null}var ge=new f(function(Ce,Ae){var He=s.deleteDatabase(h.name);He.onerror=function(){var qe=He.result;qe&&qe.close(),Ae(He.error)},He.onblocked=function(){console.warn('dropInstance blocked for database "'+h.name+'" until all open connections are closed')},He.onsuccess=function(){var qe=He.result;qe&&qe.close(),Ce(qe)}});return ge.then(function(Ce){Y.db=Ce;for(var Ae=0;Ae<G.length;Ae++){var He=G[Ae];H(He._dbInfo)}}).catch(function(Ce){throw(q(h,Ce)||f.resolve()).catch(function(){}),Ce})})}return v(T,k),T}var nt={_driver:"asyncStorage",_initStorage:y,_support:u(),iterate:Ie,getItem:he,setItem:_e,removeItem:Fe,clear:je,length:et,key:st,keys:tt,dropInstance:qt};function Dn(){return typeof openDatabase=="function"}var Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="~~local_forage_type~",ft=/^~~local_forage_type~([^~]+)~/,Me="__lfsc__:",$t=Me.length,an="arbf",vr="blob",Ur="si08",Vr="ui08",Yr="uic8",Wr="si16",Gr="si32",bn="ur16",Qr="ui32",Xr="fl32",hr="fl64",Kr=$t+an.length,pr=Object.prototype.toString;function gr(h){var k=h.length*.75,p=h.length,$,T=0,P,M,U,Y;h[h.length-1]==="="&&(k--,h[h.length-2]==="="&&k--);var G=new ArrayBuffer(k),X=new Uint8Array(G);for($=0;$<p;$+=4)P=Qe.indexOf(h[$]),M=Qe.indexOf(h[$+1]),U=Qe.indexOf(h[$+2]),Y=Qe.indexOf(h[$+3]),X[T++]=P<<2|M>>4,X[T++]=(M&15)<<4|U>>2,X[T++]=(U&3)<<6|Y&63;return G}function mr(h){var k=new Uint8Array(h),p="",$;for($=0;$<k.length;$+=3)p+=Qe[k[$]>>2],p+=Qe[(k[$]&3)<<4|k[$+1]>>4],p+=Qe[(k[$+1]&15)<<2|k[$+2]>>6],p+=Qe[k[$+2]&63];return k.length%3===2?p=p.substring(0,p.length-1)+"=":k.length%3===1&&(p=p.substring(0,p.length-2)+"=="),p}function Ai(h,k){var p="";if(h&&(p=pr.call(h)),h&&(p==="[object ArrayBuffer]"||h.buffer&&pr.call(h.buffer)==="[object ArrayBuffer]")){var $,T=Me;h instanceof ArrayBuffer?($=h,T+=an):($=h.buffer,p==="[object Int8Array]"?T+=Ur:p==="[object Uint8Array]"?T+=Vr:p==="[object Uint8ClampedArray]"?T+=Yr:p==="[object Int16Array]"?T+=Wr:p==="[object Uint16Array]"?T+=bn:p==="[object Int32Array]"?T+=Gr:p==="[object Uint32Array]"?T+=Qr:p==="[object Float32Array]"?T+=Xr:p==="[object Float64Array]"?T+=hr:k(new Error("Failed to get type for BinaryArray"))),k(T+mr($))}else if(p==="[object Blob]"){var P=new FileReader;P.onload=function(){var M=Ue+h.type+"~"+mr(this.result);k(Me+vr+M)},P.readAsArrayBuffer(h)}else try{k(JSON.stringify(h))}catch(M){console.error("Couldn't convert value into a JSON string: ",h),k(null,M)}}function Di(h){if(h.substring(0,$t)!==Me)return JSON.parse(h);var k=h.substring(Kr),p=h.substring($t,Kr),$;if(p===vr&&ft.test(k)){var T=k.match(ft);$=T[1],k=k.substring(T[0].length)}var P=gr(k);switch(p){case an:return P;case vr:return d([P],{type:$});case Ur:return new Int8Array(P);case Vr:return new Uint8Array(P);case Yr:return new Uint8ClampedArray(P);case Wr:return new Int16Array(P);case bn:return new Uint16Array(P);case Gr:return new Int32Array(P);case Qr:return new Uint32Array(P);case Xr:return new Float32Array(P);case hr:return new Float64Array(P);default:throw new Error("Unkown type: "+p)}}var _r={serialize:Ai,deserialize:Di,stringToBuffer:gr,bufferToString:mr};function Zr(h,k,p,$){h.executeSql("CREATE TABLE IF NOT EXISTS "+k.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],p,$)}function Ri(h){var k=this,p={db:null};if(h)for(var $ in h)p[$]=typeof h[$]!="string"?h[$].toString():h[$];var T=new f(function(P,M){try{p.db=openDatabase(p.name,String(p.version),p.description,p.size)}catch(U){return M(U)}p.db.transaction(function(U){Zr(U,p,function(){k._dbInfo=p,P()},function(Y,G){M(G)})},M)});return p.serializer=_r,T}function Wt(h,k,p,$,T,P){h.executeSql(p,$,T,function(M,U){U.code===U.SYNTAX_ERR?M.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[k.storeName],function(Y,G){G.rows.length?P(Y,U):Zr(Y,k,function(){Y.executeSql(p,$,T,P)},P)},P):P(M,U)},P)}function Jr(h,k){var p=this;h=g(h);var $=new f(function(T,P){p.ready().then(function(){var M=p._dbInfo;M.db.transaction(function(U){Wt(U,M,"SELECT * FROM "+M.storeName+" WHERE key = ? LIMIT 1",[h],function(Y,G){var X=G.rows.length?G.rows.item(0).value:null;X&&(X=M.serializer.deserialize(X)),T(X)},function(Y,G){P(G)})})}).catch(P)});return v($,k),$}function Ni(h,k){var p=this,$=new f(function(T,P){p.ready().then(function(){var M=p._dbInfo;M.db.transaction(function(U){Wt(U,M,"SELECT * FROM "+M.storeName,[],function(Y,G){for(var X=G.rows,te=X.length,ge=0;ge<te;ge++){var Ce=X.item(ge),Ae=Ce.value;if(Ae&&(Ae=M.serializer.deserialize(Ae)),Ae=h(Ae,Ce.key,ge+1),Ae!==void 0){T(Ae);return}}T()},function(Y,G){P(G)})})}).catch(P)});return v($,k),$}function ei(h,k,p,$){var T=this;h=g(h);var P=new f(function(M,U){T.ready().then(function(){k===void 0&&(k=null);var Y=k,G=T._dbInfo;G.serializer.serialize(k,function(X,te){te?U(te):G.db.transaction(function(ge){Wt(ge,G,"INSERT OR REPLACE INTO "+G.storeName+" (key, value) VALUES (?, ?)",[h,X],function(){M(Y)},function(Ce,Ae){U(Ae)})},function(ge){if(ge.code===ge.QUOTA_ERR){if($>0){M(ei.apply(T,[h,Y,p,$-1]));return}U(ge)}})})}).catch(U)});return v(P,p),P}function Oi(h,k,p){return ei.apply(this,[h,k,p,1])}function Q(h,k){var p=this;h=g(h);var $=new f(function(T,P){p.ready().then(function(){var M=p._dbInfo;M.db.transaction(function(U){Wt(U,M,"DELETE FROM "+M.storeName+" WHERE key = ?",[h],function(){T()},function(Y,G){P(G)})})}).catch(P)});return v($,k),$}function ne(h){var k=this,p=new f(function($,T){k.ready().then(function(){var P=k._dbInfo;P.db.transaction(function(M){Wt(M,P,"DELETE FROM "+P.storeName,[],function(){$()},function(U,Y){T(Y)})})}).catch(T)});return v(p,h),p}function Xe(h){var k=this,p=new f(function($,T){k.ready().then(function(){var P=k._dbInfo;P.db.transaction(function(M){Wt(M,P,"SELECT COUNT(key) as c FROM "+P.storeName,[],function(U,Y){var G=Y.rows.item(0).c;$(G)},function(U,Y){T(Y)})})}).catch(T)});return v(p,h),p}function St(h,k){var p=this,$=new f(function(T,P){p.ready().then(function(){var M=p._dbInfo;M.db.transaction(function(U){Wt(U,M,"SELECT key FROM "+M.storeName+" WHERE id = ? LIMIT 1",[h+1],function(Y,G){var X=G.rows.length?G.rows.item(0).key:null;T(X)},function(Y,G){P(G)})})}).catch(P)});return v($,k),$}function Tt(h){var k=this,p=new f(function($,T){k.ready().then(function(){var P=k._dbInfo;P.db.transaction(function(M){Wt(M,P,"SELECT key FROM "+P.storeName,[],function(U,Y){for(var G=[],X=0;X<Y.rows.length;X++)G.push(Y.rows.item(X).key);$(G)},function(U,Y){T(Y)})})}).catch(T)});return v(p,h),p}function jt(h){return new f(function(k,p){h.transaction(function($){$.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(T,P){for(var M=[],U=0;U<P.rows.length;U++)M.push(P.rows.item(U).name);k({db:h,storeNames:M})},function(T,P){p(P)})},function($){p($)})})}function At(h,k){k=S.apply(this,arguments);var p=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||p.name,h.storeName=h.storeName||p.storeName);var $=this,T;return h.name?T=new f(function(P){var M;h.name===p.name?M=$._dbInfo.db:M=openDatabase(h.name,"","",0),h.storeName?P({db:M,storeNames:[h.storeName]}):P(jt(M))}).then(function(P){return new f(function(M,U){P.db.transaction(function(Y){function G(Ce){return new f(function(Ae,He){Y.executeSql("DROP TABLE IF EXISTS "+Ce,[],function(){Ae()},function(qe,Dt){He(Dt)})})}for(var X=[],te=0,ge=P.storeNames.length;te<ge;te++)X.push(G(P.storeNames[te]));f.all(X).then(function(){M()}).catch(function(Ce){U(Ce)})},function(Y){U(Y)})})}):T=f.reject("Invalid arguments"),v(T,k),T}var ti={_driver:"webSQLStorage",_initStorage:Ri,_support:Dn(),iterate:Ni,getItem:Jr,setItem:Oi,removeItem:Q,clear:ne,length:Xe,key:St,keys:Tt,dropInstance:At};function ni(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function yr(h,k){var p=h.name+"/";return h.storeName!==k.storeName&&(p+=h.storeName+"/"),p}function fs(){var h="_localforage_support_test";try{return localStorage.setItem(h,!0),localStorage.removeItem(h),!1}catch{return!0}}function ds(){return!fs()||localStorage.length>0}function vs(h){var k=this,p={};if(h)for(var $ in h)p[$]=h[$];return p.keyPrefix=yr(h,k._defaultConfig),ds()?(k._dbInfo=p,p.serializer=_r,f.resolve()):f.reject()}function hs(h){var k=this,p=k.ready().then(function(){for(var $=k._dbInfo.keyPrefix,T=localStorage.length-1;T>=0;T--){var P=localStorage.key(T);P.indexOf($)===0&&localStorage.removeItem(P)}});return v(p,h),p}function ps(h,k){var p=this;h=g(h);var $=p.ready().then(function(){var T=p._dbInfo,P=localStorage.getItem(T.keyPrefix+h);return P&&(P=T.serializer.deserialize(P)),P});return v($,k),$}function gs(h,k){var p=this,$=p.ready().then(function(){for(var T=p._dbInfo,P=T.keyPrefix,M=P.length,U=localStorage.length,Y=1,G=0;G<U;G++){var X=localStorage.key(G);if(X.indexOf(P)===0){var te=localStorage.getItem(X);if(te&&(te=T.serializer.deserialize(te)),te=h(te,X.substring(M),Y++),te!==void 0)return te}}});return v($,k),$}function ms(h,k){var p=this,$=p.ready().then(function(){var T=p._dbInfo,P;try{P=localStorage.key(h)}catch{P=null}return P&&(P=P.substring(T.keyPrefix.length)),P});return v($,k),$}function _s(h){var k=this,p=k.ready().then(function(){for(var $=k._dbInfo,T=localStorage.length,P=[],M=0;M<T;M++){var U=localStorage.key(M);U.indexOf($.keyPrefix)===0&&P.push(U.substring($.keyPrefix.length))}return P});return v(p,h),p}function ys(h){var k=this,p=k.keys().then(function($){return $.length});return v(p,h),p}function bs(h,k){var p=this;h=g(h);var $=p.ready().then(function(){var T=p._dbInfo;localStorage.removeItem(T.keyPrefix+h)});return v($,k),$}function ws(h,k,p){var $=this;h=g(h);var T=$.ready().then(function(){k===void 0&&(k=null);var P=k;return new f(function(M,U){var Y=$._dbInfo;Y.serializer.serialize(k,function(G,X){if(X)U(X);else try{localStorage.setItem(Y.keyPrefix+h,G),M(P)}catch(te){(te.name==="QuotaExceededError"||te.name==="NS_ERROR_DOM_QUOTA_REACHED")&&U(te),U(te)}})})});return v(T,p),T}function xs(h,k){if(k=S.apply(this,arguments),h=typeof h!="function"&&h||{},!h.name){var p=this.config();h.name=h.name||p.name,h.storeName=h.storeName||p.storeName}var $=this,T;return h.name?T=new f(function(P){h.storeName?P(yr(h,$._defaultConfig)):P(h.name+"/")}).then(function(P){for(var M=localStorage.length-1;M>=0;M--){var U=localStorage.key(M);U.indexOf(P)===0&&localStorage.removeItem(U)}}):T=f.reject("Invalid arguments"),v(T,k),T}var Ss={_driver:"localStorageWrapper",_initStorage:vs,_support:ni(),iterate:gs,getItem:ps,setItem:ws,removeItem:bs,clear:hs,length:ys,key:ms,keys:_s,dropInstance:xs},ks=function(k,p){return k===p||typeof k=="number"&&typeof p=="number"&&isNaN(k)&&isNaN(p)},Es=function(k,p){for(var $=k.length,T=0;T<$;){if(ks(k[T],p))return!0;T++}return!1},Ra=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"},br={},Na={},Vn={INDEXEDDB:nt,WEBSQL:ti,LOCALSTORAGE:Ss},Is=[Vn.INDEXEDDB._driver,Vn.WEBSQL._driver,Vn.LOCALSTORAGE._driver],ri=["dropInstance"],Li=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ri),Ps={description:"",driver:Is.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Cs(h,k){h[k]=function(){var p=arguments;return h.ready().then(function(){return h[k].apply(h,p)})}}function zi(){for(var h=1;h<arguments.length;h++){var k=arguments[h];if(k)for(var p in k)k.hasOwnProperty(p)&&(Ra(k[p])?arguments[0][p]=k[p].slice():arguments[0][p]=k[p])}return arguments[0]}var $s=(function(){function h(k){o(this,h);for(var p in Vn)if(Vn.hasOwnProperty(p)){var $=Vn[p],T=$._driver;this[p]=T,br[T]||this.defineDriver($)}this._defaultConfig=zi({},Ps),this._config=zi({},this._defaultConfig,k),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return h.prototype.config=function(p){if((typeof p>"u"?"undefined":a(p))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var $ in p){if($==="storeName"&&(p[$]=p[$].replace(/\W/g,"_")),$==="version"&&typeof p[$]!="number")return new Error("Database version must be a number.");this._config[$]=p[$]}return"driver"in p&&p.driver?this.setDriver(this._config.driver):!0}else return typeof p=="string"?this._config[p]:this._config},h.prototype.defineDriver=function(p,$,T){var P=new f(function(M,U){try{var Y=p._driver,G=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!p._driver){U(G);return}for(var X=Li.concat("_initStorage"),te=0,ge=X.length;te<ge;te++){var Ce=X[te],Ae=!Es(ri,Ce);if((Ae||p[Ce])&&typeof p[Ce]!="function"){U(G);return}}var He=function(){for(var wr=function(Ds){return function(){var Rs=new Error("Method "+Ds+" is not implemented by the current driver"),Oa=f.reject(Rs);return v(Oa,arguments[arguments.length-1]),Oa}},Fi=0,As=ri.length;Fi<As;Fi++){var Bi=ri[Fi];p[Bi]||(p[Bi]=wr(Bi))}};He();var qe=function(wr){br[Y]&&console.info("Redefining LocalForage driver: "+Y),br[Y]=p,Na[Y]=wr,M()};"_support"in p?p._support&&typeof p._support=="function"?p._support().then(qe,U):qe(!!p._support):qe(!0)}catch(Dt){U(Dt)}});return c(P,$,T),P},h.prototype.driver=function(){return this._driver||null},h.prototype.getDriver=function(p,$,T){var P=br[p]?f.resolve(br[p]):f.reject(new Error("Driver not found."));return c(P,$,T),P},h.prototype.getSerializer=function(p){var $=f.resolve(_r);return c($,p),$},h.prototype.ready=function(p){var $=this,T=$._driverSet.then(function(){return $._ready===null&&($._ready=$._initDriver()),$._ready});return c(T,p,p),T},h.prototype.setDriver=function(p,$,T){var P=this;Ra(p)||(p=[p]);var M=this._getSupportedDrivers(p);function U(){P._config.driver=P.driver()}function Y(te){return P._extend(te),U(),P._ready=P._initStorage(P._config),P._ready}function G(te){return function(){var ge=0;function Ce(){for(;ge<te.length;){var Ae=te[ge];return ge++,P._dbInfo=null,P._ready=null,P.getDriver(Ae).then(Y).catch(Ce)}U();var He=new Error("No available storage method found.");return P._driverSet=f.reject(He),P._driverSet}return Ce()}}var X=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=X.then(function(){var te=M[0];return P._dbInfo=null,P._ready=null,P.getDriver(te).then(function(ge){P._driver=ge._driver,U(),P._wrapLibraryMethodsWithReady(),P._initDriver=G(M)})}).catch(function(){U();var te=new Error("No available storage method found.");return P._driverSet=f.reject(te),P._driverSet}),c(this._driverSet,$,T),this._driverSet},h.prototype.supports=function(p){return!!Na[p]},h.prototype._extend=function(p){zi(this,p)},h.prototype._getSupportedDrivers=function(p){for(var $=[],T=0,P=p.length;T<P;T++){var M=p[T];this.supports(M)&&$.push(M)}return $},h.prototype._wrapLibraryMethodsWithReady=function(){for(var p=0,$=Li.length;p<$;p++)Cs(this,Li[p])},h.prototype.createInstance=function(p){return new h(p)},h})(),Ts=new $s;r.exports=Ts},{3:3}]},{},[4])(4)})})(Ui)),Ui.exports}var ed=Jf();const td=Wl(ed),Hr=td.createInstance({name:"dnd-character-sheet",storeName:"characters"});async function nd(){const e=[];return await Hr.iterate(t=>{const n=dr(jr,t);e.push(n)}),e}async function rd(e,t){const n=dr(jr,{slug:e,name:t});return await Hr.setItem(e,n),n}async function id(e){const t=await Hr.getItem(e);return t===null?null:dr(jr,t)}async function ad(e){await Hr.setItem(e.slug,e)}async function od(e){await Hr.removeItem(e)}async function ld(e,t){const{parse:n}=await Ii(async()=>{const{parse:s}=await import("./index--Ug0Gu6p.js");return{parse:s}},[]),r=await fetch(Kf).then(s=>s.blob()),i=await fetch(Zf).then(s=>s.text()),a=n(i),o=dr(jr,{...a,slug:e}),l=await Yl(r,Tr,$r);o.avatar={...o.avatar,blob:r,...l},t.set(o)}var sd=B("<!> <!>",1),ud=B("<h2>Confirm Deletion</h2> <p>Are you sure you want to delete this character?</p> <!>",1),cd=B('<input required type="text" placeholder="New Character Name" class="svelte-1uilhb6"/> <!>',1),fd=B("<form><!></form>"),dd=B('<div class="grid svelte-1uilhb6"><!></div> <!> <div class="toolbar svelte-1uilhb6"><!></div>',1),vd=B("<!> <!> <!>",1);function hd(e,t){ke(t,!0);async function n(){const S=E(s).trim();if(S.length===0)return;const m=Lc(S);if(E(l).find(C=>C.slug===m)){la("A character with that name already exists.","error");return}const b=await rd(m,S);E(l).push(b),oe(s,""),oe(l,E(l),!0)}function r(S){oe(u,S,!0)}function i(){oe(u,null)}async function a(){if(!E(u))return;const S=E(u);oe(u,null),await od(S),oe(l,E(l).filter(m=>m.slug!==S),!0)}function o(S){S.preventDefault()}var l,s,u,d=Go([async()=>l=$e(xn(await nd())),()=>s=$e(""),()=>u=$e(null)]),f=vd(),v=J(f);Ca(v,{title:"Character select"});var c=A(v,2);on(c,[d[2]],[()=>E(u)],(S,m)=>{var b=C=>{on(C,[d[2]],void 0,D=>{$f(D,{get onclose(){return i},children:(O,x)=>{ue(O,{column:!0,children:(_,I)=>{var z=ud(),F=A(J(z),4);ue(F,{children:(H,q)=>{var j=sd(),W=J(j);on(W,[d[2]],void 0,Z=>{vt(W,{get onclick(){return i},children:(re,ae)=>{xe();var se=Ke("Cancel");R(re,se)},$$slots:{default:!0}})});var K=A(W,2);on(K,[d[2]],void 0,Z=>{vt(K,{get onclick(){return a},children:(re,ae)=>{xe();var se=Ke("Delete");R(re,se)},$$slots:{default:!0}})}),R(H,j)},$$slots:{default:!0}}),R(_,z)},$$slots:{default:!0}})},$$slots:{default:!0}})})};Le(S,C=>{E(m)&&C(b)})});var g=A(c,2);ue(g,{column:!0,children:(S,m)=>{var b=dd(),C=J(b),D=L(C);on(D,[d[0]],[()=>E(l)],(I,z)=>{gn(I,17,()=>E(z),F=>F.slug,(F,H)=>{Pf(F,{get character(){return E(H)},onDelete:()=>r(E(H).slug)})})}),N(C);var O=A(C,2);Lr(O);var x=A(O,2),_=L(x);zl(_,{children:(I,z)=>{ue(I,{column:!0,xl:!0,children:(F,H)=>{ue(F,{column:!0,align:"start",padding:!0,children:(q,j)=>{ue(q,{children:(W,K)=>{var Z=fd(),re=L(Z);ue(re,{children:(ae,se)=>{var pe=cd(),w=J(pe);Zn(w);var ee=A(w,2);on(ee,[d[2]],void 0,we=>{vt(ee,{type:"submit",get onclick(){return n},children:(y,he)=>{xe();var Ie=Ke("Create New Character");R(y,Ie)},$$slots:{default:!0}})}),Iu([d[1]],()=>{Jn(w,()=>E(s),we=>oe(s,we))}),R(ae,pe)},$$slots:{default:!0}}),N(Z),Ut("submit",Z,o),R(W,Z)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}}),N(x),R(S,b)}}),R(e,f),Ee()}const ot=ar({edit:!1,theme:"automatic",hasChanges:!1});ot.subscribe(e=>{e.hasChanges?window.onbeforeunload=()=>"There are unsaved changed, these will get lost if you continue":window.onbeforeunload=null});function pd(e){const t=n=>{if(n!=null){if(typeof n=="string"){const r=n.trim();return r===""||r.toLowerCase()==="none"?void 0:n}if(typeof n=="number")return n===0?void 0:n;if(Array.isArray(n)){const r=n.map(i=>t(i)).filter(i=>i!==void 0);return r.length===0?void 0:r}if(typeof n=="object"){const r=Object.entries(n).map(([i,a])=>[i,t(a)]).filter(([,i])=>i!==void 0);return r.length===0?void 0:Object.fromEntries(r)}return n}};return t(e)??{}}async function gd(e){let t=structuredClone(e);return t=pd(t),t=ji(t,"slug"),t.avatar&&(t.avatar.blob=null),t.spellSlots?.length===0&&(t=ji(t,"spellSlots")),t.weapons?.length===0&&(t=ji(t,"weapons")),(await Ii(()=>import("./index--Ug0Gu6p.js"),[])).stringify(t)}var md=B('<label class="checkbox svelte-136uhkj"><!> <input type="checkbox" class="svelte-136uhkj"/></label>');function _d(e,t){ke(t,!0);const n=()=>ze(ot,"$appSettings",r),[r,i]=Je();let a=mt(t,"checked",15);var o=md(),l=L(o);ht(l,{nopadding:!0,absolute:!0,transparent:!0,small:!0,noshadow:!0});var s=A(l,2);Zn(s),N(o),de(()=>s.disabled=!n().edit),vc(s,a),R(e,o),Ee(),i()}var yd=B("<div><!></div>");function bd(e,t){const n=mt(t,"hide",3,!0);var r=yd();let i;var a=L(r);ct(a,()=>t.children??Te),N(r),de(()=>i=Pt(r,1,"svelte-c0fsxz",null,i,{hide:n()})),R(e,r)}var wd=B('<input class="svelte-8ff5h4"/>'),xd=B('<div class="svelte-8ff5h4"> </div>');function Be(e,t){ke(t,!0);const n=()=>ze(ot,"$appSettings",r),[r,i]=Je();let a=mt(t,"value",15);const o=Oe(()=>typeof a()=="number"?"number":"text"),l=Oe(()=>n().edit);var s=Vt(),u=J(s);{var d=v=>{var c=wd();Zn(c),de(()=>Jt(c,"type",E(o))),Jn(c,a),R(v,c)},f=v=>{var c=xd(),g=L(c,!0);N(c),de(()=>We(g,a())),R(v,c)};Le(u,v=>{E(l)?v(d):v(f,!1)})}R(e,s),Ee(),i()}var Sd=B('<div class="divider svelte-1iq5b9c"><!></div>'),kd=B("<div><!></div> <!>",1);function Ve(e,t){const n=mt(t,"row",3,!1),r=mt(t,"cell",3,!1),i=Oe(()=>{if(n())return;let f="";return t.cells&&(f+=`--cells:${t.cells};`),t.fillCell&&(f+=`--full:${t.fillCell};`),f||void 0});var a=kd(),o=J(a);let l;var s=L(o);ct(s,()=>t.children??Te),N(o);var u=A(o,2);{var d=f=>{var v=Sd(),c=L(v);me(c,{}),N(v),R(f,v)};Le(u,f=>{n()&&f(d)})}de(()=>{sc(o,E(i)),l=Pt(o,1,"svelte-1iq5b9c",null,l,{table:n()===!1&&r()===!1,row:n(),cell:r(),centered:t.centered})}),R(e,a)}var Ed=B('<div class="value svelte-1ndak0x"><!></div> <button type="button">delete</button>',1),Id=B("<!> <!>",1),Pd=B("<strong>Qty</strong>"),Cd=B("<strong>Item</strong>"),$d=B("<strong>Notes</strong>"),Td=B("<!> <!> <!>",1),Ad=B('<span class="value svelte-1ndak0x"> </span>'),Dd=B('<span class="value svelte-1ndak0x"> </span>'),Rd=B('<span class="value svelte-1ndak0x"> </span>'),Nd=B("<!> <!> <!>",1),Od=B("<!> <!>",1),Ld=B('<div class="wrapper svelte-1ndak0x"><!></div>');function zd(e,t){ke(t,!0);const n=()=>ze(t.character,"$character",i),r=()=>ze(ot,"$appSettings",i),[i,a]=Je(),o=Oe(()=>n().inventory.flatMap(c=>{if(!c.trim())return[];const g=c.trim().match(/^(\d+)\s+(.*)$/),S=g?Number(g[1]):1,m=g?g[2]:c.trim(),[b,C]=Fc(m,"|");return{count:S,name:b,description:C}}));function l(){t.character.update(c=>(c.inventory.push(""),c))}function s(c){t.character.update(g=>(g.inventory.splice(c,1),g))}var u=Ld(),d=L(u);{var f=c=>{ue(c,{column:!0,children:(g,S)=>{var m=Id(),b=J(m);gn(b,1,()=>n().inventory,qn,(D,O,x)=>{ue(D,{align:"center",children:(_,I)=>{var z=Ed(),F=J(z),H=L(F);Be(H,{get value(){return n().inventory[x]},set value(j){fe(t.character,V(n).inventory[x]=j,V(n))}}),N(F);var q=A(F,2);q.__click=()=>s(x),R(_,z)},$$slots:{default:!0}})});var C=A(b,2);vt(C,{onclick:l,children:(D,O)=>{xe();var x=Ke("Add item");R(D,x)},$$slots:{default:!0}}),R(g,m)}})},v=c=>{Ve(c,{cells:3,children:(g,S)=>{var m=Od(),b=J(m);Ve(b,{row:!0,children:(D,O)=>{var x=Td(),_=J(x);Ve(_,{cell:!0,children:(F,H)=>{var q=Pd();R(F,q)},$$slots:{default:!0}});var I=A(_,2);Ve(I,{cell:!0,children:(F,H)=>{var q=Cd();R(F,q)},$$slots:{default:!0}});var z=A(I,2);Ve(z,{cell:!0,children:(F,H)=>{var q=$d();R(F,q)},$$slots:{default:!0}}),R(D,x)},$$slots:{default:!0}});var C=A(b,2);gn(C,17,()=>E(o),qn,(D,O)=>{Ve(D,{row:!0,children:(x,_)=>{var I=Nd(),z=J(I);Ve(z,{cell:!0,children:(q,j)=>{var W=Ad(),K=L(W,!0);N(W),de(()=>We(K,E(O).count)),R(q,W)},$$slots:{default:!0}});var F=A(z,2);Ve(F,{cell:!0,children:(q,j)=>{var W=Dd(),K=L(W,!0);N(W),de(()=>We(K,E(O).name)),R(q,W)},$$slots:{default:!0}});var H=A(F,2);Ve(H,{cell:!0,children:(q,j)=>{var W=Rd(),K=L(W,!0);N(W),de(()=>We(K,E(O).description)),R(q,W)},$$slots:{default:!0}}),R(x,I)},$$slots:{default:!0}})}),R(g,m)},$$slots:{default:!0}})};Le(d,c=>{r().edit?c(f):c(v,!1)})}N(u),R(e,u),Ee(),a()}Ct(["click"]);function Ta(e,t){ke(t,!0);const n=Oe(()=>Al(t.modifier));xe();var r=Ke();de(()=>We(r,E(n))),R(e,r),Ee()}var Fd=B('<div class="container"><div><div class="inner svelte-37b3kl"><!></div></div></div>');function Gl(e,t){var n=Fd(),r=L(n);let i;var a=L(r),o=L(a);ct(o,()=>t.children??Te),N(a),N(r),N(n),de(()=>i=Pt(r,1,"page svelte-37b3kl",null,i,{multiple:t.multiple})),R(e,n)}var Bd=B('<button type="button">delete</button>'),Md=B('<div class="line svelte-19rqkn5"><div class="value svelte-19rqkn5"><!></div> <!> <div class="value svelte-19rqkn5"><!></div> <!></div> <!>',1),qd=B('<div class="line svelte-19rqkn5"><span>Level</span> <!> <span>Slots</span></div> <!> <!> <!>',1);function jd(e,t){ke(t,!0);const n=()=>ze(t.character,"$character",i),r=()=>ze(ot,"$appSettings",i),[i,a]=Je();function o(){n().spellSlots.push({level:1,amount:0}),fe(t.character,V(n).spellSlots=n().spellSlots,V(n))}function l(s){n().spellSlots.splice(s,1),fe(t.character,V(n).spellSlots=n().spellSlots,V(n))}ue(e,{column:!0,sm:!0,children:(s,u)=>{var d=qd(),f=J(d),v=A(L(f),2);me(v,{vertical:!0}),xe(2),N(f);var c=A(f,2);me(c,{});var g=A(c,2);gn(g,1,()=>n().spellSlots,qn,(b,C,D)=>{var O=Md(),x=J(O),_=L(x),I=L(_);Be(I,{get value(){return E(C).level},set value(K){E(C).level=K,cn(i,"$character")}}),N(_);var z=A(_,2);me(z,{vertical:!0});var F=A(z,2),H=L(F);Be(H,{get value(){return E(C).amount},set value(K){E(C).amount=K,cn(i,"$character")}}),N(F);var q=A(F,2);{var j=K=>{var Z=Bd();Z.__click=()=>l(D),R(K,Z)};Le(q,K=>{r().edit&&K(j)})}N(x);var W=A(x,2);me(W,{}),R(b,O)});var S=A(g,2);{var m=b=>{vt(b,{onclick:o,children:(C,D)=>{xe();var O=Ke("Add spellslot level");R(C,O)},$$slots:{default:!0}})};Le(S,b=>{r().edit&&b(m)})}R(s,d)},$$slots:{default:!0}}),Ee(),a()}Ct(["click"]);var Hd=B("<textarea></textarea>"),Ud=B("<div> </div>");function uo(e,t){ke(t,!0);const n=()=>ze(ot,"$appSettings",r),[r,i]=Je();let a=mt(t,"value",15),o=$e(null);const l=()=>{E(o)&&(E(o).style.height="auto",E(o).style.minHeight=`${E(o).scrollHeight}px`)};Yt(()=>{l(),t.autofocus&&E(o)?.focus({preventScroll:!0})});var s=Vt();Ut("resize",$n,l);var u=J(s);{var d=v=>{var c=Hd();Au(c),c.__input=l;let g;ir(c,S=>oe(o,S),()=>E(o)),de(()=>g=Pt(c,1,"textarea svelte-1ilrf3m",null,g,{nopadding:t.nopadding})),Jn(c,a),R(v,c)},f=v=>{var c=Ud();let g;var S=L(c,!0);N(c),de(()=>{g=Pt(c,1,"textarea svelte-1ilrf3m",null,g,{nopadding:t.nopadding}),We(S,a())}),R(v,c)};Le(u,v=>{n().edit?v(d):v(f,!1)})}R(e,s),Ee(),i()}Ct(["input"]);var Vd=B('<p>Spell DC</p> <!> <p class="value big svelte-mrvj8r"> </p>',1),Yd=B('<p>Spellcasting</p> <!> <p class="value big svelte-mrvj8r"><!></p>',1),Wd=B("<!> <!> <!> <!> <div><!></div>",1),Gd=B("<span>Prepared</span>"),Qd=B("<span>Spell Name</span>"),Xd=B("<span>Notes</span>"),Kd=B("<!> <!> <!>",1),Zd=B('<div class="value svelte-mrvj8r"><!></div>'),Jd=B('<div class="value svelte-mrvj8r"><!></div>'),ev=B('<button type="button">delete</button>'),tv=B("<!> <!> <!> <!>",1),nv=B("<!> <!>",1),rv=B("<!> <!> <!>",1),iv=B('<div class="spells svelte-mrvj8r"><!></div>'),av=B('<div class="side svelte-mrvj8r"><!></div>'),ov=B('<div class="wrapper svelte-mrvj8r"><!> <div class="inventory svelte-mrvj8r"><!></div></div>');function lv(e,t){ke(t,!0);const n=()=>ze(t.character,"$character",i),r=()=>ze(ot,"$appSettings",i),[i,a]=Je(),o=Oe(()=>{const d=n().spellcastingAbility;return d==="none"?0:Pi(n().abilityScores[d])}),l=Oe(()=>8+E(o)+n().proficiencyBonus);function s(){t.character.update(d=>(d.spells.push(dr(Vl,{})),d))}function u(d){t.character.update(f=>(f.spells.splice(d,1),f))}Gl(e,{children:(d,f)=>{var v=ov(),c=L(v);{let m=Oe(()=>n().spells.length===0);bd(c,{get hide(){return E(m)},children:(b,C)=>{var D=av(),O=L(D);ue(O,{column:!0,children:(x,_)=>{var I=iv(),z=L(I);Lt(z,{title:"Spells",children:(F,H)=>{ue(F,{column:!0,children:(q,j)=>{ue(q,{column:!0,justify:"start",align:"start",children:(W,K)=>{var Z=rv(),re=J(Z);ue(re,{nogrow:!0,children:(w,ee)=>{ht(w,{noshadow:!0,small:!0,children:(we,y)=>{ue(we,{sm:!0,children:(he,Ie)=>{var _e=Wd(),Fe=J(_e);ue(Fe,{column:!0,align:"center",sm:!0,children:(nt,Dn)=>{var Qe=Vd(),Ue=A(J(Qe),2);me(Ue,{});var ft=A(Ue,2),Me=L(ft,!0);N(ft),de(()=>We(Me,E(l))),R(nt,Qe)},$$slots:{default:!0}});var je=A(Fe,2);me(je,{vertical:!0});var et=A(je,2);ue(et,{column:!0,align:"center",sm:!0,children:(nt,Dn)=>{var Qe=Yd(),Ue=A(J(Qe),2);me(Ue,{});var ft=A(Ue,2),Me=L(ft);Ta(Me,{get modifier(){return E(o)}}),N(ft),R(nt,Qe)},$$slots:{default:!0}});var st=A(et,2);me(st,{vertical:!0});var tt=A(st,2),qt=L(tt);jd(qt,{get character(){return t.character}}),N(tt),R(he,_e)},$$slots:{default:!0}})}})},$$slots:{default:!0}});var ae=A(re,2);Ve(ae,{cells:3,fillCell:3,children:(w,ee)=>{var we=nv(),y=J(we);Ve(y,{row:!0,children:(Ie,_e)=>{var Fe=Kd(),je=J(Fe);Ve(je,{cell:!0,children:(tt,qt)=>{var nt=Gd();R(tt,nt)},$$slots:{default:!0}});var et=A(je,2);Ve(et,{cell:!0,children:(tt,qt)=>{var nt=Qd();R(tt,nt)},$$slots:{default:!0}});var st=A(et,2);Ve(st,{cell:!0,children:(tt,qt)=>{var nt=Xd();R(tt,nt)},$$slots:{default:!0}}),R(Ie,Fe)},$$slots:{default:!0}});var he=A(y,2);gn(he,1,()=>n().spells,qn,(Ie,_e,Fe)=>{Ve(Ie,{row:!0,children:(je,et)=>{var st=tv(),tt=J(st);Ve(tt,{cell:!0,centered:!0,children:(Ue,ft)=>{_d(Ue,{get checked(){return E(_e).prepared},set checked(Me){E(_e).prepared=Me,cn(i,"$character")}})},$$slots:{default:!0}});var qt=A(tt,2);Ve(qt,{cell:!0,children:(Ue,ft)=>{var Me=Zd(),$t=L(Me);Be($t,{get value(){return E(_e).name},set value(an){E(_e).name=an,cn(i,"$character")}}),N(Me),R(Ue,Me)},$$slots:{default:!0}});var nt=A(qt,2);Ve(nt,{cell:!0,children:(Ue,ft)=>{var Me=Jd(),$t=L(Me);Be($t,{get value(){return E(_e).notes},set value(an){E(_e).notes=an,cn(i,"$character")}}),N(Me),R(Ue,Me)},$$slots:{default:!0}});var Dn=A(nt,2);{var Qe=Ue=>{Ve(Ue,{cell:!0,children:(ft,Me)=>{var $t=ev();$t.__click=()=>u(Fe),R(ft,$t)},$$slots:{default:!0}})};Le(Dn,Ue=>{r().edit&&Ue(Qe)})}R(je,st)},$$slots:{default:!0}})}),R(w,we)},$$slots:{default:!0}});var se=A(ae,2);{var pe=w=>{vt(w,{onclick:s,children:(ee,we)=>{xe();var y=Ke("Add spell");R(ee,y)},$$slots:{default:!0}})};Le(se,w=>{r().edit&&w(pe)})}R(W,Z)},$$slots:{default:!0}})},$$slots:{default:!0}})}}),N(I),R(x,I)},$$slots:{default:!0}}),N(D),R(b,D)},$$slots:{default:!0}})}var g=A(c,2),S=L(g);Lt(S,{title:"Inventory",children:(m,b)=>{zd(m,{get character(){return t.character}})}}),N(g),N(v),R(d,v)}}),Ee(),a()}Ct(["click"]);var sv=B('<div><input type="range" min="0" max="1" step="0.01"/></div> <div><input type="range" min="0" max="1" step="0.01"/></div> <div><input type="range" min="0" max="1" step="0.01"/></div> <input type="file" accept="image/*"/>',1),uv=B('<div class="controls svelte-112qgxv"><!></div>'),cv=B('<div class="container svelte-112qgxv"><div class="canvas"><!></div> <!></div>');function fv(e,t){ke(t,!0);const n=()=>ze(ot,"$appSettings",i),r=()=>ze(t.character,"$character",i),[i,a]=Je();let o=Oe(()=>n().edit),l=$e(null),s=$e(null);function u(c){E(o)&&oe(s,{x:r().avatar.x,y:r().avatar.y,pointerX:c.clientX,pointerY:c.clientY},!0)}function d(c){if(!E(o)||!E(s)||!E(l))return;const g=c.clientX-E(s).pointerX,S=c.clientY-E(s).pointerY,m=$r/Tr*r().avatar.scale;fe(t.character,V(r).avatar.x=E(s).x+g*m,V(r)),fe(t.character,V(r).avatar.y=E(s).y+S*m,V(r))}function f(){E(o)&&oe(s,null)}function v(c){if(!E(o)||(c.preventDefault(),!E(l)))return;const g=r().avatar.scale,S=Math.min(Math.max(.1,g-c.deltaY/1e3),10),m=E(l).getBoundingClientRect(),b=c.clientX-m.left,C=c.clientY-m.top,D=b/E(l).offsetWidth*Tr,O=C/E(l).offsetHeight*$r,x=(D-r().avatar.x)/g,_=(O-r().avatar.y)/g;fe(t.character,V(r).avatar.scale=S,V(r)),fe(t.character,V(r).avatar.x=D-x*S,V(r)),fe(t.character,V(r).avatar.y=O-_*S,V(r))}Ut("mouseup",$n,f),Ut("pointermove",$n,d),ht(e,{nopadding:!0,children:(c,g)=>{var S=cv(),m=L(S);m.__pointerdown=u;var b=L(m);{let O=Oe(()=>E(s)!==null);Ll(b,{get avatar(){return r().avatar},get disableEffects(){return E(O)}})}N(m),ir(m,O=>oe(l,O),()=>E(l));var C=A(m,2);{var D=O=>{var x=uv(),_=L(x);Lt(_,{children:(I,z)=>{ue(I,{column:!0,sm:!0,children:(F,H)=>{var q=sv(),j=J(q),W=L(j);Zn(W),N(j);var K=A(j,2),Z=L(K);Zn(Z),N(K);var re=A(K,2),ae=L(re);Zn(ae),N(re);var se=A(re,2);se.__input=async pe=>{const w=pe.currentTarget.files?.[0];if(w){const ee=await Yl(w,Tr,$r);fe(t.character,V(r).avatar.blob=w,V(r)),fe(t.character,V(r).avatar.x=ee.x,V(r)),fe(t.character,V(r).avatar.y=ee.y,V(r)),fe(t.character,V(r).avatar.scale=ee.scale,V(r))}pe.currentTarget.value=""},Jn(W,()=>r().avatar.contrast,pe=>fe(t.character,V(r).avatar.contrast=pe,V(r))),Jn(Z,()=>r().avatar.gray,pe=>fe(t.character,V(r).avatar.gray=pe,V(r))),Jn(ae,()=>r().avatar.black,pe=>fe(t.character,V(r).avatar.black=pe,V(r))),R(F,q)},$$slots:{default:!0}})}}),N(x),R(O,x)};Le(C,O=>{n().edit&&O(D)})}N(S),Ut("wheel",m,v),R(c,S)}}),Ee(),a()}Ct(["pointerdown","input"]);var dv=B('<div class="dot svelte-6jkwtr"></div> <div class="dot svelte-6jkwtr"></div> <div class="dot svelte-6jkwtr"></div>',1),vv=B('<!> <div class="label"> </div>',1);function co(e,t){ue(e,{column:!0,sm:!0,children:(n,r)=>{var i=vv(),a=J(i);ue(a,{children:(s,u)=>{var d=dv();xe(4),R(s,d)},$$slots:{default:!0}});var o=A(a,2),l=L(o,!0);N(o),de(()=>We(l,t.label)),R(n,i)},$$slots:{default:!0}})}var hv=B("<!> <span>current</span>",1),pv=B('<div class="value svelte-10uhbq3"><!></div> <!> <span>max</span>',1),gv=B("<!> <!> <!>",1),mv=B('<div class="label svelte-10uhbq3">Hitpoints</div> <!>',1),_v=B('<div style="height:3em;"></div> <!> <span>spend</span>',1),yv=B('<div class="value svelte-10uhbq3"><!></div> <!> <span>current</span>',1),bv=B('<div class="label svelte-10uhbq3">Hit Dice</div> <!> <!> <!>',1),wv=B('<div class="label svelte-10uhbq3">Death<br/>Saves</div> <!> <!> <!>',1),xv=B('<div class="inner svelte-10uhbq3"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!> <!> <!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div>'),Sv=B('<div class="container svelte-10uhbq3"><div class="armor svelte-10uhbq3"><div class="inner svelte-10uhbq3"><div class="label svelte-10uhbq3">Armor<br/>Class</div> <!> <div class="value svelte-10uhbq3"><!></div></div></div> <!></div>');function kv(e,t){ke(t,!0);const n=()=>ze(t.character,"$character",r),[r,i]=Je();var a=Sv(),o=L(a),l=L(o),s=A(L(l),2);me(s,{});var u=A(s,2),d=L(u);Be(d,{get value(){return n().armorClass},set value(v){fe(t.character,V(n).armorClass=v,V(n))}}),N(u),N(l),N(o);var f=A(o,2);Lt(f,{children:(v,c)=>{var g=xv(),S=L(g);Ha(S,()=>({"--flex-grow":"1"})),ue(S.lastChild,{column:!0,align:"center",children:(O,x)=>{var _=mv(),I=A(J(_),2);ue(I,{full:!0,children:(z,F)=>{var H=gv(),q=J(H);ue(q,{column:!0,align:"center",justify:"end",full:!0,children:(K,Z)=>{var re=hv(),ae=J(re);me(ae,{}),xe(2),R(K,re)},$$slots:{default:!0}});var j=A(q,2);me(j,{vertical:!0});var W=A(j,2);ue(W,{column:!0,align:"center",justify:"end",full:!0,children:(K,Z)=>{var re=pv(),ae=J(re),se=L(ae);Be(se,{get value(){return n().hitPoints},set value(w){fe(t.character,V(n).hitPoints=w,V(n))}}),N(ae);var pe=A(ae,2);me(pe,{}),xe(2),R(K,re)},$$slots:{default:!0}}),R(z,H)},$$slots:{default:!0}}),R(O,_)},$$slots:{default:!0}}),N(S);var m=A(S,2);me(m,{vertical:!0});var b=A(m,2);ue(b,{column:!0,align:"center",sm:!0,children:(O,x)=>{var _=bv(),I=A(J(_),2);Lr(I);var z=A(I,2);ue(z,{column:!0,full:!0,children:(H,q)=>{var j=_v(),W=A(J(j),2);me(W,{}),xe(2),R(H,j)},$$slots:{default:!0}});var F=A(z,2);ue(F,{column:!0,full:!0,children:(H,q)=>{var j=yv(),W=J(j),K=L(W);Be(K,{get value(){return n().hitDice},set value(re){fe(t.character,V(n).hitDice=re,V(n))}}),N(W);var Z=A(W,2);me(Z,{}),xe(2),R(H,j)},$$slots:{default:!0}}),R(O,_)},$$slots:{default:!0}});var C=A(b,2);me(C,{vertical:!0});var D=A(C,2);Ha(D,()=>({"--flex-grow":"0"})),ue(D.lastChild,{column:!0,children:(O,x)=>{var _=wv(),I=A(J(_),2);Lr(I);var z=A(I,2);co(z,{label:"successes"});var F=A(z,2);co(F,{label:"failures"}),R(O,_)},$$slots:{default:!0}}),N(D),N(g),R(v,g)}}),N(a),R(e,a),Ee(),i()}var Ev=B('<div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Level</div>',1),Iv=B('<div class="inner svelte-q5a7vm"><div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Player name</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Alignment</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Background</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Class</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Species</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Subclass</div></div> <div class="level svelte-q5a7vm"><!></div></div>');function Pv(e,t){ke(t,!0);const n=()=>ze(t.character,"$character",r),[r,i]=Je();ht(e,{children:(a,o)=>{var l=Iv(),s=L(l),u=L(s),d=L(u);Be(d,{get value(){return n().playerName},set value(se){fe(t.character,V(n).playerName=se,V(n))}}),N(u);var f=A(u,2);me(f,{}),xe(2),N(s);var v=A(s,2),c=L(v),g=L(c);Be(g,{get value(){return n().alignment},set value(se){fe(t.character,V(n).alignment=se,V(n))}}),N(c);var S=A(c,2);me(S,{}),xe(2),N(v);var m=A(v,2),b=L(m),C=L(b);Be(C,{get value(){return n().background},set value(se){fe(t.character,V(n).background=se,V(n))}}),N(b);var D=A(b,2);me(D,{}),xe(2),N(m);var O=A(m,2),x=L(O),_=L(x);Be(_,{get value(){return n().class},set value(se){fe(t.character,V(n).class=se,V(n))}}),N(x);var I=A(x,2);me(I,{}),xe(2),N(O);var z=A(O,2),F=L(z),H=L(F);Be(H,{get value(){return n().species},set value(se){fe(t.character,V(n).species=se,V(n))}}),N(F);var q=A(F,2);me(q,{}),xe(2),N(z);var j=A(z,2),W=L(j),K=L(W);Be(K,{get value(){return n().subclass},set value(se){fe(t.character,V(n).subclass=se,V(n))}}),N(W);var Z=A(W,2);me(Z,{}),xe(2),N(j);var re=A(j,2),ae=L(re);ue(ae,{column:!0,sm:!0,align:"center",children:(se,pe)=>{var w=Ev(),ee=J(w),we=L(ee);Be(we,{get value(){return n().level},set value(he){fe(t.character,V(n).level=he,V(n))}}),N(ee);var y=A(ee,2);me(y,{}),xe(2),R(se,w)},$$slots:{default:!0}}),N(re),N(l),R(a,l)}}),Ee(),i()}const fo=document.createElement("i");function Ql(e){const t="&"+e+";";fo.innerHTML=t;const n=fo.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function en(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function ut(e,t){return e.length>0?(en(e,e.length,0,t),e):t}const sa={}.hasOwnProperty;function Cv(e){const t={};let n=-1;for(;++n<e.length;)$v(t,e[n]);return t}function $v(e,t){let n;for(n in t){const i=(sa.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){sa.call(i,o)||(i[o]=[]);const l=a[o];Tv(i[o],Array.isArray(l)?l:l?[l]:[])}}}function Tv(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);en(e,0,0,r)}function Av(e){const t={};let n=-1;for(;++n<e.length;)Dv(t,e[n]);return t}function Dv(e,t){let n;for(n in t){const i=(sa.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a)i[o]=a[o]}}function Rv(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}const Nv={'"':"quot","&":"amp","<":"lt",">":"gt"};function Xl(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+Nv[n]+";"}}function zr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qt=An(/[A-Za-z]/),Et=An(/[\dA-Za-z]/),Ov=An(/[#-'*+\--9=?A-Z^-~]/);function ua(e){return e!==null&&(e<32||e===127)}const ca=An(/\d/),Lv=An(/[\dA-Fa-f]/),zv=An(/[!-/:-@[-`{-~]/);function le(e){return e!==null&&e<-2}function xt(e){return e!==null&&(e<0||e===32)}function Pe(e){return e===-2||e===-1||e===32}const Fv=An(new RegExp("\\p{P}|\\p{S}","u")),Bv=An(/\s/);function An(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function si(e,t){const n=Xl(Mv(e||""));if(!t)return n;const r=n.indexOf(":"),i=n.indexOf("?"),a=n.indexOf("#"),o=n.indexOf("/");return r<0||o>-1&&r>o||i>-1&&r>i||a>-1&&r>a||t.test(n.slice(0,r))?n:""}function Mv(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Et(e.charCodeAt(n+1))&&Et(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o="ï¿½"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}const vo={}.hasOwnProperty,ho=/^(https?|ircs?|mailto|xmpp)$/i,qv=/^https?$/i;function jv(e){const t=e||{};let n=!0;const r={},i=[[]],a=[],o=[],s=Av([{enter:{blockQuote:Z,codeFenced:pe,codeFencedFenceInfo:m,codeFencedFenceMeta:m,codeIndented:we,codeText:Di,content:an,definition:Dn,definitionDestinationString:Ue,definitionLabelString:m,definitionTitleString:m,emphasis:mr,htmlFlow:Kr,htmlText:gr,image:he,label:m,link:Ie,listItemMarker:q,listItemValue:H,listOrdered:z,listUnordered:F,paragraph:ae,reference:m,resource:et,resourceDestinationString:st,resourceTitleString:m,setextHeading:Ur,strong:Ai},exit:{atxHeading:Yr,atxHeadingSequence:vr,autolinkEmail:Oi,autolinkProtocol:ei,blockQuote:re,characterEscapeValue:bn,characterReferenceMarkerHexadecimal:Jr,characterReferenceMarkerNumeric:Jr,characterReferenceValue:Ni,codeFenced:y,codeFencedFence:ee,codeFencedFenceInfo:w,codeFencedFenceMeta:I,codeFlowValue:Xr,codeIndented:y,codeText:_r,codeTextData:bn,data:bn,definition:$t,definitionDestinationString:ft,definitionLabelString:Qe,definitionTitleString:Me,emphasis:Zr,hardBreakEscape:hr,hardBreakTrailing:hr,htmlFlow:pr,htmlFlowData:bn,htmlText:pr,htmlTextData:bn,image:nt,label:Fe,labelText:_e,lineEnding:Qr,link:nt,listOrdered:j,listUnordered:W,paragraph:se,reference:I,referenceString:je,resource:I,resourceDestinationString:tt,resourceTitleString:qt,setextHeading:Gr,setextHeadingLineSequence:Wr,setextHeadingText:Vr,strong:Ri,thematicBreak:Wt}},...t.htmlExtensions||[]]),u={definitions:r,tightStack:o},d={buffer:m,encode:_,getData:S,lineEndingIfNeeded:x,options:t,raw:D,resume:b,setData:g,tag:C};let f=t.defaultLineEnding;return v;function v(Q){let ne=-1,Xe=0;const St=[];let Tt=[],jt=[];for(;++ne<Q.length;)!f&&(Q[ne][1].type==="lineEnding"||Q[ne][1].type==="lineEndingBlank")&&(f=Q[ne][2].sliceSerialize(Q[ne][1])),(Q[ne][1].type==="listOrdered"||Q[ne][1].type==="listUnordered")&&(Q[ne][0]==="enter"?St.push(ne):c(Q.slice(St.pop(),ne))),Q[ne][1].type==="definition"&&(Q[ne][0]==="enter"?(jt=ut(jt,Q.slice(Xe,ne)),Xe=ne):(Tt=ut(Tt,Q.slice(Xe,ne+1)),Xe=ne+1));Tt=ut(Tt,jt),Tt=ut(Tt,Q.slice(Xe)),ne=-1;const At=Tt;for(s.enter.null&&s.enter.null.call(d);++ne<Q.length;){const ti=s[At[ne][0]],ni=At[ne][1].type,yr=ti[ni];vo.call(ti,ni)&&yr&&yr.call({sliceSerialize:At[ne][2].sliceSerialize,...d},At[ne][1])}return s.exit.null&&s.exit.null.call(d),i[0].join("")}function c(Q){const ne=Q.length;let Xe=0,St=0,Tt=!1,jt;for(;++Xe<ne;){const At=Q[Xe];if(At[1]._container)jt=void 0,At[0]==="enter"?St++:St--;else switch(At[1].type){case"listItemPrefix":{At[0]==="exit"&&(jt=!0);break}case"linePrefix":break;case"lineEndingBlank":{At[0]==="enter"&&!St&&(jt?jt=void 0:Tt=!0);break}default:jt=void 0}}Q[0][1]._loose=Tt}function g(Q,ne){u[Q]=ne}function S(Q){return u[Q]}function m(){i.push([])}function b(){return i.pop().join("")}function C(Q){n&&(g("lastWasTag",!0),i[i.length-1].push(Q))}function D(Q){g("lastWasTag"),i[i.length-1].push(Q)}function O(){D(f||`
`)}function x(){const Q=i[i.length-1],ne=Q[Q.length-1],Xe=ne?ne.charCodeAt(ne.length-1):null;Xe===10||Xe===13||Xe===null||O()}function _(Q){return S("ignoreEncode")?Q:Xl(Q)}function I(){b()}function z(Q){o.push(!Q._loose),x(),C("<ol"),g("expectFirstItem",!0)}function F(Q){o.push(!Q._loose),x(),C("<ul"),g("expectFirstItem",!0)}function H(Q){if(S("expectFirstItem")){const ne=Number.parseInt(this.sliceSerialize(Q),10);ne!==1&&C(' start="'+_(String(ne))+'"')}}function q(){S("expectFirstItem")?C(">"):K(),x(),C("<li>"),g("expectFirstItem"),g("lastWasTag")}function j(){K(),o.pop(),O(),C("</ol>")}function W(){K(),o.pop(),O(),C("</ul>")}function K(){S("lastWasTag")&&!S("slurpAllLineEndings")&&x(),C("</li>"),g("slurpAllLineEndings")}function Z(){o.push(!1),x(),C("<blockquote>")}function re(){o.pop(),x(),C("</blockquote>"),g("slurpAllLineEndings")}function ae(){o[o.length-1]||(x(),C("<p>")),g("slurpAllLineEndings")}function se(){o[o.length-1]?g("slurpAllLineEndings",!0):C("</p>")}function pe(){x(),C("<pre><code"),g("fencesCount",0)}function w(){const Q=b();C(' class="language-'+Q+'"')}function ee(){const Q=S("fencesCount")||0;Q||(C(">"),g("slurpOneLineEnding",!0)),g("fencesCount",Q+1)}function we(){x(),C("<pre><code>")}function y(){const Q=S("fencesCount");Q!==void 0&&Q<2&&u.tightStack.length>0&&!S("lastWasTag")&&O(),S("flowCodeSeenData")&&x(),C("</code></pre>"),Q!==void 0&&Q<2&&x(),g("flowCodeSeenData"),g("fencesCount"),g("slurpOneLineEnding")}function he(){a.push({image:!0}),n=void 0}function Ie(){a.push({})}function _e(Q){a[a.length-1].labelId=this.sliceSerialize(Q)}function Fe(){a[a.length-1].label=b()}function je(Q){a[a.length-1].referenceId=this.sliceSerialize(Q)}function et(){m(),a[a.length-1].destination=""}function st(){m(),g("ignoreEncode",!0)}function tt(){a[a.length-1].destination=b(),g("ignoreEncode")}function qt(){a[a.length-1].title=b()}function nt(){let Q=a.length-1;const ne=a[Q],Xe=ne.referenceId||ne.labelId,St=ne.destination===void 0?r[zr(Xe)]:ne;for(n=!0;Q--;)if(a[Q].image){n=void 0;break}ne.image?(C('<img src="'+si(St.destination,t.allowDangerousProtocol?void 0:qv)+'" alt="'),D(ne.label),C('"')):C('<a href="'+si(St.destination,t.allowDangerousProtocol?void 0:ho)+'"'),C(St.title?' title="'+St.title+'"':""),ne.image?C(" />"):(C(">"),D(ne.label),C("</a>")),a.pop()}function Dn(){m(),a.push({})}function Qe(Q){b(),a[a.length-1].labelId=this.sliceSerialize(Q)}function Ue(){m(),g("ignoreEncode",!0)}function ft(){a[a.length-1].destination=b(),g("ignoreEncode")}function Me(){a[a.length-1].title=b()}function $t(){const Q=a[a.length-1],ne=zr(Q.labelId);b(),vo.call(r,ne)||(r[ne]=a[a.length-1]),a.pop()}function an(){g("slurpAllLineEndings",!0)}function vr(Q){S("headingRank")||(g("headingRank",this.sliceSerialize(Q).length),x(),C("<h"+S("headingRank")+">"))}function Ur(){m(),g("slurpAllLineEndings")}function Vr(){g("slurpAllLineEndings",!0)}function Yr(){C("</h"+S("headingRank")+">"),g("headingRank")}function Wr(Q){g("headingRank",this.sliceSerialize(Q).charCodeAt(0)===61?1:2)}function Gr(){const Q=b();x(),C("<h"+S("headingRank")+">"),D(Q),C("</h"+S("headingRank")+">"),g("slurpAllLineEndings"),g("headingRank")}function bn(Q){D(_(this.sliceSerialize(Q)))}function Qr(Q){if(!S("slurpAllLineEndings")){if(S("slurpOneLineEnding")){g("slurpOneLineEnding");return}if(S("inCodeText")){D(" ");return}D(_(this.sliceSerialize(Q)))}}function Xr(Q){D(_(this.sliceSerialize(Q))),g("flowCodeSeenData",!0)}function hr(){C("<br />")}function Kr(){x(),gr()}function pr(){g("ignoreEncode")}function gr(){t.allowDangerousHtml&&g("ignoreEncode",!0)}function mr(){C("<em>")}function Ai(){C("<strong>")}function Di(){g("inCodeText",!0),C("<code>")}function _r(){g("inCodeText"),C("</code>")}function Zr(){C("</em>")}function Ri(){C("</strong>")}function Wt(){x(),C("<hr />")}function Jr(Q){g("characterReferenceType",Q.type)}function Ni(Q){const ne=this.sliceSerialize(Q),Xe=S("characterReferenceType")?Rv(ne,S("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):Ql(ne);D(_(Xe)),g("characterReferenceType")}function ei(Q){const ne=this.sliceSerialize(Q);C('<a href="'+si(ne,t.allowDangerousProtocol?void 0:ho)+'">'),D(_(ne)),C("</a>")}function Oi(Q){const ne=this.sliceSerialize(Q);C('<a href="'+si("mailto:"+ne)+'">'),D(_(ne)),C("</a>")}}function Ne(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(s){return Pe(s)?(e.enter(n),l(s)):t(s)}function l(s){return Pe(s)&&a++<i?(e.consume(s),l):(e.exit(n),t(s))}}const Hv={tokenize:Uv};function Uv(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ne(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return le(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),o)}}const Vv={tokenize:Yv},po={tokenize:Wv};function Yv(e){const t=this,n=[];let r=0,i,a,o;return l;function l(D){if(r<n.length){const O=n[r];return t.containerState=O[1],e.attempt(O[0].continuation,s,u)(D)}return u(D)}function s(D){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&C();const O=t.events.length;let x=O,_;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){_=t.events[x][1].end;break}b(r);let I=O;for(;I<t.events.length;)t.events[I][1].end={..._},I++;return en(t.events,x+1,0,t.events.slice(O)),t.events.length=I,u(D)}return l(D)}function u(D){if(r===n.length){if(!i)return v(D);if(i.currentConstruct&&i.currentConstruct.concrete)return g(D);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(po,d,f)(D)}function d(D){return i&&C(),b(r),v(D)}function f(D){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(D)}function v(D){return t.containerState={},e.attempt(po,c,g)(D)}function c(D){return r++,n.push([t.currentConstruct,t.containerState]),v(D)}function g(D){if(D===null){i&&C(),b(0),e.consume(D);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),S(D)}function S(D){if(D===null){m(e.exit("chunkFlow"),!0),b(0),e.consume(D);return}return le(D)?(e.consume(D),m(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(D),S)}function m(D,O){const x=t.sliceStream(D);if(O&&x.push(null),D.previous=a,a&&(a.next=D),a=D,i.defineSkip(D.start),i.write(x),t.parser.lazy[D.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const I=t.events.length;let z=I,F,H;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(F){H=t.events[z][1].end;break}F=!0}for(b(r),_=I;_<t.events.length;)t.events[_][1].end={...H},_++;en(t.events,z+1,0,t.events.slice(I)),t.events.length=_}}function b(D){let O=n.length;for(;O-- >D;){const x=n[O];t.containerState=x[1],x[0].exit.call(t,e)}n.length=D}function C(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Wv(e,t,n){return Ne(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function go(e){if(e===null||xt(e)||Bv(e))return 1;if(Fv(e))return 2}function Aa(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const fa={name:"attention",resolveAll:Gv,tokenize:Qv};function Gv(e,t){let n=-1,r,i,a,o,l,s,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},v={...e[n][1].start};mo(f,-s),mo(v,s),o={type:s>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:s>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},a={type:s>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:s>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ut(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ut(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=ut(u,Aa(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ut(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=ut(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,en(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Qv(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=go(r);let a;return o;function o(s){return a=s,e.enter("attentionSequence"),l(s)}function l(s){if(s===a)return e.consume(s),l;const u=e.exit("attentionSequence"),d=go(s),f=!d||d===2&&i||n.includes(s),v=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!v)),u._close=!!(a===42?v:v&&(d||!f)),t(s)}}function mo(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Xv={name:"autolink",tokenize:Kv};function Kv(e,t,n){let r=0;return i;function i(c){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(c){return Qt(c)?(e.consume(c),o):c===64?n(c):u(c)}function o(c){return c===43||c===45||c===46||Et(c)?(r=1,l(c)):u(c)}function l(c){return c===58?(e.consume(c),r=0,s):(c===43||c===45||c===46||Et(c))&&r++<32?(e.consume(c),l):(r=0,u(c))}function s(c){return c===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.exit("autolink"),t):c===null||c===32||c===60||ua(c)?n(c):(e.consume(c),s)}function u(c){return c===64?(e.consume(c),d):Ov(c)?(e.consume(c),u):n(c)}function d(c){return Et(c)?f(c):n(c)}function f(c){return c===46?(e.consume(c),r=0,d):c===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.exit("autolink"),t):v(c)}function v(c){if((c===45||Et(c))&&r++<63){const g=c===45?v:f;return e.consume(c),g}return n(c)}}const Ti={partial:!0,tokenize:Zv};function Zv(e,t,n){return r;function r(a){return Pe(a)?Ne(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||le(a)?t(a):n(a)}}const Kl={continuation:{tokenize:eh},exit:th,name:"blockQuote",tokenize:Jv};function Jv(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Pe(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function eh(e,t,n){const r=this;return i;function i(o){return Pe(o)?Ne(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(Kl,t,n)(o)}}function th(e){e.exit("blockQuote")}const Zl={name:"characterEscape",tokenize:nh};function nh(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return zv(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const Jl={name:"characterReference",tokenize:rh};function rh(e,t,n){const r=this;let i=0,a,o;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),s}function s(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=Et,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=Lv,d):(e.enter("characterReferenceValue"),a=7,o=ca,d(f))}function d(f){if(f===59&&i){const v=e.exit("characterReferenceValue");return o===Et&&!Ql(r.sliceSerialize(v))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),d):n(f)}}const _o={partial:!0,tokenize:ah},yo={concrete:!0,name:"codeFenced",tokenize:ih};function ih(e,t,n){const r=this,i={partial:!0,tokenize:x};let a=0,o=0,l;return s;function s(_){return u(_)}function u(_){const I=r.events[r.events.length-1];return a=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,l=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===l?(o++,e.consume(_),d):o<3?n(_):(e.exit("codeFencedFenceSequence"),Pe(_)?Ne(e,f,"whitespace")(_):f(_))}function f(_){return _===null||le(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(_o,S,O)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(_))}function v(_){return _===null||le(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):Pe(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ne(e,c,"whitespace")(_)):_===96&&_===l?n(_):(e.consume(_),v)}function c(_){return _===null||le(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||le(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===l?n(_):(e.consume(_),g)}function S(_){return e.attempt(i,O,m)(_)}function m(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),b}function b(_){return a>0&&Pe(_)?Ne(e,C,"linePrefix",a+1)(_):C(_)}function C(_){return _===null||le(_)?e.check(_o,S,O)(_):(e.enter("codeFlowValue"),D(_))}function D(_){return _===null||le(_)?(e.exit("codeFlowValue"),C(_)):(e.consume(_),D)}function O(_){return e.exit("codeFenced"),t(_)}function x(_,I,z){let F=0;return H;function H(Z){return _.enter("lineEnding"),_.consume(Z),_.exit("lineEnding"),q}function q(Z){return _.enter("codeFencedFence"),Pe(Z)?Ne(_,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):j(Z)}function j(Z){return Z===l?(_.enter("codeFencedFenceSequence"),W(Z)):z(Z)}function W(Z){return Z===l?(F++,_.consume(Z),W):F>=o?(_.exit("codeFencedFenceSequence"),Pe(Z)?Ne(_,K,"whitespace")(Z):K(Z)):z(Z)}function K(Z){return Z===null||le(Z)?(_.exit("codeFencedFence"),I(Z)):z(Z)}}}function ah(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Vi={name:"codeIndented",tokenize:lh},oh={partial:!0,tokenize:sh};function lh(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ne(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?s(u):le(u)?e.attempt(oh,o,s)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||le(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function s(u){return e.exit("codeIndented"),t(u)}}function sh(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):le(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Ne(e,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):le(o)?i(o):n(o)}}const uh={name:"codeText",previous:fh,resolve:ch,tokenize:dh};function ch(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function fh(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dh(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),s(f))}function s(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),s):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):le(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||le(f)?(e.exit("codeTextData"),s(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class vh{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&xr(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),xr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),xr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);xr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);xr(this.left,n.reverse())}}}function xr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function es(e){const t={};let n=-1,r,i,a,o,l,s,u;const d=new vh(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,a=0,a<s.length&&s[a][1].type==="lineEndingBlank"&&(a+=2),a<s.length&&s[a][1].type==="content"))for(;++a<s.length&&s[a][1].type!=="content";)s[a][1].type==="chunkText"&&(s[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,hh(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return en(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function hh(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,s=[],u={};let d,f,v=-1,c=n,g=0,S=0;const m=[S];for(;c;){for(;e.get(++i)[1]!==c;);a.push(i),c._tokenizer||(d=r.sliceStream(c),c.next||d.push(null),f&&o.defineSkip(c.start),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=c,c=c.next}for(c=n;++v<l.length;)l[v][0]==="exit"&&l[v-1][0]==="enter"&&l[v][1].type===l[v-1][1].type&&l[v][1].start.line!==l[v][1].end.line&&(S=v+1,m.push(S),c._tokenizer=void 0,c.previous=void 0,c=c.next);for(o.events=[],c?(c._tokenizer=void 0,c.previous=void 0):m.pop(),v=m.length;v--;){const b=l.slice(m[v],m[v+1]),C=a.pop();s.push([C,C+b.length-1]),e.splice(C,2,b)}for(s.reverse(),v=-1;++v<s.length;)u[g+s[v][0]]=g+s[v][1],g+=s[v][1]-s[v][0]-1;return u}const ph={resolve:mh,tokenize:_h},gh={partial:!0,tokenize:yh};function mh(e){return es(e),e}function _h(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):le(l)?e.check(gh,o,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function yh(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ne(e,a,"linePrefix")}function a(o){if(o===null||le(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function ts(e,t,n,r,i,a,o,l,s){const u=s||Number.POSITIVE_INFINITY;let d=0;return f;function f(b){return b===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(b),e.exit(a),v):b===null||b===32||b===41||ua(b)?n(b):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),S(b))}function v(b){return b===62?(e.enter(a),e.consume(b),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),c(b))}function c(b){return b===62?(e.exit("chunkString"),e.exit(l),v(b)):b===null||b===60||le(b)?n(b):(e.consume(b),b===92?g:c)}function g(b){return b===60||b===62||b===92?(e.consume(b),c):c(b)}function S(b){return!d&&(b===null||b===41||xt(b))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(b)):d<u&&b===40?(e.consume(b),d++,S):b===41?(e.consume(b),d--,S):b===null||b===32||b===40||ua(b)?n(b):(e.consume(b),b===92?m:S)}function m(b){return b===40||b===41||b===92?(e.consume(b),S):S(b)}}function ns(e,t,n,r,i,a){const o=this;let l=0,s;return u;function u(c){return e.enter(r),e.enter(i),e.consume(c),e.exit(i),e.enter(a),d}function d(c){return l>999||c===null||c===91||c===93&&!s||c===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(c):c===93?(e.exit(a),e.enter(i),e.consume(c),e.exit(i),e.exit(r),t):le(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(c))}function f(c){return c===null||c===91||c===93||le(c)||l++>999?(e.exit("chunkString"),d(c)):(e.consume(c),s||(s=!Pe(c)),c===92?v:f)}function v(c){return c===91||c===92||c===93?(e.consume(c),l++,f):f(c)}}function rs(e,t,n,r,i,a){let o;return l;function l(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),o=v===40?41:v,s):n(v)}function s(v){return v===o?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(a),u(v))}function u(v){return v===o?(e.exit(a),s(o)):v===null?n(v):le(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Ne(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(v))}function d(v){return v===o||v===null||le(v)?(e.exit("chunkString"),u(v)):(e.consume(v),v===92?f:d)}function f(v){return v===o||v===92?(e.consume(v),d):d(v)}}function Ar(e,t){let n;return r;function r(i){return le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Pe(i)?Ne(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const bh={name:"definition",tokenize:xh},wh={partial:!0,tokenize:Sh};function xh(e,t,n){const r=this;let i;return a;function a(c){return e.enter("definition"),o(c)}function o(c){return ns.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function l(c){return i=zr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),c===58?(e.enter("definitionMarker"),e.consume(c),e.exit("definitionMarker"),s):n(c)}function s(c){return xt(c)?Ar(e,u)(c):u(c)}function u(c){return ts(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(c)}function d(c){return e.attempt(wh,f,f)(c)}function f(c){return Pe(c)?Ne(e,v,"whitespace")(c):v(c)}function v(c){return c===null||le(c)?(e.exit("definition"),r.parser.defined.push(i),t(c)):n(c)}}function Sh(e,t,n){return r;function r(l){return xt(l)?Ar(e,i)(l):n(l)}function i(l){return rs(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return Pe(l)?Ne(e,o,"whitespace")(l):o(l)}function o(l){return l===null||le(l)?t(l):n(l)}}const kh={name:"hardBreakEscape",tokenize:Eh};function Eh(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return le(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Ih={name:"headingAtx",resolve:Ph,tokenize:Ch};function Ph(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},en(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Ch(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||xt(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),s(d)):d===null||le(d)?(e.exit("atxHeading"),t(d)):Pe(d)?Ne(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function s(d){return d===35?(e.consume(d),s):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||xt(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const $h=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bo=["pre","script","style","textarea"],Th={concrete:!0,name:"htmlFlow",resolveTo:Rh,tokenize:Nh},Ah={partial:!0,tokenize:Lh},Dh={partial:!0,tokenize:Oh};function Rh(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Nh(e,t,n){const r=this;let i,a,o,l,s;return u;function u(y){return d(y)}function d(y){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(y),f}function f(y){return y===33?(e.consume(y),v):y===47?(e.consume(y),a=!0,S):y===63?(e.consume(y),i=3,r.interrupt?t:w):Qt(y)?(e.consume(y),o=String.fromCharCode(y),m):n(y)}function v(y){return y===45?(e.consume(y),i=2,c):y===91?(e.consume(y),i=5,l=0,g):Qt(y)?(e.consume(y),i=4,r.interrupt?t:w):n(y)}function c(y){return y===45?(e.consume(y),r.interrupt?t:w):n(y)}function g(y){const he="CDATA[";return y===he.charCodeAt(l++)?(e.consume(y),l===he.length?r.interrupt?t:j:g):n(y)}function S(y){return Qt(y)?(e.consume(y),o=String.fromCharCode(y),m):n(y)}function m(y){if(y===null||y===47||y===62||xt(y)){const he=y===47,Ie=o.toLowerCase();return!he&&!a&&bo.includes(Ie)?(i=1,r.interrupt?t(y):j(y)):$h.includes(o.toLowerCase())?(i=6,he?(e.consume(y),b):r.interrupt?t(y):j(y)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(y):a?C(y):D(y))}return y===45||Et(y)?(e.consume(y),o+=String.fromCharCode(y),m):n(y)}function b(y){return y===62?(e.consume(y),r.interrupt?t:j):n(y)}function C(y){return Pe(y)?(e.consume(y),C):H(y)}function D(y){return y===47?(e.consume(y),H):y===58||y===95||Qt(y)?(e.consume(y),O):Pe(y)?(e.consume(y),D):H(y)}function O(y){return y===45||y===46||y===58||y===95||Et(y)?(e.consume(y),O):x(y)}function x(y){return y===61?(e.consume(y),_):Pe(y)?(e.consume(y),x):D(y)}function _(y){return y===null||y===60||y===61||y===62||y===96?n(y):y===34||y===39?(e.consume(y),s=y,I):Pe(y)?(e.consume(y),_):z(y)}function I(y){return y===s?(e.consume(y),s=null,F):y===null||le(y)?n(y):(e.consume(y),I)}function z(y){return y===null||y===34||y===39||y===47||y===60||y===61||y===62||y===96||xt(y)?x(y):(e.consume(y),z)}function F(y){return y===47||y===62||Pe(y)?D(y):n(y)}function H(y){return y===62?(e.consume(y),q):n(y)}function q(y){return y===null||le(y)?j(y):Pe(y)?(e.consume(y),q):n(y)}function j(y){return y===45&&i===2?(e.consume(y),re):y===60&&i===1?(e.consume(y),ae):y===62&&i===4?(e.consume(y),ee):y===63&&i===3?(e.consume(y),w):y===93&&i===5?(e.consume(y),pe):le(y)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Ah,we,W)(y)):y===null||le(y)?(e.exit("htmlFlowData"),W(y)):(e.consume(y),j)}function W(y){return e.check(Dh,K,we)(y)}function K(y){return e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),Z}function Z(y){return y===null||le(y)?W(y):(e.enter("htmlFlowData"),j(y))}function re(y){return y===45?(e.consume(y),w):j(y)}function ae(y){return y===47?(e.consume(y),o="",se):j(y)}function se(y){if(y===62){const he=o.toLowerCase();return bo.includes(he)?(e.consume(y),ee):j(y)}return Qt(y)&&o.length<8?(e.consume(y),o+=String.fromCharCode(y),se):j(y)}function pe(y){return y===93?(e.consume(y),w):j(y)}function w(y){return y===62?(e.consume(y),ee):y===45&&i===2?(e.consume(y),w):j(y)}function ee(y){return y===null||le(y)?(e.exit("htmlFlowData"),we(y)):(e.consume(y),ee)}function we(y){return e.exit("htmlFlow"),t(y)}}function Oh(e,t,n){const r=this;return i;function i(o){return le(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Lh(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ti,t,n)}}const zh={name:"htmlText",tokenize:Fh};function Fh(e,t,n){const r=this;let i,a,o;return l;function l(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),s}function s(w){return w===33?(e.consume(w),u):w===47?(e.consume(w),x):w===63?(e.consume(w),D):Qt(w)?(e.consume(w),z):n(w)}function u(w){return w===45?(e.consume(w),d):w===91?(e.consume(w),a=0,g):Qt(w)?(e.consume(w),C):n(w)}function d(w){return w===45?(e.consume(w),c):n(w)}function f(w){return w===null?n(w):w===45?(e.consume(w),v):le(w)?(o=f,ae(w)):(e.consume(w),f)}function v(w){return w===45?(e.consume(w),c):f(w)}function c(w){return w===62?re(w):w===45?v(w):f(w)}function g(w){const ee="CDATA[";return w===ee.charCodeAt(a++)?(e.consume(w),a===ee.length?S:g):n(w)}function S(w){return w===null?n(w):w===93?(e.consume(w),m):le(w)?(o=S,ae(w)):(e.consume(w),S)}function m(w){return w===93?(e.consume(w),b):S(w)}function b(w){return w===62?re(w):w===93?(e.consume(w),b):S(w)}function C(w){return w===null||w===62?re(w):le(w)?(o=C,ae(w)):(e.consume(w),C)}function D(w){return w===null?n(w):w===63?(e.consume(w),O):le(w)?(o=D,ae(w)):(e.consume(w),D)}function O(w){return w===62?re(w):D(w)}function x(w){return Qt(w)?(e.consume(w),_):n(w)}function _(w){return w===45||Et(w)?(e.consume(w),_):I(w)}function I(w){return le(w)?(o=I,ae(w)):Pe(w)?(e.consume(w),I):re(w)}function z(w){return w===45||Et(w)?(e.consume(w),z):w===47||w===62||xt(w)?F(w):n(w)}function F(w){return w===47?(e.consume(w),re):w===58||w===95||Qt(w)?(e.consume(w),H):le(w)?(o=F,ae(w)):Pe(w)?(e.consume(w),F):re(w)}function H(w){return w===45||w===46||w===58||w===95||Et(w)?(e.consume(w),H):q(w)}function q(w){return w===61?(e.consume(w),j):le(w)?(o=q,ae(w)):Pe(w)?(e.consume(w),q):F(w)}function j(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),i=w,W):le(w)?(o=j,ae(w)):Pe(w)?(e.consume(w),j):(e.consume(w),K)}function W(w){return w===i?(e.consume(w),i=void 0,Z):w===null?n(w):le(w)?(o=W,ae(w)):(e.consume(w),W)}function K(w){return w===null||w===34||w===39||w===60||w===61||w===96?n(w):w===47||w===62||xt(w)?F(w):(e.consume(w),K)}function Z(w){return w===47||w===62||xt(w)?F(w):n(w)}function re(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):n(w)}function ae(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),se}function se(w){return Pe(w)?Ne(e,pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):pe(w)}function pe(w){return e.enter("htmlTextData"),o(w)}}const Da={name:"labelEnd",resolveAll:jh,resolveTo:Hh,tokenize:Uh},Bh={tokenize:Vh},Mh={tokenize:Yh},qh={tokenize:Wh};function jh(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&en(e,0,e.length,n),e}function Hh(e,t){let n=e.length,r=0,i,a,o,l;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const s={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",s,t],["enter",u,t]],l=ut(l,e.slice(a+1,a+r+3)),l=ut(l,[["enter",d,t]]),l=ut(l,Aa(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),l=ut(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=ut(l,e.slice(o+1)),l=ut(l,[["exit",s,t]]),en(e,a,e.length,l),e}function Uh(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(v){return a?a._inactive?f(v):(o=r.parser.defined.includes(zr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),s):n(v)}function s(v){return v===40?e.attempt(Bh,d,o?d:f)(v):v===91?e.attempt(Mh,d,o?u:f)(v):o?d(v):f(v)}function u(v){return e.attempt(qh,d,f)(v)}function d(v){return t(v)}function f(v){return a._balanced=!0,n(v)}}function Vh(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return xt(f)?Ar(e,a)(f):a(f)}function a(f){return f===41?d(f):ts(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return xt(f)?Ar(e,s)(f):d(f)}function l(f){return n(f)}function s(f){return f===34||f===39||f===40?rs(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return xt(f)?Ar(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Yh(e,t,n){const r=this;return i;function i(l){return ns.call(r,e,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(zr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function Wh(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Gh={name:"labelStartImage",resolveAll:Da.resolveAll,tokenize:Qh};function Qh(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Xh={name:"labelStartLink",resolveAll:Da.resolveAll,tokenize:Kh};function Kh(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Yi={name:"lineEnding",tokenize:Zh};function Zh(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ne(e,t,"linePrefix")}}const ci={name:"thematicBreak",tokenize:Jh};function Jh(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),s(u)):r>=3&&(u===null||le(u))?(e.exit("thematicBreak"),t(u)):n(u)}function s(u){return u===i?(e.consume(u),r++,s):(e.exit("thematicBreakSequence"),Pe(u)?Ne(e,l,"whitespace")(u):l(u))}}const yt={continuation:{tokenize:rp},exit:ap,name:"list",tokenize:np},ep={partial:!0,tokenize:op},tp={partial:!0,tokenize:ip};function np(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(c){const g=r.containerState.type||(c===42||c===43||c===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||c===r.containerState.marker:ca(c)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),c===42||c===45?e.check(ci,n,u)(c):u(c);if(!r.interrupt||c===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(c)}return n(c)}function s(c){return ca(c)&&++o<10?(e.consume(c),s):(!r.interrupt||o<2)&&(r.containerState.marker?c===r.containerState.marker:c===41||c===46)?(e.exit("listItemValue"),u(c)):n(c)}function u(c){return e.enter("listItemMarker"),e.consume(c),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||c,e.check(Ti,r.interrupt?n:d,e.attempt(ep,v,f))}function d(c){return r.containerState.initialBlankLine=!0,a++,v(c)}function f(c){return Pe(c)?(e.enter("listItemPrefixWhitespace"),e.consume(c),e.exit("listItemPrefixWhitespace"),v):n(c)}function v(c){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(c)}}function rp(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ti,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ne(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!Pe(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(tp,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ne(e,e.attempt(yt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function ip(e,t,n){const r=this;return Ne(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function ap(e){e.exit(this.containerState.type)}function op(e,t,n){const r=this;return Ne(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Pe(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const wo={name:"setextUnderline",resolveTo:lp,tokenize:sp};function lp(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function sp(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),Pe(u)?Ne(e,s,"lineSuffix")(u):s(u))}function s(u){return u===null||le(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const up={tokenize:cp};function cp(e){const t=this,n=e.attempt(Ti,r,e.attempt(this.parser.constructs.flowInitial,i,Ne(e,e.attempt(this.parser.constructs.flow,i,e.attempt(ph,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const fp={resolveAll:as()},dp=is("string"),vp=is("text");function is(e){return{resolveAll:as(e==="text"?hp:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,l);return o;function o(d){return u(d)?a(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),s}function s(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),s)}function u(d){if(d===null)return!0;const f=i[d];let v=-1;if(f)for(;++v<f.length;){const c=f[v];if(!c.previous||c.previous.call(r,r.previous))return!0}return!1}}}function as(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function hp(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,l=0,s;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)s=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||s||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const pp={42:yt,43:yt,45:yt,48:yt,49:yt,50:yt,51:yt,52:yt,53:yt,54:yt,55:yt,56:yt,57:yt,62:Kl},gp={91:bh},mp={[-2]:Vi,[-1]:Vi,32:Vi},_p={35:Ih,42:ci,45:[wo,ci],60:Th,61:wo,95:ci,96:yo,126:yo},yp={38:Jl,92:Zl},bp={[-5]:Yi,[-4]:Yi,[-3]:Yi,33:Gh,38:Jl,42:fa,60:[Xv,zh],91:Xh,92:[kh,Zl],93:Da,95:fa,96:uh},wp={null:[fa,fp]},xp={null:[42,95]},Sp={null:[]},kp=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:xp,contentInitial:gp,disable:Sp,document:pp,flow:_p,flowInitial:mp,insideSpan:wp,string:yp,text:bp},Symbol.toStringTag,{value:"Module"}));function Ep(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],l=[];const s={attempt:I(x),check:I(_),consume:C,enter:D,exit:O,interrupt:I(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:S,events:[],now:g,parser:e,previous:null,sliceSerialize:v,sliceStream:c,write:f};let d=t.tokenize.call(u,s);return t.resolveAll&&a.push(t),u;function f(q){return o=ut(o,q),m(),o[o.length-1]!==null?[]:(z(t,0),u.events=Aa(a,u.events,u),u.events)}function v(q,j){return Pp(c(q),j)}function c(q){return Ip(o,q)}function g(){const{_bufferIndex:q,_index:j,line:W,column:K,offset:Z}=r;return{_bufferIndex:q,_index:j,line:W,column:K,offset:Z}}function S(q){i[q.line]=q.column,H()}function m(){let q;for(;r._index<o.length;){const j=o[r._index];if(typeof j=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<j.length;)b(j.charCodeAt(r._bufferIndex));else b(j)}}function b(q){d=d(q)}function C(q){le(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,H()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=q}function D(q,j){const W=j||{};return W.type=q,W.start=g(),u.events.push(["enter",W,u]),l.push(W),W}function O(q){const j=l.pop();return j.end=g(),u.events.push(["exit",j,u]),j}function x(q,j){z(q,j.from)}function _(q,j){j.restore()}function I(q,j){return W;function W(K,Z,re){let ae,se,pe,w;return Array.isArray(K)?we(K):"tokenize"in K?we([K]):ee(K);function ee(_e){return Fe;function Fe(je){const et=je!==null&&_e[je],st=je!==null&&_e.null,tt=[...Array.isArray(et)?et:et?[et]:[],...Array.isArray(st)?st:st?[st]:[]];return we(tt)(je)}}function we(_e){return ae=_e,se=0,_e.length===0?re:y(_e[se])}function y(_e){return Fe;function Fe(je){return w=F(),pe=_e,_e.partial||(u.currentConstruct=_e),_e.name&&u.parser.constructs.disable.null.includes(_e.name)?Ie():_e.tokenize.call(j?Object.assign(Object.create(u),j):u,s,he,Ie)(je)}}function he(_e){return q(pe,w),Z}function Ie(_e){return w.restore(),++se<ae.length?y(ae[se]):re}}}function z(q,j){q.resolveAll&&!a.includes(q)&&a.push(q),q.resolve&&en(u.events,j,u.events.length-j,q.resolve(u.events.slice(j),u)),q.resolveTo&&(u.events=q.resolveTo(u.events,u))}function F(){const q=g(),j=u.previous,W=u.currentConstruct,K=u.events.length,Z=Array.from(l);return{from:K,restore:re};function re(){r=q,u.previous=j,u.currentConstruct=W,u.events.length=K,l=Z,H()}}function H(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Ip(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function Pp(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function Cp(e){const r={constructs:Cv([kp,...(e||{}).extensions||[]]),content:i(Hv),defined:[],document:i(Vv),flow:i(up),lazy:{},string:i(dp),text:i(vp)};return r;function i(a){return o;function o(l){return Ep(r,a,l)}}}function $p(e){for(;!es(e););return e}const xo=/[\0\t\n\r]/g;function Tp(){let e=1,t="",n=!0,r;return i;function i(a,o,l){const s=[];let u,d,f,v,c;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(xo.lastIndex=f,u=xo.exec(a),v=u&&u.index!==void 0?u.index:a.length,c=a.charCodeAt(v),!u){t=a.slice(f);break}if(c===10&&f===v&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),f<v&&(s.push(a.slice(f,v)),e+=v-f),c){case 0:{s.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,s.push(-2);e++<d;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:r=!0,e=1}f=v+1}return l&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}function Ap(e,t,n){return typeof t!="string"&&(n=t,t=void 0),jv(n)($p(Cp(n).document().write(Tp()(e,t,!0))))}var Dp=B('<form method="dialog"><button type="submit">Close</button></form> <!>',1),Rp=B('<div class="content svelte-z28whr"><button type="button" class="svelte-z28whr">â¶</button> <!></div> <dialog class="svelte-z28whr"><!></dialog>',1),Np=B('<div class="content svelte-z28whr"><!></div>');function Sr(e,t){ke(t,!0);const n=()=>ze(ot,"$appSettings",r),[r,i]=Je();let a=mt(t,"code",15);const o=Oe(()=>Ap(a()));let l=Oe(()=>n().edit),s=$e(null);function u(){E(s)&&E(s).showModal()}function d(S){if(E(s)){var m=E(s).getBoundingClientRect(),b=m.top<=S.clientY&&S.clientY<=m.top+m.height&&m.left<=S.clientX&&S.clientX<=m.left+m.width;b||E(s).close()}}var f=Vt(),v=J(f);{var c=S=>{var m=Rp(),b=J(m),C=L(b);C.__click=u;var D=A(C,2);uo(D,{autofocus:!0,get value(){return a()},set value(_){a(_)}}),N(b);var O=A(b,2);O.__click=d;var x=L(O);ue(x,{column:!0,align:"end",children:(_,I)=>{var z=Dp(),F=A(J(z),2);uo(F,{autofocus:!0,get value(){return a()},set value(H){a(H)}}),R(_,z)}}),N(O),ir(O,_=>oe(s,_),()=>E(s)),R(S,m)},g=S=>{var m=Np(),b=L(m);{var C=D=>{var O=Vt(),x=J(O);ec(x,()=>E(o)),R(D,O)};Le(b,D=>{E(o)&&D(C)})}N(m),R(S,m)};Le(v,S=>{E(l)?S(c):S(g,!1)})}R(e,f),Ee(),i()}Ct(["click"]);var Op=B('<span class="label svelte-xov0bq">Inspiration</span> <div style="min-height: 1.4em"></div>',1),Lp=B('<span class="label svelte-xov0bq">Size</span> <span class="value svelte-xov0bq"><!></span>',1),zp=B('<span class="label svelte-xov0bq">Initiative</span> <span class="value svelte-xov0bq"> </span>',1),Fp=B('<span class="label svelte-xov0bq">Speed</span> <span class="value svelte-xov0bq"><!></span>',1),Bp=B('<span class="label svelte-xov0bq">Proficiency Bonus</span> <span class="value svelte-xov0bq"><!></span>',1),Mp=B("<!> <!> <!> <!> <!>",1);function qp(e,t){ke(t,!0);const n=()=>ze(t.character,"$character",r),[r,i]=Je();ue(e,{column:!0,justify:"between",sm:!0,children:(a,o)=>{var l=Mp(),s=J(l);ht(s,{nogrow:!0,children:(c,g)=>{ue(c,{column:!0,sm:!0,children:(S,m)=>{var b=Op();xe(2),R(S,b)},$$slots:{default:!0}})}});var u=A(s,2);ht(u,{nogrow:!0,children:(c,g)=>{ue(c,{column:!0,sm:!0,children:(S,m)=>{var b=Lp(),C=A(J(b),2),D=L(C);Be(D,{get value(){return n().size},set value(O){fe(t.character,V(n).size=O,V(n))}}),N(C),R(S,b)},$$slots:{default:!0}})}});var d=A(u,2);ht(d,{nogrow:!0,children:(c,g)=>{ue(c,{column:!0,sm:!0,children:(S,m)=>{var b=zp(),C=A(J(b),2),D=L(C,!0);N(C),de(O=>We(D,O),[()=>Al(Pi(n().abilityScores.dex))]),R(S,b)},$$slots:{default:!0}})}});var f=A(d,2);ht(f,{nogrow:!0,children:(c,g)=>{ue(c,{column:!0,sm:!0,children:(S,m)=>{var b=Fp(),C=A(J(b),2),D=L(C);Be(D,{get value(){return n().speed},set value(O){fe(t.character,V(n).speed=O,V(n))}}),N(C),R(S,b)},$$slots:{default:!0}})}});var v=A(f,2);ht(v,{nogrow:!0,children:(c,g)=>{ue(c,{column:!0,sm:!0,children:(S,m)=>{var b=Bp(),C=A(J(b),2),D=L(C);Be(D,{get value(){return n().proficiencyBonus},set value(O){fe(t.character,V(n).proficiencyBonus=O,V(n))}}),N(C),R(S,b)},$$slots:{default:!0}})}}),R(a,l)},$$slots:{default:!0}}),Ee(),i()}const jp={acrobatics:"Acrobatics",animalHandling:"Animal Handling",arcana:"Arcana",athletics:"Athletics",deception:"Deception",history:"History",insight:"Insight",intimidation:"Intimidation",investigation:"Investigation",medicine:"Medicine",nature:"Nature",perception:"Perception",performance:"Performance",persuasion:"Persuasion",religion:"Religion",sleightOfHand:"Sleight of Hand",stealth:"Stealth",survival:"Survival",str:"Strength",dex:"Dexterity",con:"Constitution",int:"Intelligence",wis:"Wisdom",cha:"Charisma",none:"None",savingThrow:"Saving Throw"};function os(e){return jp[e]}var Hp=B('<div class="item svelte-1wvd7v4"><div class="name svelte-1wvd7v4"> </div> <div class="modifier svelte-1wvd7v4"><!></div> <span class="score svelte-1wvd7v4"><!> <div class="input svelte-1wvd7v4"><!></div></span></div>');function Up(e,t){ke(t,!0);const n=()=>ze(t.character,"$character",r),[r,i]=Je(),a=Oe(()=>n().abilityScores[t.ability]);var o=Hp(),l=L(o),s=L(l,!0);N(l);var u=A(l,2),d=L(u);{let S=Oe(()=>Pi(E(a)));Ta(d,{get modifier(){return E(S)}})}N(u);var f=A(u,2),v=L(f);ht(v,{rounded:!0,absolute:!0,noshadow:!0,small:!0});var c=A(v,2),g=L(c);Be(g,{get value(){return n().abilityScores[t.ability]},set value(S){fe(t.character,V(n).abilityScores[t.ability]=S,V(n))}}),N(c),N(f),N(o),de(S=>We(s,S),[()=>os(t.ability)]),R(e,o),Ee(),i()}var Vp=B('<button aria-label="Proficiency"></button>');function Yp(e,t){ke(t,!0);let n=mt(t,"value",15);const r=["none","proficient","double","half"];function i(){const s=(r.indexOf(n()??"none")+1)%r.length;n(r[s])}var a=Vp();a.__click=i;let o;de(()=>o=Pt(a,1,"svelte-1vb6rvd",null,o,{"is-proficient":n()==="proficient","is-double":n()==="double","is-half":n()==="half"})),R(e,a),Ee()}Ct(["click"]);var Wp=B('<div class="wrapper svelte-1jy7427"><!> <span class="modifier svelte-1jy7427"><!></span> <span class="skill"> </span></div>');function So(e,t){ke(t,!0);const n=()=>ze(t.character,"$character",i),r=()=>ze(ot,"$appSettings",i),[i,a]=Je(),o=Oe(()=>t.skill==="savingThrow"?n().abilityProficiencies.includes(t.ability)?"proficient":"none":n().skillProficiencies[t.skill]??"none"),l=Oe(()=>Rc(n().abilityScores[t.ability]??0,n().proficiencyBonus,E(o)));var s=Wp(),u=L(s),d=()=>E(o),f=m=>{r().edit&&(t.skill==="savingThrow"?fe(t.character,V(n).abilityProficiencies=Oc(n().abilityProficiencies,t.ability),V(n)):fe(t.character,V(n).skillProficiencies[t.skill]=m,V(n)))};Yp(u,{get value(){return d()},set value(m){f(m)}});var v=A(u,2),c=L(v);Ta(c,{get modifier(){return E(l)}}),N(v);var g=A(v,2),S=L(g,!0);N(g),N(s),de(m=>We(S,m),[()=>os(t.skill)]),R(e,s),Ee(),a()}var Gp=B("<!> <!>",1),Qp=B('<div class="inner svelte-1ftln1h"><!> <!> <!> <!></div>');function Qn(e,t){ke(t,!0);const n=Oe(()=>Nc(Xf).flatMap(([r,i])=>t.ability!==i?[]:{skill:r,ability:i}));ht(e,{children:(r,i)=>{var a=Qp(),o=L(a);Up(o,{get ability(){return t.ability},get character(){return t.character}});var l=A(o,2);me(l,{});var s=A(l,2);So(s,{skill:"savingThrow",get ability(){return t.ability},get character(){return t.character}});var u=A(s,2);{var d=f=>{var v=Gp(),c=J(v);me(c,{});var g=A(c,2);gn(g,17,()=>E(n),qn,(S,m)=>{So(S,{get skill(){return E(m).skill},get ability(){return t.ability},get character(){return t.character}})}),R(f,v)};Le(u,f=>{E(n).length>0&&f(d)})}N(a),R(r,a)}}),Ee()}var Xp=B('<span>+</span> <div class="hit"><!></div>',1),Kp=B('<button class="delete-button" type="button">delete</button>'),Zp=B('<div class="seperator svelte-120kl8r"><!></div> <div class="line svelte-120kl8r"><div class="cell name svelte-120kl8r"><!></div> <!> <div class="cell svelte-120kl8r"><!></div> <!> <div class="cell damage svelte-120kl8r"><!></div> <!> <div class="cell details svelte-120kl8r"><!></div> <!></div>',1),Jp=B("<span>Add line</span>"),eg=B('<div><div class="line heading svelte-120kl8r"><div class="cell name svelte-120kl8r">Name</div> <!> <div class="cell hit svelte-120kl8r">Hit</div> <!> <div class="cell damage svelte-120kl8r">Damage</div> <!> <div class="cell details svelte-120kl8r">Details</div></div> <!> <!></div>');function tg(e,t){ke(t,!0);const n=()=>ze(ot,"$appSettings",i),r=()=>ze(t.character,"$character",i),[i,a]=Je(),o=Oe(()=>n().edit),l=()=>{r().weapons.push({name:"",hit:0,damage:"",details:""}),fe(t.character,V(r).weapons=r().weapons,V(r))},s=u=>{const d=r().weapons.indexOf(u);r().weapons.splice(d,1),fe(t.character,V(r).weapons=r().weapons,V(r))};Lt(e,{children:(u,d)=>{var f=eg();let v;var c=L(f),g=A(L(c),2);me(g,{vertical:!0});var S=A(g,4);me(S,{vertical:!0});var m=A(S,4);me(m,{vertical:!0}),xe(2),N(c);var b=A(c,2);gn(b,1,()=>r().weapons,qn,(O,x,_)=>{var I=Zp(),z=J(I),F=L(z);me(F,{}),N(z);var H=A(z,2),q=L(H),j=L(q);Be(j,{get value(){return E(x).name},set value(he){E(x).name=he,cn(i,"$character")}}),N(q);var W=A(q,2);me(W,{vertical:!0});var K=A(W,2),Z=L(K);ue(Z,{align:"center",nogap:!0,children:(he,Ie)=>{var _e=Xp(),Fe=A(J(_e),2),je=L(Fe);Be(je,{get value(){return E(x).hit},set value(et){E(x).hit=et,cn(i,"$character")}}),N(Fe),R(he,_e)},$$slots:{default:!0}}),N(K);var re=A(K,2);me(re,{vertical:!0});var ae=A(re,2),se=L(ae);Be(se,{get value(){return E(x).damage},set value(he){E(x).damage=he,cn(i,"$character")}}),N(ae);var pe=A(ae,2);me(pe,{vertical:!0});var w=A(pe,2),ee=L(w);Be(ee,{get value(){return E(x).details},set value(he){E(x).details=he,cn(i,"$character")}}),N(w);var we=A(w,2);{var y=he=>{var Ie=Kp();Ie.__click=()=>s(E(x)),R(he,Ie)};Le(we,he=>{E(o)&&he(y)})}N(H),R(O,I)});var C=A(b,2);{var D=O=>{ue(O,{children:(x,_)=>{vt(x,{onclick:l,children:(I,z)=>{var F=Jp();R(I,F)},$$slots:{default:!0}})},$$slots:{default:!0}})};Le(C,O=>{E(o)&&O(D)})}N(f),de(()=>v=Pt(f,1,"items svelte-120kl8r",null,v,{edit:E(o)})),R(u,f)}}),Ee(),a()}Ct(["click"]);var ng=B('<div class="wrapper svelte-1xzr1y2"><div class="inner svelte-1xzr1y2"><!></div></div>');function ko(e,t){let n=$e(null),r=$e(null);var i=ng(),a=L(i),o=L(a);ct(o,()=>t.children??Te),N(a),ir(a,l=>oe(r,l),()=>E(r)),N(i),ir(i,l=>oe(n,l),()=>E(n)),R(e,i)}var rg=B('<span class="languages svelte-1ghi6lp"><!></span>'),ig=B('<div class="inner svelte-1ghi6lp"><div class="side svelte-1ghi6lp"><h1 class="name svelte-1ghi6lp"><!></h1> <div class="avatar svelte-1ghi6lp"><!></div> <div class="abilities svelte-1ghi6lp"><div class="line svelte-1ghi6lp"><!> <!> <!> <!> <!></div> <div class="line svelte-1ghi6lp"><!> <!> <!></div></div></div> <div class="main svelte-1ghi6lp"><div class="heading svelte-1ghi6lp"><!></div> <div class="combat svelte-1ghi6lp"><!></div> <div class="other svelte-1ghi6lp"><!></div> <div class="weapons svelte-1ghi6lp"><!></div> <div class="feats svelte-1ghi6lp"><!></div> <div class="species svelte-1ghi6lp"><!></div> <div class="class svelte-1ghi6lp"><!></div></div></div>');function ag(e,t){ke(t,!0);const n=()=>ze(t.character,"$character",r),[r,i]=Je();Gl(e,{children:(a,o)=>{var l=ig(),s=L(l),u=L(s),d=L(u);Be(d,{get value(){return n().name},set value(y){fe(t.character,V(n).name=y,V(n))}}),N(u);var f=A(u,2),v=L(f);fv(v,{get character(){return t.character}}),N(f);var c=A(f,2),g=L(c),S=L(g);Qn(S,{ability:"str",get character(){return t.character}});var m=A(S,2);Qn(m,{ability:"dex",get character(){return t.character}});var b=A(m,2);Qn(b,{ability:"con",get character(){return t.character}});var C=A(b,2);Lt(C,{title:"Proficiencies",children:(y,he)=>{Sr(y,{get code(){return n().proficienies},set code(Ie){fe(t.character,V(n).proficienies=Ie,V(n))}})}});var D=A(C,2);Lt(D,{title:"Languages",children:(y,he)=>{var Ie=rg(),_e=L(Ie);Sr(_e,{get code(){return n().languages},set code(Fe){fe(t.character,V(n).languages=Fe,V(n))}}),N(Ie),R(y,Ie)}}),N(g);var O=A(g,2),x=L(O);Qn(x,{ability:"int",get character(){return t.character}});var _=A(x,2);Qn(_,{ability:"wis",get character(){return t.character}});var I=A(_,2);Qn(I,{ability:"cha",get character(){return t.character}}),N(O),N(c),N(s);var z=A(s,2),F=L(z),H=L(F);Pv(H,{get character(){return t.character}}),N(F);var q=A(F,2),j=L(q);kv(j,{get character(){return t.character}}),N(q);var W=A(q,2),K=L(W);qp(K,{get character(){return t.character}}),N(W);var Z=A(W,2),re=L(Z);tg(re,{get character(){return t.character}}),N(Z);var ae=A(Z,2),se=L(ae);Lt(se,{grid:!0,title:"Feats",children:(y,he)=>{Sr(y,{get code(){return n().features.feats},set code(Ie){fe(t.character,V(n).features.feats=Ie,V(n))}})}}),N(ae);var pe=A(ae,2),w=L(pe);Lt(w,{grid:!0,title:"Species",children:(y,he)=>{ko(y,{children:(Ie,_e)=>{Sr(Ie,{get code(){return n().features.species},set code(Fe){fe(t.character,V(n).features.species=Fe,V(n))}})}})}}),N(pe);var ee=A(pe,2),we=L(ee);Lt(we,{grid:!0,title:"Class",children:(y,he)=>{ko(y,{children:(Ie,_e)=>{Sr(Ie,{get code(){return n().features.class},set code(Fe){fe(t.character,V(n).features.class=Fe,V(n))}})}})}}),N(ee),N(z),N(l),R(a,l)}}),Ee(),i()}const ls="character.json",ss="avatar.";async function og(e){const{BlobReader:t,BlobWriter:n,TextReader:r,ZipWriter:i}=await Ii(async()=>{const{BlobReader:f,BlobWriter:v,TextReader:c,ZipWriter:g}=await import("./index-NmetT060.js");return{BlobReader:f,BlobWriter:v,TextReader:c,ZipWriter:g}},[]),a=new n,o=new i(a);let l=structuredClone(e);l.avatar.blob=null;const s=JSON.stringify(l);await o.add(ls,new r(s));const u=e.avatar?.blob;if(u instanceof Blob){let f=u.type?.split("/")[1]||"bin";f==="jpeg"&&(f="jpg");const v=`${ss}${f}`;await o.add(v,new t(u))}await o.close();const d=await a.getData();return new File([d],`${e.slug}.zip`)}async function lg(e){const{BlobReader:t,BlobWriter:n,TextWriter:r,ZipReader:i}=await Ii(async()=>{const{BlobReader:f,BlobWriter:v,TextWriter:c,ZipReader:g}=await import("./index-NmetT060.js");return{BlobReader:f,BlobWriter:v,TextWriter:c,ZipReader:g}},[]),a=new i(new t(e)),o=await a.getEntries(),l=o.find(f=>f.directory===!1&&f.filename.startsWith(ss)),s=o.find(f=>f.directory===!1&&f.filename===ls);if(!s)throw new Error("Invalid save data: missing character.json");const[u,d]=await Promise.all([(async()=>{const f=new r;await s.getData(f);const v=await f.getData();return Qf(JSON.parse(v))})(),(async()=>{if(!l)return null;const f=new n;return await l.getData(f),await f.getData()})()]);return u.avatar.blob=d,await a.close(),u}var sg=B('<input type="file" class="svelte-ozss1q"/> <!>',1),ug=B("<label><!></label>");function cg(e,t){ke(t,!0);var n=ug(),r=L(n);Pa(r,{children:(i,a)=>{var o=sg(),l=J(o);l.__change=u=>{const d=u.currentTarget.files?.[0]??null;t.onchange?.(d),u.currentTarget.value=""};var s=A(l,2);ct(s,()=>t.children??Te),de(()=>Jt(l,"accept",t.accept)),R(i,o)}}),N(n),R(e,n),Ee()}Ct(["change"]);var Wi,Eo;function fg(){return Eo||(Eo=1,Wi=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Wi}var dg=fg();const vg=Wl(dg);function hg(e,t){return vg(e,t)}var pg=B("<!> <!> <!> <!> <!> <!> <!> <!>",1),gg=B('<!> <!> <div class="toolbar hide-print svelte-va3igi"><!></div>',1),mg=B("<div><!></div>");function _g(e,t){ke(t,!0);const n=()=>ze(ot,"$appSettings",i),r=()=>ze(E(l),"$character",i),[i,a]=Je();let o=mt(t,"characterData",15),l=$e(xn(ar(structuredClone(o()))));Yt(()=>{pc(oe(l,ar(structuredClone(o())),!0),"$character",i)});const s=Oe(()=>n().hasChanges);Yt(()=>{fe(ot,V(n).hasChanges=!hg(o(),r()),V(n))});const u=()=>{fe(ot,V(n).edit=!n().edit,V(n))};async function d(){const m=await og(r());await Bc(m,m.name)}async function f(m){try{if(!m)return;const b=await lg(m);E(l).set(b)}catch(b){console.error(b),la("Something went wrong with importing.")}}async function v(){await ad(r()),o(r())}var c=mg();let g;var S=L(c);ue(S,{column:!0,xl:!0,children:(m,b)=>{var C=gg(),D=J(C);ag(D,{get character(){return E(l)}});var O=A(D,2);lv(O,{get character(){return E(l)}});var x=A(O,2),_=L(x);zl(_,{children:(I,z)=>{ue(I,{padding:!0,justify:"start",children:(F,H)=>{var q=pg(),j=J(q);vt(j,{onclick:u,children:(ee,we)=>{xe();var y=Ke("Toggle editables");R(ee,y)},$$slots:{default:!0}});var W=A(j,2);{var K=ee=>{vt(ee,{onclick:v,children:(we,y)=>{xe();var he=Ke("Save changes");R(we,he)},$$slots:{default:!0}})};Le(W,ee=>{E(s)&&ee(K)})}var Z=A(W,2);Lr(Z);var re=A(Z,2);vt(re,{onclick:d,children:(ee,we)=>{xe();var y=Ke("Export");R(ee,y)},$$slots:{default:!0}});var ae=A(re,2);cg(ae,{accept:"application/zip",onchange:f,children:(ee,we)=>{xe();var y=Ke("Import");R(ee,y)},$$slots:{default:!0}});var se=A(ae,2);vt(se,{onclick:async()=>{const ee=await gd(r());await navigator.clipboard.writeText(ee),la("Copied to clipboard")},children:(ee,we)=>{xe();var y=Ke("Export to yaml");R(ee,y)},$$slots:{default:!0}});var pe=A(se,2);vt(pe,{type:"button",onclick:async()=>{const ee=n().edit;fe(ot,V(n).edit=!1,V(n)),await Ei(),window.print(),fe(ot,V(n).edit=ee,V(n))},children:(ee,we)=>{xe();var y=Ke("Print");R(ee,y)},$$slots:{default:!0}});var w=A(pe,2);vt(w,{onclick:async()=>{await ld(r().slug,E(l))},children:(ee,we)=>{xe();var y=Ke("Load Example");R(ee,y)},$$slots:{default:!0}}),R(F,q)},$$slots:{default:!0}})}}),N(x),R(m,C)}}),N(c),de(()=>g=Pt(c,1,"svelte-va3igi",null,g,{showEditables:!n().edit})),R(e,c),Ee(),a()}var yg=B('<h1>No character found for slug: <code> </code></h1> <a href="/">Go back to character select</a>',1),bg=B("<!> <!>",1);function wg(e,t){ke(t,!0);var n,r=Go([async()=>n=await Qo(()=>id(t.params.slug))]),i=bg(),a=J(i);on(a,[r[0]],void 0,l=>{let s=Oe(()=>E(n)?`${E(n).name}`:"Not Found");Ca(a,{get title(){return E(s)}})});var o=A(a,2);on(o,[r[0]],[()=>E(n)],(l,s)=>{var u=f=>{on(f,[r[0]],void 0,v=>{_g(v,{get characterData(){return E(n)},set characterData(c){oe(n,c)}})})},d=f=>{var v=yg(),c=J(v),g=A(L(c)),S=L(g,!0);N(g),N(c);var m=A(c,2);ka(m,b=>Nl?.(b)),de(()=>We(S,t.params.slug),void 0,void 0,[r[0]]),R(f,v)};Le(l,f=>{E(s)?f(u):f(d,!1)})}),R(e,i),Ee()}var xg=B('<label><span>Size</span> <input name="size" type="number"/></label> <label><span>Columns</span> <input name="x" type="number"/></label> <label><span>Rows</span> <input name="y" type="number"/></label> <label><span>Stroke width</span> <input name="stroke" type="number"/></label> <!>',1),Sg=B('<div class="wrapper svelte-1g22s45"><form class="svelte-1g22s45"><!></form> <!> <div class="canvas svelte-1g22s45"><!></div></div>');function kg(e,t){ke(t,!0);let n=$e(null),r=$e(null),i=$e(2),a=$e(10),o=$e(8),l=$e(100),s=30;Yt(()=>{if(!(!E(n)||!E(r))){E(n).width=s*2+E(a)*E(l),E(n).height=s*2+E(o)*E(l),E(r).clearRect(0,0,E(n).width,E(n).height),E(r).filter="url(#pencil)",E(r).lineWidth=E(i);for(let m=1;m<E(a);m++){E(r).beginPath();const b=s+m*E(l);E(r).moveTo(b,s),E(r).lineTo(b,E(n).height-s),E(r).stroke()}for(let m=1;m<E(o);m++){E(r).beginPath();const b=s+m*E(l);E(r).moveTo(s,b),E(r).lineTo(E(n).width-s,b),E(r).stroke()}E(r).lineWidth=E(i)*1.5,E(r).beginPath(),E(r).roundRect(s,s,E(n).width-s*2,E(n).height-s*2,E(i)*5),E(r).stroke()}});const u=m=>{m.preventDefault();const b=new FormData(m.currentTarget),C=parseInt(b.get("x")?.toString()||"")||E(a),D=parseInt(b.get("y")?.toString()||"")||E(o),O=parseInt(b.get("size")?.toString()||"")||E(l);Math.sqrt(C*D*O*O)>4e3&&!confirm("The grid will be pretty large and can cause issues, are you sure?")||(oe(a,C,!0),oe(o,D,!0),oe(l,O,!0),oe(i,parseInt(b.get("stroke")?.toString()||"")||E(i),!0))};var d=Sg(),f=L(d),v=L(f);ue(v,{column:!0,children:(m,b)=>{var C=xg(),D=J(C),O=A(L(D),2);N(D);var x=A(D,2),_=A(L(x),2);N(x);var I=A(x,2),z=A(L(I),2);N(I);var F=A(I,2),H=A(L(F),2);N(F);var q=A(F,2);vt(q,{type:"submit",children:(j,W)=>{xe();var K=Ke("Generate");R(j,K)},$$slots:{default:!0}}),de(()=>{O.defaultValue=E(l),_.defaultValue=E(a),z.defaultValue=E(o),H.defaultValue=E(i)}),R(m,C)}}),N(f);var c=A(f,2);me(c,{vertical:!0});var g=A(c,2),S=L(g);Ol(S,{get canvas(){return E(n)},set canvas(m){oe(n,m,!0)},get context(){return E(r)},set context(m){oe(r,m,!0)}}),N(g),N(d),Ut("submit",f,u),R(e,d),Ee()}var Eg=B("<!> <!>",1);function Ig(e){var t=Eg(),n=J(t);Ca(n,{title:"Grid generator"});var r=A(n,2);kg(r,{}),R(e,t)}const Fn={characterSelect:()=>"/",characterSheet:e=>`/sheet/${e}`,gridGenerator:()=>"/generate-grid"},Pg={[Fn.characterSelect()]:hd,[Fn.characterSheet(":slug")]:wg,[Fn.gridGenerator()]:Ig},fi=[];let us;function cs(e){const t=e.pattern.test(us);Io(e,e.className,t),Io(e,e.inactiveClassName,!t)}function Io(e,t,n){(t||"").split(" ").forEach(r=>{r&&(e.node.classList.remove(r),n&&e.node.classList.add(r))})}Ci.subscribe(e=>{us=e.location+(e.querystring?"?"+e.querystring:""),fi.map(cs)});function Cg(e,t){if(t&&(typeof t=="string"||typeof t=="object"&&t instanceof RegExp)?t={path:t}:t=t||{},!t.path&&e.hasAttribute("href")&&(t.path=e.getAttribute("href"),t.path&&t.path.length>1&&t.path.charAt(0)=="#"&&(t.path=t.path.substring(1))),t.className||(t.className="active"),!t.path||typeof t.path=="string"&&(t.path.length<1||t.path.charAt(0)!="/"&&t.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof t.path=="string"?Rl(t.path):{pattern:t.path},r={node:e,className:t.className,inactiveClassName:t.inactiveClassName,pattern:n};return fi.push(r),cs(r),{destroy(){fi.splice(fi.indexOf(r),1)}}}var $g=B("<a><!></a>");function Po(e,t){ke(t,!0);const n=()=>ze(ot,"$appSettings",r),[r,i]=Je(),a=Oe(()=>n().hasChanges);function o(u){u.preventDefault(),(!E(a)||window.confirm("There are unsaved changed, these will get lost if you continue"))&&Jc(t.href)}var l=$g();l.__click=o;var s=L(l);ct(s,()=>t.children??Te),N(l),ka(l,u=>Cg?.(u)),de(()=>Jt(l,"href",t.href)),R(e,l),Ee(),i()}Ct(["click"]);var Tg=B('<header class="hide-print svelte-a8kxe2"><div class="inner svelte-a8kxe2"><h1><!></h1> <nav class="svelte-a8kxe2"></nav></div> <!></header>');function Ag(e,t){ke(t,!1);const n=[{href:Fn.characterSelect(),label:"Character select"},{href:Fn.gridGenerator(),label:"Grid generator"}];Pl();var r=Tg(),i=L(r),a=L(i),o=L(a);{let u=ki(()=>Fn.characterSelect());Po(o,{get href(){return E(u)},children:(d,f)=>{xe();var v=Ke("D&D Character Sheet creator");R(d,v)},$$slots:{default:!0}})}N(a);var l=A(a,2);gn(l,5,()=>n,qn,(u,d)=>{let f=()=>E(d).href,v=()=>E(d).label;Po(u,{get href(){return f()},children:(c,g)=>{xe();var S=Ke();de(()=>We(S,v())),R(c,S)},$$slots:{default:!0}})}),N(l),N(i);var s=A(i,2);me(s,{}),N(r),R(e,r),Ee()}var Dg=B("<!> <!> <!>",1),Rg=B('<!> <main class="svelte-1n46o8q"><!></main>',1);function Ng(e){var t=Rg(),n=J(t);Zc(n);var r=A(n,2),i=L(r);$c(i,{children:(a,o)=>{var l=Dg(),s=J(l);Ag(s,{});var u=A(s,2);nf(u,{get routes(){return Pg}});var d=A(u,2);Xc(d),R(a,l)}}),N(r),R(e,t)}const Og=document.getElementById("app");Gu(Ng,{target:Og});
