(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const ha=!1;var Ur=Array.isArray,uu=Array.prototype.indexOf,br=Array.prototype.includes,Ri=Array.from,Kl=Object.defineProperty,zn=Object.getOwnPropertyDescriptor,eo=Object.getOwnPropertyDescriptors,cu=Object.prototype,fu=Array.prototype,Na=Object.getPrototypeOf,al=Object.isExtensible;function hr(e){return typeof e=="function"}const Xe=()=>{};function du(e){return e()}function Ii(e){for(var t=0;t<e.length;t++)e[t]()}function to(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const ft=2,Or=4,_r=8,ga=1<<24,Sn=16,fn=32,or=64,Ni=128,Ut=512,lt=1024,xt=2048,xn=4096,Pt=8192,bn=16384,xr=32768,Yn=65536,pa=1<<17,$a=1<<18,Br=1<<19,no=1<<20,Cn=1<<25,ir=32768,ma=1<<21,Fa=1<<22,Vn=1<<23,_n=Symbol("$state"),ro=Symbol("legacy props"),vu=Symbol(""),Un=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},Qr=3,Dn=8;function $i(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function hu(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function gu(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function pu(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function mu(e){throw new Error("https://svelte.dev/e/effect_orphan")}function bu(){throw new Error("https://svelte.dev/e/effect_pending_outside_reaction")}function _u(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yu(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Iu(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function wu(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Su(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function xu(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Bu(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Gu=1,ku=2,io=4,Cu=8,Zu=16,Eu=1,Wu=2,Yu=4,Ru=8,Nu=16,$u=1,Fu=2,Xu=4,Pu=1,zu=2,Vu="[",Fi="[!",Xa="]",qr={},dt=Symbol(),Hu="http://www.w3.org/1999/xhtml";function Kr(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function Au(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Tu(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let ge=!1;function Zn(e){ge=e}let be;function ot(e){if(e===null)throw Kr(),qr;return be=e}function Rn(){return ot(tn(be))}function N(e){if(ge){if(tn(be)!==null)throw Kr(),qr;be=e}}function _e(e=1){if(ge){for(var t=e,n=be;t--;)n=tn(n);be=n}}function Jr(e=!0){for(var t=0,n=be;;){if(n.nodeType===Dn){var r=n.data;if(r===Xa){if(t===0)return n;t-=1}else(r===Vu||r===Fi)&&(t+=1)}var i=tn(n);e&&n.remove(),n=i}}function ao(e){if(!e||e.nodeType!==Dn)throw Kr(),qr;return e.data}function lo(e){return e===this.v}function oo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function so(e){return!oo(e,this.v)}let En=!1,Gr=!1,Lu=!1;function ju(){En=!0}function Du(){Gr=!0}let He=null;function yr(e){He=e}function we(e,t=!1,n){He={p:He,i:!1,c:null,e:null,s:e,x:null,l:Gr&&!t?{s:null,u:null,$:[]}:null}}function Se(e){var t=He,n=t.e;if(n!==null){t.e=null;for(var r of n)No(r)}return t.i=!0,He=t.p,{}}function ei(){return!Gr||He!==null&&He.l===null}let Qn=[];function uo(){var e=Qn;Qn=[],Ii(e)}function Qt(e){if(Qn.length===0&&!Vr){var t=Qn;queueMicrotask(()=>{t===Qn&&uo()})}Qn.push(e)}function Ou(){for(;Qn.length>0;)uo()}function co(e){var t=Ie;if(t===null)return Ze.f|=Vn,e;if((t.f&xr)===0){if((t.f&Ni)===0)throw e;t.b.error(e)}else ar(e,t)}function ar(e,t){for(;t!==null;){if((t.f&Ni)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Ju=-7169;function it(e,t){e.f=e.f&Ju|t}function Pa(e){(e.f&Ut)!==0||e.deps===null?it(e,lt):it(e,xn)}function fo(e){if(e!==null)for(const t of e)(t.f&ft)===0||(t.f&ir)===0||(t.f^=ir,fo(t.deps))}function vo(e,t,n){(e.f&xt)!==0?t.add(e):(e.f&xn)!==0&&n.add(e),fo(e.deps),it(e,lt)}const cr=new Set;let Ge=null,wi=null,vt=null,Nt=[],Xi=null,ba=!1,Vr=!1;class Hn{committed=!1;current=new Map;previous=new Map;#e=new Set;#i=new Set;#t=0;#a=0;#l=null;#r=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#a>0}process(t){Nt=[],this.apply();var n=[],r=[];for(const i of t)this.#s(i,n,r);if(this.is_deferred()){this.#u(r),this.#u(n);for(const i of this.skipped_effects)mo(i)}else{for(const i of this.#e)i();this.#e.clear(),this.#t===0&&this.#c(),wi=this,Ge=null,ll(r),ll(n),wi=null,this.#l?.resolve()}vt=null}#s(t,n,r){t.f^=lt;for(var i=t.first,a=null;i!==null;){var l=i.f,o=(l&(fn|or))!==0,s=o&&(l&lt)!==0,u=s||(l&Pt)!==0||this.skipped_effects.has(i);if(En&&a===null&&(l&Ni)!==0&&i.b?.is_pending&&(a=i),!u&&i.fn!==null){o?i.f^=lt:a!==null&&(l&(Or|_r|ga))!==0?a.b.defer_effect(i):(l&Or)!==0?n.push(i):En&&(l&(_r|ga))!==0?r.push(i):Zr(i)&&((l&Sn)!==0&&this.#n.add(i),wr(i));var d=i.first;if(d!==null){i=d;continue}}var f=i.parent;for(i=i.next;i===null&&f!==null;)f===a&&(a=null),i=f.next,f=f.parent}}#u(t){for(var n=0;n<t.length;n+=1)vo(t[n],this.#r,this.#n)}capture(t,n){n!==dt&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&Vn)===0&&(this.current.set(t,t.v),vt?.set(t,t.v))}activate(){Ge=this,this.apply()}deactivate(){Ge===this&&(Ge=null,vt=null)}flush(){if(this.activate(),Nt.length>0){if(_a(),Ge!==null&&Ge!==this)return}else this.#t===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#i)t(this);this.#i.clear()}#c(){if(cr.size>1){this.previous.clear();var t=vt,n=!0;for(const i of cr){if(i===this){n=!1;continue}const a=[];for(const[o,s]of this.current){if(i.current.has(o))if(n&&s!==i.current.get(o))i.current.set(o,s);else continue;a.push(o)}if(a.length===0)continue;const l=[...i.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var r=Nt;Nt=[];const o=new Set,s=new Map;for(const u of a)go(u,l,o,s);if(Nt.length>0){Ge=i,i.apply();for(const u of Nt)i.#s(u,[],[]);i.deactivate()}Nt=r}}Ge=null,vt=t}this.committed=!0,cr.delete(this)}increment(t){this.#t+=1,t&&(this.#a+=1)}decrement(t){this.#t-=1,t&&(this.#a-=1),!this.#o&&(this.#o=!0,Qt(()=>{this.#o=!1,this.is_deferred()?Nt.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),it(t,xt),Nn(t);for(const t of this.#n)it(t,xn),Nn(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#i.add(t)}settled(){return(this.#l??=to()).promise}static ensure(){if(Ge===null){const t=Ge=new Hn;cr.add(Ge),Vr||Qt(()=>{Ge===t&&t.flush()})}return Ge}apply(){if(!(!En||!this.is_fork&&cr.size===1)){vt=new Map(this.current);for(const t of cr)if(t!==this)for(const[n,r]of t.previous)vt.has(n)||vt.set(n,r)}}}function ho(e){var t=Vr;Vr=!0;try{var n;for(e&&(Ge!==null&&_a(),n=e());;){if(Ou(),Nt.length===0&&(Ge?.flush(),Nt.length===0))return Xi=null,n;_a()}}finally{Vr=t}}function _a(){ba=!0;var e=null;try{for(var t=0;Nt.length>0;){var n=Hn.ensure();if(t++>1e3){var r,i;Mu()}n.process(Nt),An.clear()}}finally{ba=!1,Xi=null}}function Mu(){try{_u()}catch(e){ar(e,Xi)}}let pn=null;function ll(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(bn|Pt))===0&&Zr(r)&&(pn=new Set,wr(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?Po(r):r.fn=null),pn?.size>0)){An.clear();for(const i of pn){if((i.f&(bn|Pt))!==0)continue;const a=[i];let l=i.parent;for(;l!==null;)pn.has(l)&&(pn.delete(l),a.push(l)),l=l.parent;for(let o=a.length-1;o>=0;o--){const s=a[o];(s.f&(bn|Pt))===0&&wr(s)}}pn.clear()}}pn=null}}function go(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;(a&ft)!==0?go(i,t,n,r):(a&(Fa|Sn))!==0&&(a&xt)===0&&po(i,t,r)&&(it(i,xt),Nn(i))}}function po(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(br.call(t,i))return!0;if((i.f&ft)!==0&&po(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function Nn(e){for(var t=Xi=e;t.parent!==null;){t=t.parent;var n=t.f;if(ba&&t===Ie&&(n&Sn)!==0&&(n&$a)===0)return;if((n&(or|fn))!==0){if((n&lt)===0)return;t.f^=lt}}Nt.push(t)}let Si=[];function Uu(){try{ho(()=>{for(const e of Si)ic(e)})}finally{Si=[]}}function Qu(e){var t=Tn(0),n=!0,r=void 0;return m(t),cc(()=>{if(n){var i=vt;try{vt=null,r=e()}finally{vt=i}return}Si.length===0&&Qt(Uu),Si.push(t)}),n=!1,r}function mo(e){if(!((e.f&fn)!==0&&(e.f&lt)!==0)){it(e,lt);for(var t=e.first;t!==null;)mo(t),t=t.next}}function qu(e){let t=0,n=Tn(0),r;return()=>{Ha()&&(m(n),sr(()=>(t===0&&(r=j(()=>e(()=>Ar(n)))),t+=1,()=>{Qt(()=>{t-=1,t===0&&(r?.(),r=void 0,Ar(n))})})))}}var Ku=Yn|Br|Ni;function bo(e,t,n){new ec(e,t,n)}class ec{parent;is_pending=!1;#e;#i=ge?be:null;#t;#a;#l;#r=null;#n=null;#o=null;#s=null;#u=null;#c=0;#f=0;#h=!1;#v=!1;#g=new Set;#p=new Set;#d=null;#I=qu(()=>(this.#d=Tn(this.#c),()=>{this.#d=null}));constructor(t,n,r){this.#e=t,this.#t=n,this.#a=r,this.parent=Ie.b,this.is_pending=!!this.#t.pending,this.#l=Cr(()=>{if(Ie.b=this,ge){const a=this.#i;Rn(),a.nodeType===Dn&&a.data===Fi?this.#S():(this.#w(),this.#f===0&&(this.is_pending=!1))}else{var i=this.#_();try{this.#r=Mt(()=>r(i))}catch(a){this.error(a)}this.#f>0?this.#b():this.is_pending=!1}return()=>{this.#u?.remove()}},Ku),ge&&(this.#e=be)}#w(){try{this.#r=Mt(()=>this.#a(this.#e))}catch(t){this.error(t)}}#S(){const t=this.#t.pending;t&&(this.#n=Mt(()=>t(this.#e)),Qt(()=>{var n=this.#_();this.#r=this.#m(()=>(Hn.ensure(),Mt(()=>this.#a(n)))),this.#f>0?this.#b():(Kn(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#_(){var t=this.#e;return this.is_pending&&(this.#u=St(),this.#e.before(this.#u),t=this.#u),t}defer_effect(t){vo(t,this.#g,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#m(t){var n=Ie,r=Ze,i=He;In(this.#l),nn(this.#l),yr(this.#l.ctx);try{return t()}catch(a){return co(a),null}finally{In(n),nn(r),yr(i)}}#b(){const t=this.#t.pending;this.#r!==null&&(this.#s=document.createDocumentFragment(),this.#s.append(this.#u),Ho(this.#r,this.#s)),this.#n===null&&(this.#n=Mt(()=>t(this.#e)))}#y(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(t);return}if(this.#f+=t,this.#f===0){this.is_pending=!1;for(const n of this.#g)it(n,xt),Nn(n);for(const n of this.#p)it(n,xn),Nn(n);this.#g.clear(),this.#p.clear(),this.#n&&Kn(this.#n,()=>{this.#n=null}),this.#s&&(this.#e.before(this.#s),this.#s=null)}}update_pending_count(t){this.#y(t),this.#c+=t,!(!this.#d||this.#h)&&(this.#h=!0,Qt(()=>{this.#h=!1,this.#d&&Ir(this.#d,this.#c)}))}get_effect_pending(){return this.#I(),m(this.#d)}error(t){var n=this.#t.onerror;let r=this.#t.failed;if(this.#v||!n&&!r)throw t;this.#r&&(Zt(this.#r),this.#r=null),this.#n&&(Zt(this.#n),this.#n=null),this.#o&&(Zt(this.#o),this.#o=null),ge&&(ot(this.#i),_e(),ot(Jr()));var i=!1,a=!1;const l=()=>{if(i){Tu();return}i=!0,a&&Bu(),Hn.ensure(),this.#c=0,this.#o!==null&&Kn(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#m(()=>(this.#v=!1,Mt(()=>this.#a(this.#e)))),this.#f>0?this.#b():this.is_pending=!1};Qt(()=>{try{a=!0,n?.(t,l),a=!1}catch(o){ar(o,this.#l&&this.#l.parent)}r&&(this.#o=this.#m(()=>{Hn.ensure(),this.#v=!0;try{return Mt(()=>{r(this.#e,()=>t,()=>l)})}catch(o){return ar(o,this.#l.parent),null}finally{this.#v=!1}}))})}}function _o(){return Ie.b}function tc(){Ie===null&&bu();var e=Ie.b;return e===null?0:e.get_effect_pending()}function Pi(e,t,n,r){const i=ei()?ti:Hi;var a=e.filter(v=>!v.settled);if(n.length===0&&a.length===0){r(t.map(i));return}var l=Ge,o=Ie,s=Io(),u=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(v=>v.promise)):null;function d(v){s();try{r(v)}catch(c){(o.f&bn)===0&&ar(c,o)}l?.deactivate(),xi()}if(n.length===0){u.then(()=>d(t.map(i)));return}function f(){s(),Promise.all(n.map(v=>Vi(v))).then(v=>d([...t.map(i),...v])).catch(v=>ar(v,o))}u?u.then(f):f()}function yo(e,t){Pi(e,[],[],t)}function Io(){var e=Ie,t=Ze,n=He,r=Ge;return function(a=!0){In(e),nn(t),yr(n),a&&r?.activate()}}function xi(){In(null),nn(null),yr(null)}function zi(e){const t=Io();var n=_o(),r=Ge,i=n.is_rendered();n.update_pending_count(1),r.increment(i);var a=Ie,l=null;const o=f=>{l={error:f},ul(a)||ar(f,a)};var s=Promise.resolve(e[0]()).catch(o),u={promise:s,settled:!1},d=[u];s.finally(()=>{u.settled=!0});for(const f of e.slice(1)){s=s.then(()=>{if(l)throw l.error;if(ul(a))throw Un;return t(),f()}).catch(o);const v={promise:s,settled:!1};d.push(v),s.finally(()=>{v.settled=!0,xi(),Ge?.deactivate()})}return s.then(()=>Promise.resolve()).finally(()=>{n.update_pending_count(-1),r.decrement(i)}),d}function ti(e){var t=ft|xt,n=Ze!==null&&(Ze.f&ft)!==0?Ze:null;return Ie!==null&&(Ie.f|=Br),{ctx:He,deps:null,effects:null,equals:lo,f:t,fn:e,reactions:null,rv:0,v:dt,wv:0,parent:n??Ie,ac:null}}function Vi(e,t,n){let r=Ie;r===null&&hu();var i=r.b,a=void 0,l=Tn(dt),o=!Ze,s=new Map;return hc(()=>{var u=to();a=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{d===Ge&&d.committed&&d.deactivate(),xi()})}catch(c){u.reject(c),xi()}var d=Ge;if(o){var f=i.is_rendered();i.update_pending_count(1),d.increment(f),s.get(d)?.reject(Un),s.delete(d),s.set(d,u)}const v=(c,g=void 0)=>{if(d.activate(),g)g!==Un&&(l.f|=Vn,Ir(l,g));else{(l.f&Vn)!==0&&(l.f^=Vn),Ir(l,c);for(const[y,I]of s){if(s.delete(y),y===d)break;I.reject(Un)}}o&&(i.update_pending_count(-1),d.decrement(f))};u.promise.then(v,c=>v(null,c||"unknown"))}),Ti(()=>{for(const u of s.values())u.reject(Un)}),new Promise(u=>{function d(f){function v(){f===a?u(l):d(a)}f.then(v,v)}d(a)})}function Ye(e){const t=ti(e);return En||Ao(t),t}function Hi(e){const t=ti(e);return t.equals=so,t}function wo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Zt(t[n])}}function nc(e){for(var t=e.parent;t!==null;){if((t.f&ft)===0)return(t.f&bn)===0?t:null;t=t.parent}return null}function za(e){var t,n=Ie;In(nc(e));try{e.f&=~ir,wo(e),t=Do(e)}finally{In(n)}return t}function So(e){var t=za(e);if(!e.equals(t)&&(e.wv=Lo(),(!Ge?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){it(e,lt);return}jn||(vt!==null?(Ha()||Ge?.is_fork)&&vt.set(e,t):Pa(e))}let ya=new Set;const An=new Map;let xo=!1;function Tn(e,t){var n={f:0,v:e,reactions:null,equals:lo,rv:0,wv:0};return n}function We(e,t){const n=Tn(e);return Ao(n),n}function Hr(e,t=!1,n=!0){const r=Tn(e);return t||(r.equals=so),Gr&&n&&He!==null&&He.l!==null&&(He.l.s??=[]).push(r),r}function ae(e,t,n=!1){Ze!==null&&(!un||(Ze.f&pa)!==0)&&ei()&&(Ze.f&(ft|Sn|Fa|pa))!==0&&(qt===null||!br.call(qt,e))&&xu();let r=n?Pn(t):t;return Ir(e,r)}function Ir(e,t){if(!e.equals(t)){var n=e.v;jn?An.set(e,t):An.set(e,n),e.v=t;var r=Hn.ensure();if(r.capture(e,n),(e.f&ft)!==0){const i=e;(e.f&xt)!==0&&za(i),Pa(i)}e.wv=Lo(),Bo(e,xt),ei()&&Ie!==null&&(Ie.f&lt)!==0&&(Ie.f&(fn|or))===0&&(Jt===null?mc([e]):Jt.push(e)),!r.is_fork&&ya.size>0&&!xo&&rc()}return t}function rc(){xo=!1;for(const e of ya)(e.f&lt)!==0&&it(e,xn),Zr(e)&&wr(e);ya.clear()}function ic(e,t=1){var n=m(e),r=t===1?n++:n--;return ae(e,n),r}function Ar(e){ae(e,e.v+1)}function Bo(e,t){var n=e.reactions;if(n!==null)for(var r=ei(),i=n.length,a=0;a<i;a++){var l=n[a],o=l.f;if(!(!r&&l===Ie)){var s=(o&xt)===0;if(s&&it(l,t),(o&ft)!==0){var u=l;vt?.delete(u),(o&ir)===0&&(o&Ut&&(l.f|=ir),Bo(u,xn))}else s&&((o&Sn)!==0&&pn!==null&&pn.add(l),Nn(l))}}}function Pn(e){if(typeof e!="object"||e===null||_n in e)return e;const t=Na(e);if(t!==cu&&t!==fu)return e;var n=new Map,r=Ur(e),i=We(0),a=er,l=o=>{if(er===a)return o();var s=Ze,u=er;nn(null),fl(a);var d=o();return nn(s),fl(u),d};return r&&n.set("length",We(e.length)),new Proxy(e,{defineProperty(o,s,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&wu();var d=n.get(s);return d===void 0?d=l(()=>{var f=We(u.value);return n.set(s,f),f}):ae(d,u.value,!0),!0},deleteProperty(o,s){var u=n.get(s);if(u===void 0){if(s in o){const d=l(()=>We(dt));n.set(s,d),Ar(i)}}else ae(u,dt),Ar(i);return!0},get(o,s,u){if(s===_n)return e;var d=n.get(s),f=s in o;if(d===void 0&&(!f||zn(o,s)?.writable)&&(d=l(()=>{var c=Pn(f?o[s]:dt),g=We(c);return g}),n.set(s,d)),d!==void 0){var v=m(d);return v===dt?void 0:v}return Reflect.get(o,s,u)},getOwnPropertyDescriptor(o,s){var u=Reflect.getOwnPropertyDescriptor(o,s);if(u&&"value"in u){var d=n.get(s);d&&(u.value=m(d))}else if(u===void 0){var f=n.get(s),v=f?.v;if(f!==void 0&&v!==dt)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(o,s){if(s===_n)return!0;var u=n.get(s),d=u!==void 0&&u.v!==dt||Reflect.has(o,s);if(u!==void 0||Ie!==null&&(!d||zn(o,s)?.writable)){u===void 0&&(u=l(()=>{var v=d?Pn(o[s]):dt,c=We(v);return c}),n.set(s,u));var f=m(u);if(f===dt)return!1}return d},set(o,s,u,d){var f=n.get(s),v=s in o;if(r&&s==="length")for(var c=u;c<f.v;c+=1){var g=n.get(c+"");g!==void 0?ae(g,dt):c in o&&(g=l(()=>We(dt)),n.set(c+"",g))}if(f===void 0)(!v||zn(o,s)?.writable)&&(f=l(()=>We(void 0)),ae(f,Pn(u)),n.set(s,f));else{v=f.v!==dt;var y=l(()=>Pn(u));ae(f,y)}var I=Reflect.getOwnPropertyDescriptor(o,s);if(I?.set&&I.set.call(d,u),!v){if(r&&typeof s=="string"){var _=n.get("length"),C=Number(s);Number.isInteger(C)&&C>=_.v&&ae(_,C+1)}Ar(i)}return!0},ownKeys(o){m(i);var s=Reflect.ownKeys(o).filter(f=>{var v=n.get(f);return v===void 0||v.v!==dt});for(var[u,d]of n)d.v!==dt&&!(u in o)&&s.push(u);return s},setPrototypeOf(){Su()}})}function ol(e){try{if(e!==null&&typeof e=="object"&&_n in e)return e[_n]}catch{}return e}function ac(e,t){return Object.is(ol(e),ol(t))}var Ln,Go,ko,Co,Zo;function lc(){if(Ln===void 0){Ln=window,Go=document,ko=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Co=zn(t,"firstChild").get,Zo=zn(t,"nextSibling").get,al(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),al(n)&&(n.__t=void 0)}}function St(e=""){return document.createTextNode(e)}function wt(e){return Co.call(e)}function tn(e){return Zo.call(e)}function F(e,t){if(!ge)return wt(e);var n=wt(be);if(n===null)n=be.appendChild(St());else if(t&&n.nodeType!==Qr){var r=St();return n?.before(r),ot(r),r}return t&&Ai(n),ot(n),n}function O(e,t=!1){if(!ge){var n=wt(e);return n instanceof Comment&&n.data===""?tn(n):n}if(t){if(be?.nodeType!==Qr){var r=St();return be?.before(r),ot(r),r}Ai(be)}return be}function G(e,t=1,n=!1){let r=ge?be:e;for(var i;t--;)i=r,r=tn(r);if(!ge)return r;if(n){if(r?.nodeType!==Qr){var a=St();return r===null?i?.after(a):r.before(a),ot(a),a}Ai(r)}return ot(r),r}function Eo(e){e.textContent=""}function Wo(){if(!En||pn!==null)return!1;var e=Ie.f;return(e&xr)!==0}function Ai(e){if(e.nodeValue.length<65536)return;let t=e.nextSibling;for(;t!==null&&t.nodeType===Qr;)t.remove(),e.nodeValue+=t.nodeValue,t=e.nextSibling}function oc(e){ge&&wt(e)!==null&&Eo(e)}let sl=!1;function Yo(){sl||(sl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function kr(e){var t=Ze,n=Ie;nn(null),In(null);try{return e()}finally{nn(t),In(n)}}function Va(e,t,n,r=n){e.addEventListener(t,()=>kr(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Yo()}function Ro(e){Ie===null&&(Ze===null&&mu(),pu()),jn&&gu()}function sc(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function rn(e,t,n){var r=Ie;r!==null&&(r.f&Pt)!==0&&(e|=Pt);var i={ctx:He,deps:null,nodes:null,f:e|xt|Ut,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{wr(i),i.f|=xr}catch(o){throw Zt(i),o}else t!==null&&Nn(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&Br)===0&&(a=a.first,(e&Sn)!==0&&(e&Yn)!==0&&a!==null&&(a.f|=Yn)),a!==null&&(a.parent=r,r!==null&&sc(a,r),Ze!==null&&(Ze.f&ft)!==0&&(e&or)===0)){var l=Ze;(l.effects??=[]).push(a)}return i}function Ha(){return Ze!==null&&!un}function Ti(e){const t=rn(_r,null,!1);return it(t,lt),t.teardown=e,t}function yn(e){Ro();var t=Ie.f,n=!Ze&&(t&fn)!==0&&(t&xr)===0;if(n){var r=He;(r.e??=[]).push(e)}else return No(e)}function No(e){return rn(Or|no,e,!1)}function uc(e){return Ro(),rn(_r|no,e,!0)}function cc(e){return rn(pa,e,!0)}function fc(e){Hn.ensure();const t=rn(or|Br,e,!0);return(n={})=>new Promise(r=>{n.outro?Kn(t,()=>{Zt(t),r(void 0)}):(Zt(t),r(void 0))})}function Li(e){return rn(Or,e,!1)}function dc(e,t){var n=He,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=sr(()=>{e(),!r.ran&&(r.ran=!0,j(t))})}function vc(){var e=He;sr(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&lt)!==0&&n.deps!==null&&it(n,xn),Zr(n)&&wr(n),t.ran=!1}})}function hc(e){return rn(Fa|Br,e,!0)}function sr(e,t=0){return rn(_r|t,e,!0)}function ce(e,t=[],n=[],r=[]){Pi(r,t,n,i=>{rn(_r,()=>e(...i.map(m)),!0)})}function gc(e,t=[],n=[],r=[]){var i=Ge,a=n.length>0||r.length>0;a&&i.increment(!0),Pi(r,t,n,l=>{rn(Or,()=>e(...l.map(m)),!1),a&&i.decrement(!0)})}function Cr(e,t=0){var n=rn(Sn|t,e,!0);return n}function Mt(e){return rn(fn|Br,e,!0)}function $o(e){var t=e.teardown;if(t!==null){const n=jn,r=Ze;cl(!0),nn(null);try{t.call(null)}finally{cl(n),nn(r)}}}function Fo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&kr(()=>{i.abort(Un)});var r=n.next;(n.f&or)!==0?n.parent=null:Zt(n,t),n=r}}function pc(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&fn)===0&&Zt(t),t=n}}function Zt(e,t=!0){var n=!1;(t||(e.f&$a)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Xo(e.nodes.start,e.nodes.end),n=!0),Fo(e,t&&!n),Bi(e,0),it(e,bn);var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)a.stop();$o(e);var i=e.parent;i!==null&&i.first!==null&&Po(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Xo(e,t){for(;e!==null;){var n=e===t?null:tn(e);e.remove(),e=n}}function Po(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Kn(e,t,n=!0){var r=[];zo(e,r,!0);var i=()=>{n&&Zt(e),t&&t()},a=r.length;if(a>0){var l=()=>--a||i();for(var o of r)o.out(l)}else i()}function zo(e,t,n){if((e.f&Pt)===0){e.f^=Pt;var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)(o.is_global||n)&&t.push(o);for(var i=e.first;i!==null;){var a=i.next,l=(i.f&Yn)!==0||(i.f&fn)!==0&&(e.f&Sn)!==0;zo(i,t,l?n:!1),i=a}}}function Aa(e){Vo(e,!0)}function Vo(e,t){if((e.f&Pt)!==0){e.f^=Pt,(e.f&lt)===0&&(it(e,xt),Nn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Yn)!==0||(n.f&fn)!==0;Vo(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(const l of a)(l.is_global||t)&&l.in()}}function ul(e=Ie){return(e.f&bn)!==0}function Ho(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:tn(n);t.append(n),n=i}}let bi=!1,jn=!1;function cl(e){jn=e}let Ze=null,un=!1;function nn(e){Ze=e}let Ie=null;function In(e){Ie=e}let qt=null;function Ao(e){Ze!==null&&(!En||(Ze.f&ft)!==0)&&(qt===null?qt=[e]:qt.push(e))}let Ct=null,Rt=0,Jt=null;function mc(e){Jt=e}let To=1,qn=0,er=qn;function fl(e){er=e}function Lo(){return++To}function Zr(e){var t=e.f;if((t&xt)!==0)return!0;if(t&ft&&(e.f&=~ir),(t&xn)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var a=n[i];if(Zr(a)&&So(a),a.wv>e.wv)return!0}(t&Ut)!==0&&vt===null&&it(e,lt)}return!1}function jo(e,t,n=!0){var r=e.reactions;if(r!==null&&!(!En&&qt!==null&&br.call(qt,e)))for(var i=0;i<r.length;i++){var a=r[i];(a.f&ft)!==0?jo(a,t,!1):t===a&&(n?it(a,xt):(a.f&lt)!==0&&it(a,xn),Nn(a))}}function Do(e){var t=Ct,n=Rt,r=Jt,i=Ze,a=qt,l=He,o=un,s=er,u=e.f;Ct=null,Rt=0,Jt=null,Ze=(u&(fn|or))===0?e:null,qt=null,yr(e.ctx),un=!1,er=++qn,e.ac!==null&&(kr(()=>{e.ac.abort(Un)}),e.ac=null);try{e.f|=ma;var d=e.fn,f=d(),v=e.deps,c=Ge?.is_fork;if(Ct!==null){var g;if(c||Bi(e,Rt),v!==null&&Rt>0)for(v.length=Rt+Ct.length,g=0;g<Ct.length;g++)v[Rt+g]=Ct[g];else e.deps=v=Ct;if(Ha()&&(e.f&Ut)!==0)for(g=Rt;g<v.length;g++)(v[g].reactions??=[]).push(e)}else!c&&v!==null&&Rt<v.length&&(Bi(e,Rt),v.length=Rt);if(ei()&&Jt!==null&&!un&&v!==null&&(e.f&(ft|xn|xt))===0)for(g=0;g<Jt.length;g++)jo(Jt[g],e);if(i!==null&&i!==e){if(qn++,i.deps!==null)for(let y=0;y<n;y+=1)i.deps[y].rv=qn;if(t!==null)for(const y of t)y.rv=qn;Jt!==null&&(r===null?r=Jt:r.push(...Jt))}return(e.f&Vn)!==0&&(e.f^=Vn),f}catch(y){return co(y)}finally{e.f^=ma,Ct=t,Rt=n,Jt=r,Ze=i,qt=a,yr(l),un=o,er=s}}function bc(e,t){let n=t.reactions;if(n!==null){var r=uu.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&ft)!==0&&(Ct===null||!br.call(Ct,t))){var a=t;(a.f&Ut)!==0&&(a.f^=Ut,a.f&=~ir),Pa(a),wo(a),Bi(a,0)}}function Bi(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)bc(e,n[r])}function wr(e){var t=e.f;if((t&bn)===0){it(e,lt);var n=Ie,r=bi;Ie=e,bi=!0;try{(t&(Sn|ga))!==0?pc(e):Fo(e),$o(e);var i=Do(e);e.teardown=typeof i=="function"?i:null,e.wv=To;var a;ha&&Lu&&(e.f&xt)!==0&&e.deps}finally{bi=r,Ie=n}}}async function ni(){if(En)return new Promise(e=>{requestAnimationFrame(()=>e()),setTimeout(()=>e())});await Promise.resolve(),ho()}function m(e){var t=e.f,n=(t&ft)!==0;if(Ze!==null&&!un){var r=Ie!==null&&(Ie.f&bn)!==0;if(!r&&(qt===null||!br.call(qt,e))){var i=Ze.deps;if((Ze.f&ma)!==0)e.rv<qn&&(e.rv=qn,Ct===null&&i!==null&&i[Rt]===e?Rt++:Ct===null?Ct=[e]:Ct.push(e));else{(Ze.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[Ze]:br.call(a,Ze)||a.push(Ze)}}}if(jn&&An.has(e))return An.get(e);if(n){var l=e;if(jn){var o=l.v;return((l.f&lt)===0&&l.reactions!==null||Jo(l))&&(o=za(l)),An.set(l,o),o}var s=(l.f&Ut)===0&&!un&&Ze!==null&&(bi||(Ze.f&Ut)!==0),u=l.deps===null;Zr(l)&&(s&&(l.f|=Ut),So(l)),s&&!u&&Oo(l)}if(vt?.has(e))return vt.get(e);if((e.f&Vn)!==0)throw e.v;return e.v}function Oo(e){if(e.deps!==null){e.f|=Ut;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&ft)!==0&&(t.f&Ut)===0&&Oo(t)}}function Jo(e){if(e.v===dt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(An.has(t)||(t.f&ft)!==0&&Jo(t))return!0;return!1}function j(e){var t=un;try{return un=!0,e()}finally{un=t}}function Mo(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(_n in e)Ia(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&_n in n&&Ia(n)}}}function Ia(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Ia(e[r],t)}catch{}const n=Na(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=eo(n);for(let i in r){const a=r[i].get;if(a)try{a.call(e)}catch{}}}}}const _c=["touchstart","touchmove"];function yc(e){return _c.includes(e)}const Uo=new Set,wa=new Set;function Ic(e,t,n,r={}){function i(a){if(r.capture||Pr.call(t,a),!a.cancelBubble)return kr(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Qt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function cn(e,t,n,r,i){var a={capture:r,passive:i},l=Ic(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ti(()=>{t.removeEventListener(e,l,a)})}function Ht(e){for(var t=0;t<e.length;t++)Uo.add(e[t]);for(var n of wa)n(e)}let dl=null;function Pr(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;dl=e;var l=0,o=dl===e&&e.__root;if(o){var s=i.indexOf(o);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;s<=u&&(l=s)}if(a=i[l]||e.target,a!==t){Kl(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=Ze,f=Ie;nn(null),In(null);try{for(var v,c=[];a!==null;){var g=a.assignedSlot||a.parentNode||a.host||null;try{var y=a["__"+r];y!=null&&(!a.disabled||e.target===a)&&y.call(a,e)}catch(I){v?c.push(I):v=I}if(e.cancelBubble||g===t||g===null)break;a=g}if(v){for(let I of c)queueMicrotask(()=>{throw I});throw v}}finally{e.__root=t,delete e.currentTarget,nn(d),In(f)}}}function Ta(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Kt(e,t){var n=Ie;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function X(e,t){var n=(t&Pu)!==0,r=(t&zu)!==0,i,a=!e.startsWith("<!>");return()=>{if(ge)return Kt(be,null),be;i===void 0&&(i=Ta(a?e:"<!>"+e),n||(i=wt(i)));var l=r||ko?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=wt(l),s=l.lastChild;Kt(o,s)}else Kt(l,l);return l}}function wc(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(ge)return Kt(be,null),be;if(!a){var l=Ta(i),o=wt(l);a=wt(o)}var s=a.cloneNode(!0);return Kt(s,s),s}}function Sc(e,t){return wc(e,t,"svg")}function Me(e=""){if(!ge){var t=St(e+"");return Kt(t,t),t}var n=be;return n.nodeType!==Qr?(n.before(n=St()),ot(n)):Ai(n),Kt(n,n),n}function en(){if(ge)return Kt(be,null),be;var e=document.createDocumentFragment(),t=document.createComment(""),n=St();return e.append(t,n),Kt(t,n),e}function E(e,t){if(ge){var n=Ie;((n.f&xr)===0||n.nodes.end===null)&&(n.nodes.end=be),Rn();return}e!==null&&e.before(t)}function xc(){if(ge&&be&&be.nodeType===Dn&&be.textContent?.startsWith("$")){const e=be.textContent.substring(1);return Rn(),e}return(window.__svelte??={}).uid??=1,`c${window.__svelte.uid++}`}let Sa=!0;function Pe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Bc(e,t){return Gc(e,t)}const fr=new Map;function Gc(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:l=!0}){lc();var o=new Set,s=f=>{for(var v=0;v<f.length;v++){var c=f[v];if(!o.has(c)){o.add(c);var g=yc(c);t.addEventListener(c,Pr,{passive:g});var y=fr.get(c);y===void 0?(document.addEventListener(c,Pr,{passive:g}),fr.set(c,1)):fr.set(c,y+1)}}};s(Ri(Uo)),wa.add(s);var u=void 0,d=fc(()=>{var f=n??t.appendChild(St());return bo(f,{pending:()=>{}},v=>{if(a){we({});var c=He;c.c=a}if(i&&(r.$$events=i),ge&&Kt(v,null),Sa=l,u=e(v,r)||{},Sa=!0,ge&&(Ie.nodes.end=be,be===null||be.nodeType!==Dn||be.data!==Xa))throw Kr(),qr;a&&Se()}),()=>{for(var v of o){t.removeEventListener(v,Pr);var c=fr.get(v);--c===0?(document.removeEventListener(v,Pr),fr.delete(v)):fr.set(v,c)}wa.delete(s),f!==n&&f.parentNode?.removeChild(f)}});return kc.set(u,d),u}let kc=new WeakMap;function pt(e,t=[],n=[],r){var i=ge;if(i&&Rn(),n.length===0&&t.every(d=>d.settled)){r(e);return}var a=_o(),l=Ge,o=a.is_rendered();if(a.update_pending_count(1),l.increment(o),i){var s=be,u=Jr(!1);ot(u)}Pi(t,[],n,d=>{i&&(Zn(!0),ot(s));try{for(const f of d)m(f);r(e,...d)}finally{i&&Zn(!1),a.update_pending_count(-1),l.decrement(o)}})}class La{anchor;#e=new Map;#i=new Map;#t=new Map;#a=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#r=()=>{var t=Ge;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#i.get(n);if(r)Aa(r),this.#a.delete(n);else{var i=this.#t.get(n);i&&(this.#i.set(n,i.effect),this.#t.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[a,l]of this.#e){if(this.#e.delete(a),a===t)break;const o=this.#t.get(l);o&&(Zt(o.effect),this.#t.delete(l))}for(const[a,l]of this.#i){if(a===n||this.#a.has(a))continue;const o=()=>{if(Array.from(this.#e.values()).includes(a)){var u=document.createDocumentFragment();Ho(l,u),u.append(St()),this.#t.set(a,{effect:l,fragment:u})}else Zt(l);this.#a.delete(a),this.#i.delete(a)};this.#l||!r?(this.#a.add(a),Kn(l,o,!1)):o()}}};#n=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#t)n.includes(r)||(Zt(i.effect),this.#t.delete(r))};ensure(t,n){var r=Ge,i=Wo();if(n&&!this.#i.has(t)&&!this.#t.has(t))if(i){var a=document.createDocumentFragment(),l=St();a.append(l),this.#t.set(t,{effect:Mt(()=>n(l)),fragment:a})}else this.#i.set(t,Mt(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[o,s]of this.#i)o===t?r.skipped_effects.delete(s):r.skipped_effects.add(s);for(const[o,s]of this.#t)o===t?r.skipped_effects.delete(s.effect):r.skipped_effects.add(s.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else ge&&(this.anchor=be),this.#r()}}function Re(e,t,n=!1){ge&&Rn();var r=new La(e),i=n?Yn:0;function a(l,o){if(ge){const u=ao(e)===Fi;if(l===u){var s=Jr();ot(s),r.anchor=s,Zn(!1),r.ensure(l,o),Zn(!0);return}}r.ensure(l,o)}Cr(()=>{var l=!1;t((o,s=!0)=>{l=!0,a(s,o)}),l||a(!1,null)},i)}function vl(e,t){ge&&ot(wt(e)),sr(()=>{var n=t();for(var r in n){var i=n[r];i?e.style.setProperty(r,i):e.style.removeProperty(r)}})}function $n(e,t){return t}function Cc(e,t,n){for(var r=[],i=t.length,a,l=t.length,o=0;o<i;o++){let f=t[o];Kn(f,()=>{if(a){if(a.pending.delete(f),a.done.add(f),a.pending.size===0){var v=e.outrogroups;xa(Ri(a.done)),v.delete(a),v.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var s=r.length===0&&n!==null;if(s){var u=n,d=u.parentNode;Eo(d),d.append(u),e.items.clear()}xa(t,!s)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function xa(e,t=!0){for(var n=0;n<e.length;n++)Zt(e[n],t)}var hl;function zt(e,t,n,r,i,a=null){var l=e,o=new Map,s=(t&io)!==0;if(s){var u=e;l=ge?ot(wt(u)):u.appendChild(St())}ge&&Rn();var d=null,f=Hi(()=>{var _=n();return Ur(_)?_:_==null?[]:Ri(_)}),v,c=!0;function g(){I.fallback=d,Zc(I,v,l,t,r),d!==null&&(v.length===0?(d.f&Cn)===0?Aa(d):(d.f^=Cn,zr(d,null,l)):Kn(d,()=>{d=null}))}var y=Cr(()=>{v=m(f);var _=v.length;let C=!1;if(ge){var R=ao(l)===Fi;R!==(_===0)&&(l=Jr(),ot(l),Zn(!1),C=!0)}for(var z=new Set,S=Ge,b=Wo(),Z=0;Z<_;Z+=1){ge&&be.nodeType===Dn&&be.data===Xa&&(l=be,C=!0,Zn(!1));var P=v[Z],V=r(P,Z),B=c?null:o.get(V);B?(B.v&&Ir(B.v,P),B.i&&Ir(B.i,Z),b&&S.skipped_effects.delete(B.e)):(B=Ec(o,c?l:hl??=St(),P,V,Z,i,t,n),c||(B.e.f|=Cn),o.set(V,B)),z.add(V)}if(_===0&&a&&!d&&(c?d=Mt(()=>a(l)):(d=Mt(()=>a(hl??=St())),d.f|=Cn)),ge&&_>0&&ot(Jr()),!c)if(b){for(const[H,A]of o)z.has(H)||S.skipped_effects.add(A.e);S.oncommit(g),S.ondiscard(()=>{})}else g();C&&Zn(!0),m(f)}),I={effect:y,items:o,outrogroups:null,fallback:d};c=!1,ge&&(l=be)}function $r(e){for(;e!==null&&(e.f&fn)===0;)e=e.next;return e}function Zc(e,t,n,r,i){var a=(r&Cu)!==0,l=t.length,o=e.items,s=$r(e.effect.first),u,d=null,f,v=[],c=[],g,y,I,_;if(a)for(_=0;_<l;_+=1)g=t[_],y=i(g,_),I=o.get(y).e,(I.f&Cn)===0&&(I.nodes?.a?.measure(),(f??=new Set).add(I));for(_=0;_<l;_+=1){if(g=t[_],y=i(g,_),I=o.get(y).e,e.outrogroups!==null)for(const B of e.outrogroups)B.pending.delete(I),B.done.delete(I);if((I.f&Cn)!==0)if(I.f^=Cn,I===s)zr(I,null,n);else{var C=d?d.next:s;I===e.effect.last&&(e.effect.last=I.prev),I.prev&&(I.prev.next=I.next),I.next&&(I.next.prev=I.prev),Xn(e,d,I),Xn(e,I,C),zr(I,C,n),d=I,v=[],c=[],s=$r(d.next);continue}if((I.f&Pt)!==0&&(Aa(I),a&&(I.nodes?.a?.unfix(),(f??=new Set).delete(I))),I!==s){if(u!==void 0&&u.has(I)){if(v.length<c.length){var R=c[0],z;d=R.prev;var S=v[0],b=v[v.length-1];for(z=0;z<v.length;z+=1)zr(v[z],R,n);for(z=0;z<c.length;z+=1)u.delete(c[z]);Xn(e,S.prev,b.next),Xn(e,d,S),Xn(e,b,R),s=R,d=b,_-=1,v=[],c=[]}else u.delete(I),zr(I,s,n),Xn(e,I.prev,I.next),Xn(e,I,d===null?e.effect.first:d.next),Xn(e,d,I),d=I;continue}for(v=[],c=[];s!==null&&s!==I;)(u??=new Set).add(s),c.push(s),s=$r(s.next);if(s===null)continue}(I.f&Cn)===0&&v.push(I),d=I,s=$r(I.next)}if(e.outrogroups!==null){for(const B of e.outrogroups)B.pending.size===0&&(xa(Ri(B.done)),e.outrogroups?.delete(B));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||u!==void 0){var Z=[];if(u!==void 0)for(I of u)(I.f&Pt)===0&&Z.push(I);for(;s!==null;)(s.f&Pt)===0&&s!==e.fallback&&Z.push(s),s=$r(s.next);var P=Z.length;if(P>0){var V=(r&io)!==0&&l===0?n:null;if(a){for(_=0;_<P;_+=1)Z[_].nodes?.a?.measure();for(_=0;_<P;_+=1)Z[_].nodes?.a?.fix()}Cc(e,Z,V)}}a&&Qt(()=>{if(f!==void 0)for(I of f)I.nodes?.a?.apply()})}function Ec(e,t,n,r,i,a,l,o){var s=(l&Gu)!==0?(l&Zu)===0?Hr(n,!1,!1):Tn(n):null,u=(l&ku)!==0?Tn(i):null;return{v:s,i:u,e:Mt(()=>(a(t,s??n,u??i,o),()=>{e.delete(r)}))}}function zr(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&(t.f&Cn)===0?t.nodes.start:n;r!==null;){var l=tn(r);if(a.before(r),r===i)return;r=l}}function Xn(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Wc(e,t,n=!1,r=!1,i=!1){var a=e,l="";ce(()=>{var o=Ie;if(l===(l=t()??"")){ge&&Rn();return}if(o.nodes!==null&&(Xo(o.nodes.start,o.nodes.end),o.nodes=null),l!==""){if(ge){be.data;for(var s=Rn(),u=s;s!==null&&(s.nodeType!==Dn||s.data!=="");)u=s,s=tn(s);if(s===null)throw Kr(),qr;Kt(be,u),a=ot(s);return}var d=l+"";n?d=`<svg>${d}</svg>`:r&&(d=`<math>${d}</math>`);var f=Ta(d);if((n||r)&&(f=wt(f)),Kt(wt(f),f.lastChild),n||r)for(;wt(f);)a.before(wt(f));else a.before(f)}})}function _t(e,t,...n){var r=new La(e);Cr(()=>{const i=t()??null;r.ensure(i,i&&(a=>i(a,...n)))},Yn)}function gl(e,t,n){ge&&Rn();var r=new La(e);Cr(()=>{var i=t()??null;r.ensure(i,i&&(a=>n(a,i)))},Yn)}const Yc=()=>performance.now(),Gn={tick:e=>requestAnimationFrame(e),now:()=>Yc(),tasks:new Set};function Qo(){const e=Gn.now();Gn.tasks.forEach(t=>{t.c(e)||(Gn.tasks.delete(t),t.f())}),Gn.tasks.size!==0&&Gn.tick(Qo)}function Rc(e){let t;return Gn.tasks.size===0&&Gn.tick(Qo),{promise:new Promise(n=>{Gn.tasks.add(t={c:e,f:n})}),abort(){Gn.tasks.delete(t)}}}function Gi(e,t){kr(()=>{e.dispatchEvent(new CustomEvent(t))})}function Nc(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function pl(e){const t={},n=e.split(";");for(const r of n){const[i,a]=r.split(":");if(!i||a===void 0)break;const l=Nc(i.trim());t[l]=a.trim()}return t}const $c=e=>e;function ml(e,t,n,r){var i=(e&$u)!==0,a=(e&Fu)!==0,l=i&&a,o=(e&Xu)!==0,s=l?"both":i?"in":"out",u,d=t.inert,f=t.style.overflow,v,c;function g(){return kr(()=>u??=n()(t,r?.()??{},{direction:s}))}var y={is_global:o,in(){if(t.inert=d,!i){c?.abort(),c?.reset?.();return}a||v?.abort(),v=Ba(t,g(),c,1,()=>{Gi(t,"introend"),v?.abort(),v=u=void 0,t.style.overflow=f})},out(R){if(!a){R?.(),u=void 0;return}t.inert=!0,c=Ba(t,g(),v,0,()=>{Gi(t,"outroend"),R?.()})},stop:()=>{v?.abort(),c?.abort()}},I=Ie;if((I.nodes.t??=[]).push(y),i&&Sa){var _=o;if(!_){for(var C=I.parent;C&&(C.f&Yn)!==0;)for(;(C=C.parent)&&(C.f&Sn)===0;);_=!C||(C.f&xr)!==0}_&&Li(()=>{j(()=>y.in())})}}function Ba(e,t,n,r,i){var a=r===1;if(hr(t)){var l,o=!1;return Qt(()=>{if(!o){var I=t({direction:a?"in":"out"});l=Ba(e,I,n,r,i)}}),{abort:()=>{o=!0,l?.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(n?.deactivate(),!t?.duration&&!t?.delay)return Gi(e,a?"introstart":"outrostart"),i(),{abort:Xe,deactivate:Xe,reset:Xe,t:()=>r};const{delay:s=0,css:u,tick:d,easing:f=$c}=t;var v=[];if(a&&n===void 0&&(d&&d(0,1),u)){var c=pl(u(0,1));v.push(c,c)}var g=()=>1-r,y=e.animate(v,{duration:s,fill:"forwards"});return y.onfinish=()=>{y.cancel(),Gi(e,a?"introstart":"outrostart");var I=n?.t()??1-r;n?.abort();var _=r-I,C=t.duration*Math.abs(_),R=[];if(C>0){var z=!1;if(u)for(var S=Math.ceil(C/16.666666666666668),b=0;b<=S;b+=1){var Z=I+_*f(b/S),P=pl(u(Z,1-Z));R.push(P),z||=P.overflow==="hidden"}z&&(e.style.overflow="hidden"),g=()=>{var V=y.currentTime;return I+_*f(V/C)},d&&Rc(()=>{if(y.playState!=="running")return!1;var V=g();return d(V,1-V),!0})}y=e.animate(R,{duration:C,fill:"forwards"}),y.onfinish=()=>{g=()=>r,d?.(r,1-r),i()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=Xe)},deactivate:()=>{i=Xe},reset:()=>{r===0&&d?.(1,0)},t:()=>g()}}function Fc(e,t){let n=null,r=ge;var i;if(ge){n=be;for(var a=wt(document.head);a!==null&&(a.nodeType!==Dn||a.data!==e);)a=tn(a);if(a===null)Zn(!1);else{var l=tn(a);a.remove(),ot(l)}}ge||(i=document.head.appendChild(St()));try{Cr(()=>t(i),$a)}finally{r&&(Zn(!0),ot(n))}}function Sr(e,t,n){Li(()=>{var r=j(()=>t(e,n?.())||{});if(r?.destroy)return()=>r.destroy()})}const bl=[...` 	
\r\fÂ \v\uFEFF`];function Xc(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var a=i.length,l=0;(l=r.indexOf(i,l))>=0;){var o=l+a;(l===0||bl.includes(r[l-1]))&&(o===r.length||bl.includes(r[o]))?r=(l===0?"":r.substring(0,l))+r.substring(o+1):l=o}}return r===""?null:r}function Pc(e,t){return e==null?null:String(e)}function Bt(e,t,n,r,i,a){var l=e.__className;if(ge||l!==n||l===void 0){var o=Xc(n,r,a);(!ge||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=n}else if(a&&i!==a)for(var s in a){var u=!!a[s];(i==null||u!==!!i[s])&&e.classList.toggle(s,u)}return a}function zc(e,t,n,r){var i=e.__style;if(ge||i!==t){var a=Pc(t);(!ge||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=t}return r}function qo(e,t,n=!1){if(e.multiple){if(t==null)return;if(!Ur(t))return Au();for(var r of e.options)r.selected=t.includes(Tr(r));return}for(r of e.options){var i=Tr(r);if(ac(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Vc(e){var t=new MutationObserver(()=>{qo(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ti(()=>{t.disconnect()})}function Hc(e,t,n=t){var r=new WeakSet,i=!0;Va(e,"change",a=>{var l=a?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(l),Tr);else{var s=e.querySelector(l)??e.querySelector("option:not([disabled])");o=s&&Tr(s)}n(o),Ge!==null&&r.add(Ge)}),Li(()=>{var a=t();if(e===document.activeElement){var l=wi??Ge;if(r.has(l))return}if(qo(e,a,i),i&&a===void 0){var o=e.querySelector(":checked");o!==null&&(a=Tr(o),n(a))}e.__value=a,i=!1}),Vc(e)}function Tr(e){return"__value"in e?e.__value:e.value}const Ac=Symbol("is custom element"),Tc=Symbol("is html");function tr(e){if(ge){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Vt(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;Vt(e,"checked",null),e.checked=i}}};e.__on_r=n,Qt(n),Yo()}}function Vt(e,t,n,r){var i=Lc(e);ge&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[vu]=n),n==null?e.removeAttribute(t):typeof n!="string"&&jc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Lc(e){return e.__attributes??={[Ac]:e.nodeName.includes("-"),[Tc]:e.namespaceURI===Hu}}var _l=new Map;function jc(e){var t=e.getAttribute("is")||e.nodeName,n=_l.get(t);if(n)return n;_l.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){r=eo(i);for(var l in r)r[l].set&&n.push(l);i=Na(i)}return n}function nr(e,t,n=t){var r=new WeakSet;Va(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=aa(e)?la(a):a,n(a),Ge!==null&&r.add(Ge),await ni(),a!==(a=t())){var l=e.selectionStart,o=e.selectionEnd,s=e.value.length;if(e.value=a??"",o!==null){var u=e.value.length;l===o&&o===s&&u>s?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=l,e.selectionEnd=Math.min(o,u))}}}),(ge&&e.defaultValue!==e.value||j(t)==null&&e.value)&&(n(aa(e)?la(e.value):e.value),Ge!==null&&r.add(Ge)),sr(()=>{var i=t();if(e===document.activeElement){var a=wi??Ge;if(r.has(a))return}aa(e)&&i===la(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Dc(e,t,n=t){Va(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),(ge&&e.defaultChecked!==e.checked||j(t)==null)&&n(e.checked),sr(()=>{var r=t();e.checked=!!r})}function aa(e){var t=e.type;return t==="number"||t==="range"}function la(e){return e===""?null:+e}function yl(e,t){return e===t||e?.[_n]===t}function lr(e={},t,n,r){return Li(()=>{var i,a;return sr(()=>{i=a,a=[],j(()=>{e!==n(...a)&&(t(e,...a),i&&yl(n(...i),e)&&t(null,...i))})}),()=>{Qt(()=>{a&&yl(n(...a),e)&&t(null,...a)})}}),e}function ja(e=!1){const t=He,n=t.l.u;if(!n)return;let r=()=>Mo(t.s);if(e){let i=0,a={};const l=ti(()=>{let o=!1;const s=t.s;for(const u in s)s[u]!==a[u]&&(a[u]=s[u],o=!0);return o&&i++,i});r=()=>m(l)}n.b.length&&uc(()=>{Il(t,r),Ii(n.b)}),yn(()=>{const i=j(()=>n.m.map(du));return()=>{for(const a of i)typeof a=="function"&&a()}}),n.a.length&&yn(()=>{Il(t,r),Ii(n.a)})}function Il(e,t){if(e.l.s)for(const n of e.l.s)m(n);t()}function wl(e,t){var n=e.$$events?.[t.type],r=Ur(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,t)}function Da(e,t,n){if(e==null)return t(void 0),n&&n(void 0),Xe;const r=j(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const dr=[];function Oa(e,t){return{subscribe:rr(e,t).subscribe}}function rr(e,t=Xe){let n=null;const r=new Set;function i(o){if(oo(e,o)&&(e=o,n)){const s=!dr.length;for(const u of r)u[1](),dr.push(u,e);if(s){for(let u=0;u<dr.length;u+=2)dr[u][0](dr[u+1]);dr.length=0}}}function a(o){i(o(e))}function l(o,s=Xe){const u=[o,s];return r.add(u),r.size===1&&(n=t(i,a)||Xe),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:l}}function Ko(e,t,n){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return Oa(n,(l,o)=>{let s=!1;const u=[];let d=0,f=Xe;const v=()=>{if(d)return;f();const g=t(r?u[0]:u,l,o);a?l(g):f=typeof g=="function"?g:Xe},c=i.map((g,y)=>Da(g,I=>{u[y]=I,d&=~(1<<y),s&&v()},()=>{d|=1<<y}));return s=!0,v(),function(){Ii(c),f(),s=!1}})}function Oc(e){let t;return Da(e,n=>t=n)(),t}let di=!1,Ga=Symbol();function Ae(e,t,n){const r=n[t]??={store:null,source:Hr(void 0),unsubscribe:Xe};if(r.store!==e&&!(Ga in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Xe;else{var i=!0;r.unsubscribe=Da(e,a=>{i?r.source.v=a:ae(r.source,a)}),i=!1}return e&&Ga in n?Oc(e):m(r.source)}function Sl(e,t,n){let r=n[t];return r&&r.store!==e&&(r.unsubscribe(),r.unsubscribe=Xe),e}function Jc(e,t){return e.set(t),t}function $t(e,t){var n=e[t];n.store!==null&&Jc(n.store,n.source.v)}function Ke(){const e={};function t(){Ti(()=>{for(var n in e)e[n].unsubscribe();Kl(e,Ga,{enumerable:!1,value:!0})})}return[e,t]}function me(e,t,n){return e.set(n),t}function Mc(e){var t=di;try{return di=!1,[e(),di]}finally{di=t}}const Uc={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(hr(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];hr(i)&&(i=i());const a=zn(i,t);if(a&&a.set)return a.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(hr(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=zn(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===_n||t===ro)return!1;for(let n of e.props)if(hr(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(hr(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function xl(...e){return new Proxy({props:e},Uc)}function bt(e,t,n,r){var i=!Gr||(n&Wu)!==0,a=(n&Ru)!==0,l=(n&Nu)!==0,o=r,s=!0,u=()=>(s&&(s=!1,o=l?j(r):r),o),d;if(a){var f=_n in e||ro in e;d=zn(e,t)?.set??(f&&t in e?R=>e[t]=R:void 0)}var v,c=!1;a?[v,c]=Mc(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=u(),d&&(i&&Iu(),d(v)));var g;if(i?g=()=>{var R=e[t];return R===void 0?u():(s=!0,R)}:g=()=>{var R=e[t];return R!==void 0&&(o=void 0),R===void 0?o:R},i&&(n&Yu)===0)return g;if(d){var y=e.$$legacy;return(function(R,z){return arguments.length>0?((!i||!z||y||c)&&d(z?g():R),R):g()})}var I=!1,_=((n&Eu)!==0?ti:Hi)(()=>(I=!1,g()));a&&m(_);var C=Ie;return(function(R,z){if(arguments.length>0){const S=z?m(_):i&&a?Pn(R):R;return ae(_,S),I=!0,o!==void 0&&(o=S),R}return jn&&I||(C.f&bn)!==0?_.v:m(_)})}function Qc(e){He===null&&$i(),Gr&&He.l!==null?es(He).m.push(e):yn(()=>{const t=j(e);if(typeof t=="function")return t})}function qc(e){He===null&&$i(),Qc(()=>()=>j(e))}function Kc(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function ef(){const e=He;return e===null&&$i(),(t,n,r)=>{const i=e.s.$$events?.[t];if(i){const a=Ur(i)?i.slice():[i],l=Kc(t,n,r);for(const o of a)o.call(e.x,l);return!l.defaultPrevented}return!0}}function tf(e){He===null&&$i(),He.l===null&&yu(),es(He).a.push(e)}function es(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const nf="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(nf);Du();ju();var rf=X("<div><!></div>");function re(e,t){var n=rf();let r;var i=F(n);_t(i,()=>t.children??Xe),N(n),ce(()=>r=Bt(n,1,"flex svelte-13pc1i9",null,r,{paddingVertical:t.padding==="vertical"||t.padding===!0,paddingHorizontal:t.padding==="horizontal"||t.padding===!0,column:t.column,full:t.full,nogap:t.nogap,justifyStart:t.justify==="start",justifyCenter:t.justify==="center",justifyEnd:t.justify==="end",justifyBetween:t.justify==="between",alignStart:t.align==="start",alignCenter:t.align==="center",alignEnd:t.align==="end",sm:t.sm,xl:t.xl,nogrow:t.nogrow})),E(e,n)}var af=X(" <h1>oops! something went wrong.</h1> <pre> </pre> <button>oops! try again</button>",1),lf=X("<h1>loading...</h1>"),of=X("<!> <!>",1);function sf(e,t){var n=en(),r=O(n);bo(r,{failed:(a,l=Xe,o=Xe)=>{_e();var s=af(),u=O(s),d=G(u,3),f=F(d,!0);N(d);var v=G(d,2);v.__click=function(...c){o()?.apply(this,c)},ce((c,g)=>{Pe(u,`${c??""} `),Pe(f,g)},[()=>console.error(l()),()=>JSON.stringify(l(),null,2)]),E(a,s)}},a=>{var l=of(),o=O(l);_t(o,()=>t.children??Xe);var s=G(o,2);{var u=d=>{re(d,{justify:"center",padding:!0,children:(f,v)=>{var c=lf();E(f,c)}})};Re(s,d=>{Qu(tc)&&d(u)})}E(a,l)}),E(e,n)}Ht(["click"]);const uf="modulepreload",cf=function(e){return"/dnd-character-sheet/"+e},Bl={},ri=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=u;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=u(n.map(d=>{if(d=cf(d),d in Bl)return;Bl[d]=!0;const f=d.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const c=document.createElement("link");if(c.rel=f?"stylesheet":uf,f||(c.as="script"),c.crossOrigin="",c.href=d,s&&c.setAttribute("nonce",s),document.head.appendChild(c),f)return new Promise((g,y)=>{c.addEventListener("load",g),c.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function ts(){return(Date.now()+Math.floor(Math.random()*1e3)).toString(36)}function ff(e){return Array.from(new Set(e))}function ns(e){return e>0?`+${e}`:e.toString()}function ji(e){return Math.floor((e-10)/2)}function df(e){switch(e){case"none":return 0;case"proficient":return 1;case"double":return 2;case"half":return .5}}function vf(e,t,n){const r=df(n),i=ji(e);return Math.floor(i+t*r)}function hf(e){return Object.entries(e)}function rs(e){const t=URL.createObjectURL(e);return new Promise((n,r)=>{const i=document.createElement("img");i.dispose=()=>{URL.revokeObjectURL(t)},i.onload=()=>{n(i)},i.onerror=()=>{r(new Error("Image could not be loaded"))},i.src=t})}function gf(e,t){const n=e.indexOf(t),r=Array.from(e);return n===-1?r.push(t):r.splice(n,1),r}function pf(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"")}function oa(e,t){const{[t]:n,...r}=e;return r}function mf(e,t){const n=e.indexOf(t);if(n===-1)return[e,""];const r=e.slice(0,n),i=e.slice(n+t.length);return[r.trim(),i.trim()]}function is(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}const Ja=rr([]);function ki(e,t="info"){const n={id:ts(),message:e,type:t};Ja.update(r=>[...r,n])}function Gl(e){Ja.update(t=>t.filter(n=>n.id!==e))}const bf=e=>e;function _f(e){const t=e-1;return t*t*t+1}function kl(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function yf(e,{delay:t=0,duration:n=400,easing:r=bf}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}function If(e,{delay:t=0,duration:n=400,easing:r=_f,x:i=0,y:a=0,opacity:l=0}={}){const o=getComputedStyle(e),s=+o.opacity,u=o.transform==="none"?"":o.transform,d=s*(1-l),[f,v]=kl(i),[c,g]=kl(a);return{delay:t,duration:n,easing:r,css:(y,I)=>`
			transform: ${u} translate(${(1-y)*f}${v}, ${(1-y)*c}${g});
			opacity: ${s-d*I}`}}var wf=X('<div><div class="inner svelte-foxhw6"><!></div></div>');function at(e,t){var n=wf();let r;var i=F(n),a=F(i);_t(a,()=>t.children??Xe),N(i),N(n),ce(()=>r=Bt(n,1,"container svelte-foxhw6",null,r,{nopadding:t.nopadding,grid:t.grid,absolute:t.absolute,rounded:t.rounded,noshadow:t.noshadow,transparent:t.transparent,faded:t.faded,small:t.small,nogrow:t.nogrow,withHover:t.withHover,flex:t.flex})),E(e,n)}var Sf=X('<div class="message"> </div>'),xf=X('<button type="button" class="container"><!></button>');function Bf(e,t){we(t,!0);const n=4e3;let r=We(!1);function i(){Gl(t.notification.id)}function a(){ae(r,!0)}function l(){ae(r,!1)}yn(()=>{if(m(r))return;const u=setTimeout(()=>{Gl(t.notification.id)},n);return()=>{clearTimeout(u)}});var o=xf();o.__click=i;var s=F(o);at(s,{children:(u,d)=>{var f=Sf(),v=F(f,!0);N(f),ce(()=>Pe(v,t.notification.message)),E(u,f)}}),N(o),cn("mouseenter",o,a),cn("mouseleave",o,l),ml(1,o,()=>If,()=>({y:100,duration:300})),ml(2,o,()=>yf,()=>({duration:300})),E(e,o),Se()}Ht(["click"]);var Gf=X('<div class="notification"><!></div>'),kf=X('<div class="container hide-print svelte-1tpaxq5"></div>');function Cf(e){const t=()=>Ae(Ja,"$notifications",n),[n,r]=Ke();var i=kf();zt(i,5,t,a=>a.id,(a,l)=>{var o=Gf(),s=F(o);Bf(s,{get notification(){return m(l)}}),N(o),E(a,o)}),N(i),E(e,i),r()}var Zf=Sc('<svg width="0" height="0" style="display: none;"><filter id="pencil"><feTurbulence type="fractalNoise" baseFrequency="0.5" numOctaves="1" result="noise"></feTurbulence><feDisplacementMap in="SourceGraphic" in2="noise"></feDisplacementMap></filter></svg>');function Ef(e){let n=We(2.2);function r(){ae(n,.8)}function i(){ae(n,2.2)}var a=Zf();cn("beforeprint",Ln,r),cn("afterprint",Ln,i);var l=F(a),o=G(F(l));N(l),N(a),ce(()=>Vt(o,"scale",m(n))),E(e,a)}let sa;function as(e){return{lang:sa?.lang,message:e?.message,abortEarly:sa?.abortEarly,abortPipeEarly:sa?.abortPipeEarly}}let Wf;function Yf(e){return Wf?.get(e)}let Rf;function Nf(e){return Rf?.get(e)}let $f;function Ff(e,t){return $f?.get(e)?.get(t)}function ls(e){const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function Fn(e,t,n,r,i){const a=i&&"input"in i?i.input:n.value,l=i?.expected??e.expects??null,o=i?.received??ls(a),s={kind:e.kind,type:e.type,input:a,expected:l,received:o,message:`Invalid ${t}: ${l?`Expected ${l} but r`:"R"}eceived ${o}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u=e.kind==="schema",d=i?.message??e.message??Ff(e.reference,s.lang)??(u?Nf(s.lang):null)??r.message??Yf(s.lang);d!==void 0&&(s.message=typeof d=="function"?d(s):d),u&&(n.typed=!1),n.issues?n.issues.push(s):n.issues=[s]}function dn(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},as())}}}function Xf(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}function Cl(e,t){const n={};for(const r of e)n[r]=t;return n}var Pf=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function os(e){return{kind:"validation",type:"non_empty",reference:os,async:!1,expects:"!0",message:e,"~run"(t,n){return t.typed&&t.value.length===0&&Fn(this,"length",t,n,{received:"0"}),t}}}function ss(e,t,n){return typeof e.fallback=="function"?e.fallback(t,n):e.fallback}function zf(e,t){return{...e,fallback:t,get"~standard"(){return dn(this)},"~run"(n,r){const i=e["~run"](n,r);return i.issues?{typed:!0,value:ss(this,i,r)}:i}}}function Ma(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function gr(e,t){return{kind:"schema",type:"array",reference:gr,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return dn(this)},"~run"(n,r){const i=n.value;if(Array.isArray(i)){n.typed=!0,n.value=[];for(let a=0;a<i.length;a++){const l=i[a],o=this.item["~run"]({value:l},r);if(o.issues){const s={type:"array",origin:"value",input:i,key:a,value:l};for(const u of o.issues)u.path?u.path.unshift(s):u.path=[s],n.issues?.push(u);if(n.issues||(n.issues=o.issues),r.abortEarly){n.typed=!1;break}}o.typed||(n.typed=!1),n.value.push(o.value)}}else Fn(this,"type",n,r);return n}}}function ka(e){return{kind:"schema",type:"boolean",reference:ka,expects:"boolean",async:!1,message:e,get"~standard"(){return dn(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:Fn(this,"type",t,n),t}}}function us(e,t){return{kind:"schema",type:"instance",reference:us,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return dn(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:Fn(this,"type",n,r),n}}}function cs(e,t){return{kind:"schema",type:"nullable",reference:cs,expects:`(${e.expects} | null)`,async:!1,wrapped:e,default:t,get"~standard"(){return dn(this)},"~run"(n,r){return n.value===null&&(this.default!==void 0&&(n.value=Ma(this,n,r)),n.value===null)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function ht(e){return{kind:"schema",type:"number",reference:ht,expects:"number",async:!1,message:e,get"~standard"(){return dn(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Fn(this,"type",t,n),t}}}function kn(e,t){return{kind:"schema",type:"object",reference:kn,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return dn(this)},"~run"(n,r){const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const a in this.entries){const l=this.entries[a];if(a in i||(l.type==="exact_optional"||l.type==="optional"||l.type==="nullish")&&l.default!==void 0){const o=a in i?i[a]:Ma(l),s=l["~run"]({value:o},r);if(s.issues){const u={type:"object",origin:"value",input:i,key:a,value:o};for(const d of s.issues)d.path?d.path.unshift(u):d.path=[u],n.issues?.push(d);if(n.issues||(n.issues=s.issues),r.abortEarly){n.typed=!1;break}}s.typed||(n.typed=!1),n.value[a]=s.value}else if(l.fallback!==void 0)n.value[a]=ss(l);else if(l.type!=="exact_optional"&&l.type!=="optional"&&l.type!=="nullish"&&(Fn(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]}),r.abortEarly))break}}else Fn(this,"type",n,r);return n}}}function se(e,t){return{kind:"schema",type:"optional",reference:se,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return dn(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Ma(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function ii(e,t){return{kind:"schema",type:"picklist",reference:ii,expects:Xf(e.map(ls),"|"),async:!1,options:e,message:t,get"~standard"(){return dn(this)},"~run"(n,r){return this.options.includes(n.value)?n.typed=!0:Fn(this,"type",n,r),n}}}function Ve(e){return{kind:"schema",type:"string",reference:Ve,expects:"string",async:!1,message:e,get"~standard"(){return dn(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:Fn(this,"type",t,n),t}}}function Ci(e,t,n){const r=e["~run"]({value:t},as(n));if(r.issues)throw new Pf(r.issues);return r.value}function Vf(...e){return{...e[0],pipe:e,get"~standard"(){return dn(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const fs=["light","dark","automatic"],Hf=zf(ii(fs),"automatic"),rt=rr({edit:!1,theme:Ci(Hf,localStorage.getItem("theme")),hasChanges:!1});rt.subscribe(e=>{e.hasChanges?window.onbeforeunload=()=>"There are unsaved changed, these will get lost if you continue":window.onbeforeunload=null,document.documentElement.classList.remove("dark-mode"),document.documentElement.classList.remove("light-mode"),e.theme==="light"&&document.documentElement.classList.add("light-mode"),e.theme==="dark"&&document.documentElement.classList.add("dark-mode"),localStorage.setItem("theme",e.theme)});var Af=X("<div></div>");function ye(e,t){var n=Af();let r;ce(()=>r=Bt(n,1,"svelte-avds",null,r,{spread:t.spread,vertical:t.vertical})),E(e,n)}var Tf=X("<label> </label>"),Lf=X("<option> </option>"),jf=X('<div class="wrapper svelte-t5ihcw"><!> <select></select></div>');function Ca(e,t){const n=xc();we(t,!0);let r=bt(t,"value",15);var i=jf(),a=F(i);{var l=s=>{var u=Tf(),d=F(u,!0);N(u),ce(()=>{Vt(u,"for",n),Pe(d,t.label)}),E(s,u)};Re(a,s=>{t.label&&s(l)})}var o=G(a,2);zt(o,21,()=>t.options,$n,(s,u)=>{var d=Lf(),f=F(d,!0);N(d);var v={};ce(()=>{Pe(f,m(u)),v!==(v=m(u))&&(d.value=(d.__value=m(u))??"")}),E(s,d)}),N(o),N(i),ce(()=>Vt(o,"id",n)),Hc(o,r),E(e,i),Se()}var Df=X('<footer><!> <div class="inner svelte-4jwo3w"><!></div></footer>');function Of(e,t){we(t,!1);const n=()=>Ae(rt,"$appSettings",r),[r,i]=Ke();ja();var a=Df(),l=F(a);ye(l,{});var o=G(l,2),s=F(o);Ca(s,{label:"Theme",get options(){return fs},get value(){return n().theme},set value(u){me(rt,j(n).theme=u,j(n))},$$legacy:!0}),N(o),N(a),E(e,a),Se(),i()}function ds(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,l=[],o="",s=e.split("/");for(s[0]||s.shift();i=s.shift();)n=i[0],n==="*"?(l.push("wild"),o+="/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),l.push(i.substring(1,~r?r:~a?a:i.length)),o+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~r?"?":"")+"\\"+i.substring(a))):o+="/"+i;return{keys:l,pattern:new RegExp("^"+o+"/?$","i")}}function Zl(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Di=Oa(null,function(t){t(Zl());const n=()=>{t(Zl())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Ko(Di,e=>e.location);Ko(Di,e=>e.querystring);const El=rr(void 0);async function Jf(e){if(!e||e.length<1||e.charAt(0)!="/"&&e.indexOf("#/")!==0)throw Error("Invalid parameter location");await ni(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(e.charAt(0)=="#"?"":"#")+e}function Zi(e,t){if(t=Yl(t),!e||!e.tagName||e.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Wl(e,t),{update(n){n=Yl(n),Wl(e,n)}}}function Mf(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Wl(e,t){let n=t.href||e.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);e.setAttribute("href",n),e.addEventListener("click",r=>{r.preventDefault(),t.disabled||Uf(r.currentTarget.getAttribute("href"))})}function Yl(e){return e&&typeof e=="string"?{href:e}:e||{}}function Uf(e){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=e}function Qf(e,t){we(t,!1);let n=bt(t,"routes",24,()=>({})),r=bt(t,"prefix",8,""),i=bt(t,"restoreScrollState",8,!1);class a{constructor(b,Z){if(!Z||typeof Z!="function"&&(typeof Z!="object"||Z._sveltesparouter!==!0))throw Error("Invalid component object");if(!b||typeof b=="string"&&(b.length<1||b.charAt(0)!="/"&&b.charAt(0)!="*")||typeof b=="object"&&!(b instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:P,keys:V}=ds(b);this.path=b,typeof Z=="object"&&Z._sveltesparouter===!0?(this.component=Z.component,this.conditions=Z.conditions||[],this.userData=Z.userData,this.props=Z.props||{}):(this.component=()=>Promise.resolve(Z),this.conditions=[],this.props={}),this._pattern=P,this._keys=V}match(b){if(r()){if(typeof r()=="string")if(b.startsWith(r()))b=b.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const B=b.match(r());if(B&&B[0])b=b.substr(B[0].length)||"/";else return null}}const Z=this._pattern.exec(b);if(Z===null)return null;if(this._keys===!1)return Z;const P={};let V=0;for(;V<this._keys.length;){try{P[this._keys[V]]=decodeURIComponent(Z[V+1]||"")||null}catch{P[this._keys[V]]=null}V++}return P}async checkConditions(b){for(let Z=0;Z<this.conditions.length;Z++)if(!await this.conditions[Z](b))return!1;return!0}}const l=[];n()instanceof Map?n().forEach((S,b)=>{l.push(new a(b,S))}):Object.keys(n()).forEach(S=>{l.push(new a(S,n()[S]))});let o=Hr(null),s=Hr(null),u=Hr({});const d=ef();async function f(S,b){await ni(),d(S,b)}let v=null,c=null;i()&&(c=S=>{S.state&&(S.state.__svelte_spa_router_scrollY||S.state.__svelte_spa_router_scrollX)?v=S.state:v=null},window.addEventListener("popstate",c),tf(()=>{Mf(v)}));let g=null,y=null;const I=Di.subscribe(async S=>{g=S;let b=0;for(;b<l.length;){const Z=l[b].match(S.location);if(!Z){b++;continue}const P={route:l[b].path,location:S.location,querystring:S.querystring,userData:l[b].userData,params:Z&&typeof Z=="object"&&Object.keys(Z).length?Z:null};if(!await l[b].checkConditions(P)){ae(o,null),y=null,f("conditionsFailed",P);return}f("routeLoading",Object.assign({},P));const V=l[b].component;if(y!=V){V.loading?(ae(o,V.loading),y=V,ae(s,V.loadingParams),ae(u,{}),f("routeLoaded",Object.assign({},P,{component:m(o),name:m(o).name,params:m(s)}))):(ae(o,null),y=null);const B=await V();if(S!=g)return;ae(o,B&&B.default||B),y=V}Z&&typeof Z=="object"&&Object.keys(Z).length?ae(s,Z):ae(s,null),ae(u,l[b].props),f("routeLoaded",Object.assign({},P,{component:m(o),name:m(o).name,params:m(s)})).then(()=>{El.set(m(s))});return}ae(o,null),y=null,El.set(void 0)});qc(()=>{I(),c&&window.removeEventListener("popstate",c)}),dc(()=>Mo(i()),()=>{history.scrollRestoration=i()?"manual":"auto"}),vc(),ja();var _=en(),C=O(_);{var R=S=>{var b=en(),Z=O(b);gl(Z,()=>m(o),(P,V)=>{V(P,xl({get params(){return m(s)}},()=>m(u),{$$events:{routeEvent(B){wl.call(this,t,B)}}}))}),E(S,b)},z=S=>{var b=en(),Z=O(b);gl(Z,()=>m(o),(P,V)=>{V(P,xl(()=>m(u),{$$events:{routeEvent(B){wl.call(this,t,B)}}}))}),E(S,b)};Re(C,S=>{m(s)?S(R):S(z,!1)})}E(e,_),Se()}const Lr=1300,jr=1e3;function qf(e,t,n=.4,r=!1,i=128){const a=e.width|0,l=e.height|0;if(a<=0||l<=0)return;const o=t.getImageData(0,0,a,l),s=o.data,d=Math.max(-1,Math.min(1,n))*255,f=259*(d+255)/(255*(259-d)),v=g=>g<0?0:g>255?255:g,c=g=>v(f*(g-128)+128);for(let g=0;g<s.length;g+=4){if(s[g+3]===0)continue;const I=s[g+0],_=s[g+1],C=s[g+2];if(r){const R=.2126*I+.7152*_+.0722*C,S=c(R)<i?0:255;s[g+0]=S,s[g+1]=S,s[g+2]=S}else s[g+0]=c(I),s[g+1]=c(_),s[g+2]=c(C)}t.putImageData(o,0,0)}function Kf(e,t,n,r){const i=t.getImageData(0,0,e.width,e.height),a=i.data,l=r*255,o=n*r*(255-r);for(let s=0;s<a.length;s+=4){const u=a[s],d=a[s+1],f=a[s+2],v=.299*u+.587*d+.114*f;let c=0;v>o&&(c=190),v>l&&(c=255),a[s]=c,a[s+1]=c,a[s+2]=c}t.putImageData(i,0,0)}function ed(e,t,n=6,r=45){const i=e.width|0,a=e.height|0;if(i<=0||a<=0)return;const o=t.getImageData(0,0,i,a).data,s=150,u=i*a,d=new Uint8Array(u),f=new Uint8Array(u);for(let Z=0;Z<u;Z++){const P=Z*4;if(o[P+3]===0){d[Z]=255,f[Z]=0;continue}const B=o[P+0],H=o[P+1],A=o[P+2],L=.2126*B+.7152*H+.0722*A|0;d[Z]=L,f[Z]=L<=s?1:0}const v=document.createElement("canvas");v.width=i,v.height=a;const c=v.getContext("2d");if(!c)return;c.clearRect(0,0,i,a),c.fillStyle="#fff",c.fillRect(0,0,i,a),c.fillStyle="#000";const g=r*Math.PI/180,y=Math.cos(g),I=Math.sin(g),_=Math.max(2,Math.round(n*2)),C=i/2,R=a/2,z=Math.sqrt(i*i+a*a)/2;for(let Z=-z;Z<=z;Z+=_)for(let P=-z;P<=z;P+=_){const V=C+P*y-Z*I,B=R+P*I+Z*y,H=V|0,A=B|0;if(H<0||H>=i||A<0||A>=a)continue;const L=A*i+H,K=L*4;if(o[K+3]===0||f[L])continue;const ee=(1-d[L]/255)*n;ee<=.15||(c.beginPath(),c.arc(V,B,ee,0,Math.PI*2),c.fill())}const S=c.getImageData(0,0,i,a),b=S.data;for(let Z=0;Z<u;Z++){const P=Z*4,V=o[P+3];if(V===0){b[P+3]=0;continue}if(f[Z]){const B=d[Z];b[P+0]=B,b[P+1]=B,b[P+2]=B,b[P+3]=V}else b[P+3]=V}t.putImageData(S,0,0)}function td(e,t,n,r,i){const a=e.getContext("2d");if(!a)return;const{width:l,height:o}=t;a.drawImage(t,n,r,l*i,o*i)}var nd=X('<div class="wrapper svelte-rcmikk"><div class="overlay svelte-rcmikk" data-html2canvas-ignore=""></div> <canvas class="svelte-rcmikk"></canvas></div>');function vs(e,t){we(t,!0);let n=bt(t,"canvas",15),r=bt(t,"context",15);yn(()=>{r(n()?.getContext("2d",{willReadFrequently:!0})??null)});var i=nd(),a=G(F(i),2);lr(a,l=>n(l),()=>n()),N(i),ce(()=>{Vt(a,"width",t.width),Vt(a,"height",t.height)}),E(e,i),Se()}var rd=X('<div class="canvas svelte-nzlhga"><!></div>');function Ua(e,t){we(t,!0);const n=Ye(()=>t.avatar.blob);var r,i,a,l,o,s,u=zi([async()=>r=await Vi(async()=>m(n)?await rs(m(n)):null),()=>i=We(null),()=>a=We(null),()=>l=Ye(()=>t.avatar.contrast),()=>o=Ye(()=>t.avatar.gray),()=>s=Ye(()=>t.avatar.black),()=>{yn(()=>{!m(r)||!m(a)||!m(i)||(m(a).clearRect(0,0,m(i).width,m(i).height),td(m(i),m(r),t.avatar.x,t.avatar.y,t.avatar.scale),t.disableEffects||(qf(m(i),m(a),m(l)),Kf(m(i),m(a),m(o),m(s)),ed(m(i),m(a),4,45)))})}]),d=rd(),f=F(d);pt(f,[u[1],u[2]],void 0,v=>{vs(f,{get width(){return jr},get height(){return Lr},get canvas(){return m(i)},set canvas(c){ae(i,c,!0)},get context(){return m(a)},set context(c){ae(a,c,!0)}})}),N(d),E(e,d),Se()}var id=X('<div class="inner svelte-l89b3q"><!></div>'),ad=X("<div><!></div>");function Ei(e,t){var n=ad();let r;var i=F(n);at(i,{withHover:!0,nopadding:!0,children:(a,l)=>{var o=id(),s=F(o);_t(s,()=>t.children??Xe),N(o),E(a,o)}}),N(n),ce(()=>r=Bt(n,1,"wrapper svelte-l89b3q",null,r,{pending:t.pending})),E(e,n)}var ld=X("<button><!></button>");function nt(e,t){we(t,!0);const n=bt(t,"type",3,"button");let r=We(!1);function i(){m(r)||(ae(r,!0),Promise.resolve(t.onclick?.()).finally(()=>{ae(r,!1)}))}var a=ld();a.__click=i;let l;var o=F(a);Ei(o,{get pending(){return m(r)},children:(s,u)=>{var d=en(),f=O(d);_t(f,()=>t.children??Xe),E(s,d)}}),N(a),ce(()=>{Vt(a,"type",n()),l=Bt(a,1,"svelte-18sv61c",null,l,{pending:m(r)})}),E(e,a),Se()}Ht(["click"]);var od=X("<div></div>");function Qa(e,t){re(e,{sm:!0,children:(n,r)=>{var i=en(),a=O(i);zt(a,17,()=>Array.from({length:t.amount}),$n,(l,o)=>{var s=od();let u;ce(()=>u=Bt(s,1,"dot svelte-jabc10",null,u,{sm:t.sm})),E(l,s)}),E(n,i)},$$slots:{default:!0}})}var sd=X('<!> <div class="label"> </div>',1);function Wi(e,t){re(e,{column:!0,sm:!0,children:(n,r)=>{var i=sd(),a=O(i);Qa(a,{amount:3});var l=G(a,2),o=F(l,!0);N(l),ce(()=>Pe(o,t.label)),E(n,i)},$$slots:{default:!0}})}var ud=X('<div class="push svelte-1c0ge01"></div>');function Wn(e){var t=ud();E(e,t)}var cd=X('<div class="wrapper svelte-1mlq5p3"><div class="inner"><!></div></div>');function hs(e,t){var n=cd(),r=F(n),i=F(r);_t(i,()=>t.children??Xe),N(r),N(n),E(e,n)}function Oi(e,t){Fc("1822nxv",n=>{gc(()=>{Go.title=t.title??""})})}var fd=X("<div><!></div>");function Ee(e,t){const n=bt(t,"row",3,!1),r=bt(t,"cell",3,!1),i=Ye(()=>{if(n())return;let s="";return t.cells&&(s+=`--cells:${t.cells};`),t.fillCell&&(s+=`--full:${t.fillCell};`),s||void 0});var a=fd();let l;var o=F(a);_t(o,()=>t.children??Xe),N(a),ce(()=>{zc(a,m(i)),l=Bt(a,1,"svelte-1iq5b9c",null,l,{table:n()===!1&&r()===!1,row:n(),cell:r(),centered:t.centered,right:t.right,spread:t.spread,sticky:t.sticky})}),E(e,a)}const dd=["acrobatics","animalHandling","arcana","athletics","deception","history","insight","intimidation","investigation","medicine","nature","perception","performance","persuasion","religion","sleightOfHand","stealth","survival"],gs=["str","dex","con","int","wis","cha"],vd=["none","str","dex","con","int","wis","cha"],hd=["none","proficient","double","half"],gd=ii(gs),pd=ii(vd),md=ii(hd),bd=kn({name:se(Ve(),""),hit:se(ht(),0),damage:se(Ve(),""),details:se(Ve(),"")}),Za=kn({id:se(Ve(),ts),name:se(Ve(),""),level:se(ht(),0),castingTime:se(Ve(),""),range:se(Ve(),""),components:se(Ve(),""),duration:se(Ve(),""),description:se(Ve(),""),showDescription:se(ka(),!1),notes:se(Ve(),""),prepared:se(ka(),!0)}),_d=kn({blob:se(cs(us(Blob)),null),contrast:se(ht(),0),gray:se(ht(),.5),black:se(ht(),.25),x:se(ht(),0),y:se(ht(),0),scale:se(ht(),1)}),yd=kn({slug:Vf(Ve(),os()),avatar:se(_d,{blob:null,contrast:1,gray:.5,black:.25,x:0,y:0,scale:1}),name:se(Ve(),""),playerName:se(Ve(),""),level:se(ht(),1),class:se(Ve(),""),subclass:se(Ve(),""),species:se(Ve(),""),size:se(Ve(),""),speed:se(ht(),30),background:se(Ve(),""),alignment:se(Ve(),""),armorClass:se(ht(),10),hitDice:se(Ve(),"1d8"),hitPoints:se(ht(),1),proficiencyBonus:se(ht(),2),proficienies:se(Ve(),""),abilityScores:se(kn(Cl(gs,se(ht(),10))),{str:10,dex:10,con:10,int:10,wis:10,cha:10}),abilityProficiencies:se(gr(gd),[]),skillProficiencies:se(kn(Cl(dd,se(md,"none"))),{acrobatics:"none",animalHandling:"none",arcana:"none",athletics:"none",deception:"none",history:"none",insight:"none",intimidation:"none",investigation:"none",medicine:"none",nature:"none",perception:"none",performance:"none",persuasion:"none",religion:"none",sleightOfHand:"none",stealth:"none",survival:"none"}),languages:se(Ve(),""),features:se(kn({feats:se(Ve(),""),species:se(Ve(),""),class:se(Ve(),"")}),{feats:"",species:"",class:""}),weapons:se(gr(bd),[]),spells:se(gr(Za),[]),spellcastingAbility:se(pd,"none"),spellSlots:se(gr(kn({level:se(ht(),1),amount:se(ht(),0)})),[]),inventory:se(gr(Ve()),[])});function Ji(e){return Ci(yd,e)}function ps(e){try{return Ji(e)}catch{return null}}const Id={acrobatics:"dex",animalHandling:"wis",arcana:"int",athletics:"str",deception:"cha",history:"int",insight:"wis",intimidation:"cha",investigation:"int",medicine:"wis",nature:"int",perception:"wis",performance:"cha",persuasion:"cha",religion:"int",sleightOfHand:"dex",stealth:"dex",survival:"wis"},wd="/dnd-character-sheet/assets/belo-DO5QS6YM.jpg",Sd="/dnd-character-sheet/assets/belo-CgmwwWUB.yml";async function ms(e,t,n){const r=await rs(e),i=r.width/r.height,a=t/n;let l,o,s;return i>a?(l=n/r.height,o=(t-r.width*l)/2,s=0):(l=t/r.width,o=0,s=(n-r.height*l)/2),r.dispose(),{x:o,y:s,scale:l}}var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ua={exports:{}};var Rl;function xd(){return Rl||(Rl=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,a){function l(u,d){if(!i[u]){if(!r[u]){var f=typeof hi=="function"&&hi;if(!d&&f)return f(u,!0);if(o)return o(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var c=i[u]={exports:{}};r[u][0].call(c.exports,function(g){var y=r[u][1][g];return l(y||g)},c,c.exports,n,r,i,a)}return i[u].exports}for(var o=typeof hi=="function"&&hi,s=0;s<a.length;s++)l(a[s]);return l})({1:[function(n,r,i){(function(a){var l=a.MutationObserver||a.WebKitMutationObserver,o;if(l){var s=0,u=new l(g),d=a.document.createTextNode("");u.observe(d,{characterData:!0}),o=function(){d.data=s=++s%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=g,o=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?o=function(){var I=a.document.createElement("script");I.onreadystatechange=function(){g(),I.onreadystatechange=null,I.parentNode.removeChild(I),I=null},a.document.documentElement.appendChild(I)}:o=function(){setTimeout(g,0)};var v,c=[];function g(){v=!0;for(var I,_,C=c.length;C;){for(_=c,c=[],I=-1;++I<C;)_[I]();C=c.length}v=!1}r.exports=y;function y(I){c.push(I)===1&&!v&&o()}}).call(this,typeof vi<"u"?vi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var a=n(1);function l(){}var o={},s=["REJECTED"],u=["FULFILLED"],d=["PENDING"];r.exports=f;function f(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,S!==l&&y(this,S)}f.prototype.catch=function(S){return this.then(null,S)},f.prototype.then=function(S,b){if(typeof S!="function"&&this.state===u||typeof b!="function"&&this.state===s)return this;var Z=new this.constructor(l);if(this.state!==d){var P=this.state===u?S:b;c(Z,P,this.outcome)}else this.queue.push(new v(Z,S,b));return Z};function v(S,b,Z){this.promise=S,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof Z=="function"&&(this.onRejected=Z,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(S){o.resolve(this.promise,S)},v.prototype.otherCallFulfilled=function(S){c(this.promise,this.onFulfilled,S)},v.prototype.callRejected=function(S){o.reject(this.promise,S)},v.prototype.otherCallRejected=function(S){c(this.promise,this.onRejected,S)};function c(S,b,Z){a(function(){var P;try{P=b(Z)}catch(V){return o.reject(S,V)}P===S?o.reject(S,new TypeError("Cannot resolve promise with itself")):o.resolve(S,P)})}o.resolve=function(S,b){var Z=I(g,b);if(Z.status==="error")return o.reject(S,Z.value);var P=Z.value;if(P)y(S,P);else{S.state=u,S.outcome=b;for(var V=-1,B=S.queue.length;++V<B;)S.queue[V].callFulfilled(b)}return S},o.reject=function(S,b){S.state=s,S.outcome=b;for(var Z=-1,P=S.queue.length;++Z<P;)S.queue[Z].callRejected(b);return S};function g(S){var b=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof b=="function")return function(){b.apply(S,arguments)}}function y(S,b){var Z=!1;function P(A){Z||(Z=!0,o.reject(S,A))}function V(A){Z||(Z=!0,o.resolve(S,A))}function B(){b(V,P)}var H=I(B);H.status==="error"&&P(H.value)}function I(S,b){var Z={};try{Z.value=S(b),Z.status="success"}catch(P){Z.status="error",Z.value=P}return Z}f.resolve=_;function _(S){return S instanceof this?S:o.resolve(new this(l),S)}f.reject=C;function C(S){var b=new this(l);return o.reject(b,S)}f.all=R;function R(S){var b=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Z=S.length,P=!1;if(!Z)return this.resolve([]);for(var V=new Array(Z),B=0,H=-1,A=new this(l);++H<Z;)L(S[H],H);return A;function L(K,U){b.resolve(K).then(ee,function(ne){P||(P=!0,o.reject(A,ne))});function ee(ne){V[U]=ne,++B===Z&&!P&&(P=!0,o.resolve(A,V))}}}f.race=z;function z(S){var b=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Z=S.length,P=!1;if(!Z)return this.resolve([]);for(var V=-1,B=new this(l);++V<Z;)H(S[V]);return B;function H(A){b.resolve(A).then(function(L){P||(P=!0,o.resolve(B,L))},function(L){P||(P=!0,o.reject(B,L))})}}},{1:1}],3:[function(n,r,i){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof vi<"u"?vi:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};function l(h,k){if(!(h instanceof k))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var s=o();function u(){try{if(!s||!s.open)return!1;var h=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),k=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!h||k)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(h,k){h=h||[],k=k||{};try{return new Blob(h,k)}catch(W){if(W.name!=="TypeError")throw W;for(var p=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Y=new p,$=0;$<h.length;$+=1)Y.append(h[$]);return Y.getBlob(k.type)}}typeof Promise>"u"&&n(3);var f=Promise;function v(h,k){k&&h.then(function(p){k(null,p)},function(p){k(p)})}function c(h,k,p){typeof k=="function"&&h.then(k),typeof p=="function"&&h.catch(p)}function g(h){return typeof h!="string"&&(console.warn(h+" used as a key, but it is not a string."),h=String(h)),h}function y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",_=void 0,C={},R=Object.prototype.toString,z="readonly",S="readwrite";function b(h){for(var k=h.length,p=new ArrayBuffer(k),Y=new Uint8Array(p),$=0;$<k;$++)Y[$]=h.charCodeAt($);return p}function Z(h){return new f(function(k){var p=h.transaction(I,S),Y=d([""]);p.objectStore(I).put(Y,"key"),p.onabort=function($){$.preventDefault(),$.stopPropagation(),k(!1)},p.oncomplete=function(){var $=navigator.userAgent.match(/Chrome\/(\d+)/),W=navigator.userAgent.match(/Edge\//);k(W||!$||parseInt($[1],10)>=43)}}).catch(function(){return!1})}function P(h){return typeof _=="boolean"?f.resolve(_):Z(h).then(function(k){return _=k,_})}function V(h){var k=C[h.name],p={};p.promise=new f(function(Y,$){p.resolve=Y,p.reject=$}),k.deferredOperations.push(p),k.dbReady?k.dbReady=k.dbReady.then(function(){return p.promise}):k.dbReady=p.promise}function B(h){var k=C[h.name],p=k.deferredOperations.pop();if(p)return p.resolve(),p.promise}function H(h,k){var p=C[h.name],Y=p.deferredOperations.pop();if(Y)return Y.reject(k),Y.promise}function A(h,k){return new f(function(p,Y){if(C[h.name]=C[h.name]||ue(),h.db)if(k)V(h),h.db.close();else return p(h.db);var $=[h.name];k&&$.push(h.version);var W=s.open.apply(s,$);k&&(W.onupgradeneeded=function(T){var D=W.result;try{D.createObjectStore(h.storeName),T.oldVersion<=1&&D.createObjectStore(I)}catch(J){if(J.name==="ConstraintError")console.warn('The database "'+h.name+'" has been upgraded from version '+T.oldVersion+" to version "+T.newVersion+', but the storage "'+h.storeName+'" already exists.');else throw J}}),W.onerror=function(T){T.preventDefault(),Y(W.error)},W.onsuccess=function(){var T=W.result;T.onversionchange=function(D){D.target.close()},p(T),B(h)}})}function L(h){return A(h,!1)}function K(h){return A(h,!0)}function U(h,k){if(!h.db)return!0;var p=!h.db.objectStoreNames.contains(h.storeName),Y=h.version<h.db.version,$=h.version>h.db.version;if(Y&&(h.version!==k&&console.warn('The database "'+h.name+`" can't be downgraded from version `+h.db.version+" to version "+h.version+"."),h.version=h.db.version),$||p){if(p){var W=h.db.version+1;W>h.version&&(h.version=W)}return!0}return!1}function ee(h){return new f(function(k,p){var Y=new FileReader;Y.onerror=p,Y.onloadend=function($){var W=btoa($.target.result||"");k({__local_forage_encoded_blob:!0,data:W,type:h.type})},Y.readAsBinaryString(h)})}function ne(h){var k=b(atob(h.data));return d([k],{type:h.type})}function le(h){return h&&h.__local_forage_encoded_blob}function ve(h){var k=this,p=k._initReady().then(function(){var Y=C[k._dbInfo.name];if(Y&&Y.dbReady)return Y.dbReady});return c(p,h,h),p}function w(h){V(h);for(var k=C[h.name],p=k.forages,Y=0;Y<p.length;Y++){var $=p[Y];$._dbInfo.db&&($._dbInfo.db.close(),$._dbInfo.db=null)}return h.db=null,L(h).then(function(W){return h.db=W,U(h)?K(h):W}).then(function(W){h.db=k.db=W;for(var T=0;T<p.length;T++)p[T]._dbInfo.db=W}).catch(function(W){throw H(h,W),W})}function fe(h,k,p,Y){Y===void 0&&(Y=1);try{var $=h.db.transaction(h.storeName,k);p(null,$)}catch(W){if(Y>0&&(!h.db||W.name==="InvalidStateError"||W.name==="NotFoundError"))return f.resolve().then(function(){if(!h.db||W.name==="NotFoundError"&&!h.db.objectStoreNames.contains(h.storeName)&&h.version<=h.db.version)return h.db&&(h.version=h.db.version+1),K(h)}).then(function(){return w(h).then(function(){fe(h,k,p,Y-1)})}).catch(p);p(W)}}function ue(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function x(h){var k=this,p={db:null};if(h)for(var Y in h)p[Y]=h[Y];var $=C[p.name];$||($=ue(),C[p.name]=$),$.forages.push(k),k._initReady||(k._initReady=k.ready,k.ready=ve);var W=[];function T(){return f.resolve()}for(var D=0;D<$.forages.length;D++){var J=$.forages[D];J!==k&&W.push(J._initReady().catch(T))}var M=$.forages.slice(0);return f.all(W).then(function(){return p.db=$.db,L(p)}).then(function(q){return p.db=q,U(p,k._defaultConfig.version)?K(p):q}).then(function(q){p.db=$.db=q,k._dbInfo=p;for(var ie=0;ie<M.length;ie++){var Be=M[ie];Be!==k&&(Be._dbInfo.db=p.db,Be._dbInfo.version=p.version)}})}function te(h,k){var p=this;h=g(h);var Y=new f(function($,W){p.ready().then(function(){fe(p._dbInfo,z,function(T,D){if(T)return W(T);try{var J=D.objectStore(p._dbInfo.storeName),M=J.get(h);M.onsuccess=function(){var q=M.result;q===void 0&&(q=null),le(q)&&(q=ne(q)),$(q)},M.onerror=function(){W(M.error)}}catch(q){W(q)}})}).catch(W)});return v(Y,k),Y}function pe(h,k){var p=this,Y=new f(function($,W){p.ready().then(function(){fe(p._dbInfo,z,function(T,D){if(T)return W(T);try{var J=D.objectStore(p._dbInfo.storeName),M=J.openCursor(),q=1;M.onsuccess=function(){var ie=M.result;if(ie){var Be=ie.value;le(Be)&&(Be=ne(Be));var Fe=h(Be,ie.key,q++);Fe!==void 0?$(Fe):ie.continue()}else $()},M.onerror=function(){W(M.error)}}catch(ie){W(ie)}})}).catch(W)});return v(Y,k),Y}function he(h,k,p){var Y=this;h=g(h);var $=new f(function(W,T){var D;Y.ready().then(function(){return D=Y._dbInfo,R.call(k)==="[object Blob]"?P(D.db).then(function(J){return J?k:ee(k)}):k}).then(function(J){fe(Y._dbInfo,S,function(M,q){if(M)return T(M);try{var ie=q.objectStore(Y._dbInfo.storeName);J===null&&(J=void 0);var Be=ie.put(J,h);q.oncomplete=function(){J===void 0&&(J=null),W(J)},q.onabort=q.onerror=function(){var Fe=Be.error?Be.error:Be.transaction.error;T(Fe)}}catch(Fe){T(Fe)}})}).catch(T)});return v($,p),$}function Ce(h,k){var p=this;h=g(h);var Y=new f(function($,W){p.ready().then(function(){fe(p._dbInfo,S,function(T,D){if(T)return W(T);try{var J=D.objectStore(p._dbInfo.storeName),M=J.delete(h);D.oncomplete=function(){$()},D.onerror=function(){W(M.error)},D.onabort=function(){var q=M.error?M.error:M.transaction.error;W(q)}}catch(q){W(q)}})}).catch(W)});return v(Y,k),Y}function xe(h){var k=this,p=new f(function(Y,$){k.ready().then(function(){fe(k._dbInfo,S,function(W,T){if(W)return $(W);try{var D=T.objectStore(k._dbInfo.storeName),J=D.clear();T.oncomplete=function(){Y()},T.onabort=T.onerror=function(){var M=J.error?J.error:J.transaction.error;$(M)}}catch(M){$(M)}})}).catch($)});return v(p,h),p}function Ne(h){var k=this,p=new f(function(Y,$){k.ready().then(function(){fe(k._dbInfo,z,function(W,T){if(W)return $(W);try{var D=T.objectStore(k._dbInfo.storeName),J=D.count();J.onsuccess=function(){Y(J.result)},J.onerror=function(){$(J.error)}}catch(M){$(M)}})}).catch($)});return v(p,h),p}function Oe(h,k){var p=this,Y=new f(function($,W){if(h<0){$(null);return}p.ready().then(function(){fe(p._dbInfo,z,function(T,D){if(T)return W(T);try{var J=D.objectStore(p._dbInfo.storeName),M=!1,q=J.openKeyCursor();q.onsuccess=function(){var ie=q.result;if(!ie){$(null);return}h===0||M?$(ie.key):(M=!0,ie.advance(h))},q.onerror=function(){W(q.error)}}catch(ie){W(ie)}})}).catch(W)});return v(Y,k),Y}function ke(h){var k=this,p=new f(function(Y,$){k.ready().then(function(){fe(k._dbInfo,z,function(W,T){if(W)return $(W);try{var D=T.objectStore(k._dbInfo.storeName),J=D.openKeyCursor(),M=[];J.onsuccess=function(){var q=J.result;if(!q){Y(M);return}M.push(q.key),q.continue()},J.onerror=function(){$(J.error)}}catch(q){$(q)}})}).catch($)});return v(p,h),p}function yt(h,k){k=y.apply(this,arguments);var p=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||p.name,h.storeName=h.storeName||p.storeName);var Y=this,$;if(!h.name)$=f.reject("Invalid arguments");else{var W=h.name===p.name&&Y._dbInfo.db,T=W?f.resolve(Y._dbInfo.db):L(h).then(function(D){var J=C[h.name],M=J.forages;J.db=D;for(var q=0;q<M.length;q++)M[q]._dbInfo.db=D;return D});h.storeName?$=T.then(function(D){if(D.objectStoreNames.contains(h.storeName)){var J=D.version+1;V(h);var M=C[h.name],q=M.forages;D.close();for(var ie=0;ie<q.length;ie++){var Be=q[ie];Be._dbInfo.db=null,Be._dbInfo.version=J}var Fe=new f(function(ze,tt){var qe=s.open(h.name,J);qe.onerror=function(Ot){var Nr=qe.result;Nr.close(),tt(Ot)},qe.onupgradeneeded=function(){var Ot=qe.result;Ot.deleteObjectStore(h.storeName)},qe.onsuccess=function(){var Ot=qe.result;Ot.close(),ze(Ot)}});return Fe.then(function(ze){M.db=ze;for(var tt=0;tt<q.length;tt++){var qe=q[tt];qe._dbInfo.db=ze,B(qe._dbInfo)}}).catch(function(ze){throw(H(h,ze)||f.resolve()).catch(function(){}),ze})}}):$=T.then(function(D){V(h);var J=C[h.name],M=J.forages;D.close();for(var q=0;q<M.length;q++){var ie=M[q];ie._dbInfo.db=null}var Be=new f(function(Fe,ze){var tt=s.deleteDatabase(h.name);tt.onerror=function(){var qe=tt.result;qe&&qe.close(),ze(tt.error)},tt.onblocked=function(){console.warn('dropInstance blocked for database "'+h.name+'" until all open connections are closed')},tt.onsuccess=function(){var qe=tt.result;qe&&qe.close(),Fe(qe)}});return Be.then(function(Fe){J.db=Fe;for(var ze=0;ze<M.length;ze++){var tt=M[ze];B(tt._dbInfo)}}).catch(function(Fe){throw(H(h,Fe)||f.resolve()).catch(function(){}),Fe})})}return v($,k),$}var et={_driver:"asyncStorage",_initStorage:x,_support:u(),iterate:pe,getItem:te,setItem:he,removeItem:Ce,clear:xe,length:Ne,key:Oe,keys:ke,dropInstance:yt};function At(){return typeof openDatabase=="function"}var st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vn="~~local_forage_type~",Tt=/^~~local_forage_type~([^~]+)~/,Te="__lfsc__:",Qe=Te.length,Le="arbf",ut="blob",gt="si08",an="ui08",Bn="uic8",Lt="si16",hn="si32",Gt="ur16",Ue="ui32",ln="fl32",Je="fl64",It=Qe+Le.length,Wt=Object.prototype.toString;function Jn(h){var k=h.length*.75,p=h.length,Y,$=0,W,T,D,J;h[h.length-1]==="="&&(k--,h[h.length-2]==="="&&k--);var M=new ArrayBuffer(k),q=new Uint8Array(M);for(Y=0;Y<p;Y+=4)W=st.indexOf(h[Y]),T=st.indexOf(h[Y+1]),D=st.indexOf(h[Y+2]),J=st.indexOf(h[Y+3]),q[$++]=W<<2|T>>4,q[$++]=(T&15)<<4|D>>2,q[$++]=(D&3)<<6|J&63;return M}function Er(h){var k=new Uint8Array(h),p="",Y;for(Y=0;Y<k.length;Y+=3)p+=st[k[Y]>>2],p+=st[(k[Y]&3)<<4|k[Y+1]>>4],p+=st[(k[Y+1]&15)<<2|k[Y+2]>>6],p+=st[k[Y+2]&63];return k.length%3===2?p=p.substring(0,p.length-1)+"=":k.length%3===1&&(p=p.substring(0,p.length-2)+"=="),p}function Ui(h,k){var p="";if(h&&(p=Wt.call(h)),h&&(p==="[object ArrayBuffer]"||h.buffer&&Wt.call(h.buffer)==="[object ArrayBuffer]")){var Y,$=Te;h instanceof ArrayBuffer?(Y=h,$+=Le):(Y=h.buffer,p==="[object Int8Array]"?$+=gt:p==="[object Uint8Array]"?$+=an:p==="[object Uint8ClampedArray]"?$+=Bn:p==="[object Int16Array]"?$+=Lt:p==="[object Uint16Array]"?$+=Gt:p==="[object Int32Array]"?$+=hn:p==="[object Uint32Array]"?$+=Ue:p==="[object Float32Array]"?$+=ln:p==="[object Float64Array]"?$+=Je:k(new Error("Failed to get type for BinaryArray"))),k($+Er(Y))}else if(p==="[object Blob]"){var W=new FileReader;W.onload=function(){var T=vn+h.type+"~"+Er(this.result);k(Te+ut+T)},W.readAsArrayBuffer(h)}else try{k(JSON.stringify(h))}catch(T){console.error("Couldn't convert value into a JSON string: ",h),k(null,T)}}function Qi(h){if(h.substring(0,Qe)!==Te)return JSON.parse(h);var k=h.substring(It),p=h.substring(Qe,It),Y;if(p===ut&&Tt.test(k)){var $=k.match(Tt);Y=$[1],k=k.substring($[0].length)}var W=Jn(k);switch(p){case Le:return W;case ut:return d([W],{type:Y});case gt:return new Int8Array(W);case an:return new Uint8Array(W);case Bn:return new Uint8ClampedArray(W);case Lt:return new Int16Array(W);case Gt:return new Uint16Array(W);case hn:return new Int32Array(W);case Ue:return new Uint32Array(W);case ln:return new Float32Array(W);case Je:return new Float64Array(W);default:throw new Error("Unkown type: "+p)}}var Wr={serialize:Ui,deserialize:Qi,stringToBuffer:Jn,bufferToString:Er};function li(h,k,p,Y){h.executeSql("CREATE TABLE IF NOT EXISTS "+k.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],p,Y)}function qi(h){var k=this,p={db:null};if(h)for(var Y in h)p[Y]=typeof h[Y]!="string"?h[Y].toString():h[Y];var $=new f(function(W,T){try{p.db=openDatabase(p.name,String(p.version),p.description,p.size)}catch(D){return T(D)}p.db.transaction(function(D){li(D,p,function(){k._dbInfo=p,W()},function(J,M){T(M)})},T)});return p.serializer=Wr,$}function gn(h,k,p,Y,$,W){h.executeSql(p,Y,$,function(T,D){D.code===D.SYNTAX_ERR?T.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[k.storeName],function(J,M){M.rows.length?W(J,D):li(J,k,function(){J.executeSql(p,Y,$,W)},W)},W):W(T,D)},W)}function oi(h,k){var p=this;h=g(h);var Y=new f(function($,W){p.ready().then(function(){var T=p._dbInfo;T.db.transaction(function(D){gn(D,T,"SELECT * FROM "+T.storeName+" WHERE key = ? LIMIT 1",[h],function(J,M){var q=M.rows.length?M.rows.item(0).value:null;q&&(q=T.serializer.deserialize(q)),$(q)},function(J,M){W(M)})})}).catch(W)});return v(Y,k),Y}function Ki(h,k){var p=this,Y=new f(function($,W){p.ready().then(function(){var T=p._dbInfo;T.db.transaction(function(D){gn(D,T,"SELECT * FROM "+T.storeName,[],function(J,M){for(var q=M.rows,ie=q.length,Be=0;Be<ie;Be++){var Fe=q.item(Be),ze=Fe.value;if(ze&&(ze=T.serializer.deserialize(ze)),ze=h(ze,Fe.key,Be+1),ze!==void 0){$(ze);return}}$()},function(J,M){W(M)})})}).catch(W)});return v(Y,k),Y}function si(h,k,p,Y){var $=this;h=g(h);var W=new f(function(T,D){$.ready().then(function(){k===void 0&&(k=null);var J=k,M=$._dbInfo;M.serializer.serialize(k,function(q,ie){ie?D(ie):M.db.transaction(function(Be){gn(Be,M,"INSERT OR REPLACE INTO "+M.storeName+" (key, value) VALUES (?, ?)",[h,q],function(){T(J)},function(Fe,ze){D(ze)})},function(Be){if(Be.code===Be.QUOTA_ERR){if(Y>0){T(si.apply($,[h,J,p,Y-1]));return}D(Be)}})})}).catch(D)});return v(W,p),W}function ea(h,k,p){return si.apply(this,[h,k,p,1])}function Q(h,k){var p=this;h=g(h);var Y=new f(function($,W){p.ready().then(function(){var T=p._dbInfo;T.db.transaction(function(D){gn(D,T,"DELETE FROM "+T.storeName+" WHERE key = ?",[h],function(){$()},function(J,M){W(M)})})}).catch(W)});return v(Y,k),Y}function oe(h){var k=this,p=new f(function(Y,$){k.ready().then(function(){var W=k._dbInfo;W.db.transaction(function(T){gn(T,W,"DELETE FROM "+W.storeName,[],function(){Y()},function(D,J){$(J)})})}).catch($)});return v(p,h),p}function ct(h){var k=this,p=new f(function(Y,$){k.ready().then(function(){var W=k._dbInfo;W.db.transaction(function(T){gn(T,W,"SELECT COUNT(key) as c FROM "+W.storeName,[],function(D,J){var M=J.rows.item(0).c;Y(M)},function(D,J){$(J)})})}).catch($)});return v(p,h),p}function Yt(h,k){var p=this,Y=new f(function($,W){p.ready().then(function(){var T=p._dbInfo;T.db.transaction(function(D){gn(D,T,"SELECT key FROM "+T.storeName+" WHERE id = ? LIMIT 1",[h+1],function(J,M){var q=M.rows.length?M.rows.item(0).key:null;$(q)},function(J,M){W(M)})})}).catch(W)});return v(Y,k),Y}function jt(h){var k=this,p=new f(function(Y,$){k.ready().then(function(){var W=k._dbInfo;W.db.transaction(function(T){gn(T,W,"SELECT key FROM "+W.storeName,[],function(D,J){for(var M=[],q=0;q<J.rows.length;q++)M.push(J.rows.item(q).key);Y(M)},function(D,J){$(J)})})}).catch($)});return v(p,h),p}function on(h){return new f(function(k,p){h.transaction(function(Y){Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function($,W){for(var T=[],D=0;D<W.rows.length;D++)T.push(W.rows.item(D).name);k({db:h,storeNames:T})},function($,W){p(W)})},function(Y){p(Y)})})}function Dt(h,k){k=y.apply(this,arguments);var p=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||p.name,h.storeName=h.storeName||p.storeName);var Y=this,$;return h.name?$=new f(function(W){var T;h.name===p.name?T=Y._dbInfo.db:T=openDatabase(h.name,"","",0),h.storeName?W({db:T,storeNames:[h.storeName]}):W(on(T))}).then(function(W){return new f(function(T,D){W.db.transaction(function(J){function M(Fe){return new f(function(ze,tt){J.executeSql("DROP TABLE IF EXISTS "+Fe,[],function(){ze()},function(qe,Ot){tt(Ot)})})}for(var q=[],ie=0,Be=W.storeNames.length;ie<Be;ie++)q.push(M(W.storeNames[ie]));f.all(q).then(function(){T()}).catch(function(Fe){D(Fe)})},function(J){D(J)})})}):$=f.reject("Invalid arguments"),v($,k),$}var ui={_driver:"webSQLStorage",_initStorage:qi,_support:At(),iterate:Ki,getItem:oi,setItem:ea,removeItem:Q,clear:oe,length:ct,key:Yt,keys:jt,dropInstance:Dt};function ci(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Yr(h,k){var p=h.name+"/";return h.storeName!==k.storeName&&(p+=h.storeName+"/"),p}function Vs(){var h="_localforage_support_test";try{return localStorage.setItem(h,!0),localStorage.removeItem(h),!1}catch{return!0}}function Hs(){return!Vs()||localStorage.length>0}function As(h){var k=this,p={};if(h)for(var Y in h)p[Y]=h[Y];return p.keyPrefix=Yr(h,k._defaultConfig),Hs()?(k._dbInfo=p,p.serializer=Wr,f.resolve()):f.reject()}function Ts(h){var k=this,p=k.ready().then(function(){for(var Y=k._dbInfo.keyPrefix,$=localStorage.length-1;$>=0;$--){var W=localStorage.key($);W.indexOf(Y)===0&&localStorage.removeItem(W)}});return v(p,h),p}function Ls(h,k){var p=this;h=g(h);var Y=p.ready().then(function(){var $=p._dbInfo,W=localStorage.getItem($.keyPrefix+h);return W&&(W=$.serializer.deserialize(W)),W});return v(Y,k),Y}function js(h,k){var p=this,Y=p.ready().then(function(){for(var $=p._dbInfo,W=$.keyPrefix,T=W.length,D=localStorage.length,J=1,M=0;M<D;M++){var q=localStorage.key(M);if(q.indexOf(W)===0){var ie=localStorage.getItem(q);if(ie&&(ie=$.serializer.deserialize(ie)),ie=h(ie,q.substring(T),J++),ie!==void 0)return ie}}});return v(Y,k),Y}function Ds(h,k){var p=this,Y=p.ready().then(function(){var $=p._dbInfo,W;try{W=localStorage.key(h)}catch{W=null}return W&&(W=W.substring($.keyPrefix.length)),W});return v(Y,k),Y}function Os(h){var k=this,p=k.ready().then(function(){for(var Y=k._dbInfo,$=localStorage.length,W=[],T=0;T<$;T++){var D=localStorage.key(T);D.indexOf(Y.keyPrefix)===0&&W.push(D.substring(Y.keyPrefix.length))}return W});return v(p,h),p}function Js(h){var k=this,p=k.keys().then(function(Y){return Y.length});return v(p,h),p}function Ms(h,k){var p=this;h=g(h);var Y=p.ready().then(function(){var $=p._dbInfo;localStorage.removeItem($.keyPrefix+h)});return v(Y,k),Y}function Us(h,k,p){var Y=this;h=g(h);var $=Y.ready().then(function(){k===void 0&&(k=null);var W=k;return new f(function(T,D){var J=Y._dbInfo;J.serializer.serialize(k,function(M,q){if(q)D(q);else try{localStorage.setItem(J.keyPrefix+h,M),T(W)}catch(ie){(ie.name==="QuotaExceededError"||ie.name==="NS_ERROR_DOM_QUOTA_REACHED")&&D(ie),D(ie)}})})});return v($,p),$}function Qs(h,k){if(k=y.apply(this,arguments),h=typeof h!="function"&&h||{},!h.name){var p=this.config();h.name=h.name||p.name,h.storeName=h.storeName||p.storeName}var Y=this,$;return h.name?$=new f(function(W){h.storeName?W(Yr(h,Y._defaultConfig)):W(h.name+"/")}).then(function(W){for(var T=localStorage.length-1;T>=0;T--){var D=localStorage.key(T);D.indexOf(W)===0&&localStorage.removeItem(D)}}):$=f.reject("Invalid arguments"),v($,k),$}var qs={_driver:"localStorageWrapper",_initStorage:As,_support:ci(),iterate:js,getItem:Ls,setItem:Us,removeItem:Ms,clear:Ts,length:Js,key:Ds,keys:Os,dropInstance:Qs},Ks=function(k,p){return k===p||typeof k=="number"&&typeof p=="number"&&isNaN(k)&&isNaN(p)},eu=function(k,p){for(var Y=k.length,$=0;$<Y;){if(Ks(k[$],p))return!0;$++}return!1},nl=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"},Rr={},rl={},ur={INDEXEDDB:et,WEBSQL:ui,LOCALSTORAGE:qs},tu=[ur.INDEXEDDB._driver,ur.WEBSQL._driver,ur.LOCALSTORAGE._driver],fi=["dropInstance"],ta=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(fi),nu={description:"",driver:tu.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ru(h,k){h[k]=function(){var p=arguments;return h.ready().then(function(){return h[k].apply(h,p)})}}function na(){for(var h=1;h<arguments.length;h++){var k=arguments[h];if(k)for(var p in k)k.hasOwnProperty(p)&&(nl(k[p])?arguments[0][p]=k[p].slice():arguments[0][p]=k[p])}return arguments[0]}var iu=(function(){function h(k){l(this,h);for(var p in ur)if(ur.hasOwnProperty(p)){var Y=ur[p],$=Y._driver;this[p]=$,Rr[$]||this.defineDriver(Y)}this._defaultConfig=na({},nu),this._config=na({},this._defaultConfig,k),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return h.prototype.config=function(p){if((typeof p>"u"?"undefined":a(p))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Y in p){if(Y==="storeName"&&(p[Y]=p[Y].replace(/\W/g,"_")),Y==="version"&&typeof p[Y]!="number")return new Error("Database version must be a number.");this._config[Y]=p[Y]}return"driver"in p&&p.driver?this.setDriver(this._config.driver):!0}else return typeof p=="string"?this._config[p]:this._config},h.prototype.defineDriver=function(p,Y,$){var W=new f(function(T,D){try{var J=p._driver,M=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!p._driver){D(M);return}for(var q=ta.concat("_initStorage"),ie=0,Be=q.length;ie<Be;ie++){var Fe=q[ie],ze=!eu(fi,Fe);if((ze||p[Fe])&&typeof p[Fe]!="function"){D(M);return}}var tt=function(){for(var Nr=function(ou){return function(){var su=new Error("Method "+ou+" is not implemented by the current driver"),il=f.reject(su);return v(il,arguments[arguments.length-1]),il}},ra=0,lu=fi.length;ra<lu;ra++){var ia=fi[ra];p[ia]||(p[ia]=Nr(ia))}};tt();var qe=function(Nr){Rr[J]&&console.info("Redefining LocalForage driver: "+J),Rr[J]=p,rl[J]=Nr,T()};"_support"in p?p._support&&typeof p._support=="function"?p._support().then(qe,D):qe(!!p._support):qe(!0)}catch(Ot){D(Ot)}});return c(W,Y,$),W},h.prototype.driver=function(){return this._driver||null},h.prototype.getDriver=function(p,Y,$){var W=Rr[p]?f.resolve(Rr[p]):f.reject(new Error("Driver not found."));return c(W,Y,$),W},h.prototype.getSerializer=function(p){var Y=f.resolve(Wr);return c(Y,p),Y},h.prototype.ready=function(p){var Y=this,$=Y._driverSet.then(function(){return Y._ready===null&&(Y._ready=Y._initDriver()),Y._ready});return c($,p,p),$},h.prototype.setDriver=function(p,Y,$){var W=this;nl(p)||(p=[p]);var T=this._getSupportedDrivers(p);function D(){W._config.driver=W.driver()}function J(ie){return W._extend(ie),D(),W._ready=W._initStorage(W._config),W._ready}function M(ie){return function(){var Be=0;function Fe(){for(;Be<ie.length;){var ze=ie[Be];return Be++,W._dbInfo=null,W._ready=null,W.getDriver(ze).then(J).catch(Fe)}D();var tt=new Error("No available storage method found.");return W._driverSet=f.reject(tt),W._driverSet}return Fe()}}var q=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=q.then(function(){var ie=T[0];return W._dbInfo=null,W._ready=null,W.getDriver(ie).then(function(Be){W._driver=Be._driver,D(),W._wrapLibraryMethodsWithReady(),W._initDriver=M(T)})}).catch(function(){D();var ie=new Error("No available storage method found.");return W._driverSet=f.reject(ie),W._driverSet}),c(this._driverSet,Y,$),this._driverSet},h.prototype.supports=function(p){return!!rl[p]},h.prototype._extend=function(p){na(this,p)},h.prototype._getSupportedDrivers=function(p){for(var Y=[],$=0,W=p.length;$<W;$++){var T=p[$];this.supports(T)&&Y.push(T)}return Y},h.prototype._wrapLibraryMethodsWithReady=function(){for(var p=0,Y=ta.length;p<Y;p++)ru(this,ta[p])},h.prototype.createInstance=function(p){return new h(p)},h})(),au=new iu;r.exports=au},{3:3}]},{},[4])(4)})})(ua)),ua.exports}var Bd=xd();const Gd=bs(Bd),ai=Gd.createInstance({name:"dnd-character-sheet",storeName:"characters"});async function kd(){const e=[];return await ai.iterate(t=>{const n=ps(t);n&&e.push(n)}),e}async function Cd(e,t){const n=Ji({slug:e,name:t});return await ai.setItem(e,n),n}async function _s(e){try{const t=await ai.getItem(e);return t===null?null:ps(t)}catch{return null}}async function Zd(e){await ai.setItem(e.slug,e)}async function Ed(e){await ai.removeItem(e)}async function Wd(e,t){const{parse:n}=await ri(async()=>{const{parse:s}=await import("./index--Ug0Gu6p.js");return{parse:s}},[]),r=await fetch(wd).then(s=>s.blob()),i=await fetch(Sd).then(s=>s.text()),a=n(i),l=Ji({...a,slug:e}),o=await ms(r,jr,Lr);l.avatar={...l.avatar,blob:r,...o},t.set(l)}function Yd(e=0,t=0){const n=document.createElement("canvas"),r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Could not obtain context.");return{canvas:n,context:r,destroy(){n.width=0,n.height=0}}}async function Rd(e){const{canvas:t,context:n}=Yd(),{html2canvas:r}=await ri(async()=>{const{html2canvas:l}=await import("./html2canvas-pro.esm-CcCRWITZ.js");return{html2canvas:l}},[]),i={"--color-white":"white","--color-black":"black","--color-paper":"white","--color-ink":"black","--color-faded:":"#ccc",color:"black",padding:"1em"};for(const[l,o]of Object.entries(i))e.style.setProperty(l,o);const a=await r(e,{backgroundColor:null,scale:2});for(const l of Object.keys(i))e.style.removeProperty(l);return t.width=a.width,t.height=a.height,n.filter='url("#pencil")',n.drawImage(a,0,0),t}var Nd=X('<p class="svelte-12j65zy">Damage taken</p> <!> <!>',1),$d=X('<p class="svelte-12j65zy">Temp. HP</p> <!> <!>',1),Fd=X('<p class="svelte-12j65zy">Death saves:</p> <!> <!> <!>',1),Xd=X("<!> <!> <!>",1),Pd=X("<!> <!>",1),zd=X("<span>Level</span>"),Vd=X("<span>Slots</span>"),Hd=X("<!> <!>",1),Ad=X("<!> <!>",1),Td=X("<!> <!>",1),Ld=X('<h1 class="svelte-12j65zy"> </h1> <!> <!>',1),jd=X('<div class="wrapper svelte-12j65zy"><!></div> <!>',1),Dd=X('<h1 class="svelte-12j65zy">No character found for slug: <code> </code></h1> <a href="/">Go back to character select</a>',1),Od=X("<!> <!>",1);function Jd(e,t){we(t,!0);async function n(){try{if(!m(i)||!m(r))return;const u=await Rd(m(i)),d=await new Promise(f=>u.toBlob(f,"image/png"));if(!d)throw new Error("Couldn't retrieve blob");await is(d,`Mini sheet ${m(r).name}.png`)}catch{ki("Something went wrong downloading the image.")}}var r,i,a=zi([async()=>r=await Vi(()=>_s(t.params.slug)),()=>i=We(null)]),l=Od(),o=O(l);pt(o,[a[0]],void 0,u=>{let d=Ye(()=>m(r)?`${m(r).name}`:"Not Found");Oi(o,{get title(){return m(d)}})});var s=G(o,2);pt(s,[a[0]],[()=>m(r)],(u,d)=>{var f=c=>{re(c,{column:!0,align:"center",children:(g,y)=>{var I=jd(),_=O(I),C=F(_);at(C,{children:(z,S)=>{re(z,{column:!0,children:(b,Z)=>{var P=Ld(),V=O(P),B=F(V,!0);N(V);var H=G(V,2);re(H,{children:(L,K)=>{var U=Pd(),ee=O(U);at(ee,{small:!0,noshadow:!0,nopadding:!0,children:(le,ve)=>{pt(le,[a[0]],void 0,w=>{Ua(w,{get avatar(){return m(r).avatar}})})},$$slots:{default:!0}});var ne=G(ee,2);re(ne,{column:!0,children:(le,ve)=>{var w=Xd(),fe=O(w);at(fe,{flex:!0,small:!0,noshadow:!0,children:(te,pe)=>{re(te,{column:!0,children:(he,Ce)=>{var xe=Nd(),Ne=G(O(xe),2);Wn(Ne,{});var Oe=G(Ne,2);ye(Oe,{}),E(he,xe)},$$slots:{default:!0}})},$$slots:{default:!0}});var ue=G(fe,2);at(ue,{flex:!0,small:!0,noshadow:!0,children:(te,pe)=>{re(te,{column:!0,children:(he,Ce)=>{var xe=$d(),Ne=G(O(xe),2);Wn(Ne,{});var Oe=G(Ne,2);ye(Oe,{}),E(he,xe)},$$slots:{default:!0}})},$$slots:{default:!0}});var x=G(ue,2);re(x,{column:!0,sm:!0,children:(te,pe)=>{var he=Fd(),Ce=G(O(he),2);Wn(Ce,{});var xe=G(Ce,2);Wi(xe,{label:"Success"});var Ne=G(xe,2);Wi(Ne,{label:"Failures"}),E(te,he)},$$slots:{default:!0}}),E(le,w)},$$slots:{default:!0}}),E(L,U)},$$slots:{default:!0}});var A=G(H,2);pt(A,[a[0]],[()=>m(r).spells.length>0&&m(r).spellSlots.length>0],(L,K)=>{var U=ee=>{Ee(ee,{children:(ne,le)=>{var ve=Td(),w=O(ve);Ee(w,{row:!0,children:(ue,x)=>{var te=Hd(),pe=O(te);Ee(pe,{cell:!0,right:!0,children:(Ce,xe)=>{var Ne=zd();E(Ce,Ne)},$$slots:{default:!0}});var he=G(pe,2);Ee(he,{cell:!0,children:(Ce,xe)=>{var Ne=Vd();E(Ce,Ne)},$$slots:{default:!0}}),E(ue,te)},$$slots:{default:!0}});var fe=G(w,2);pt(fe,[a[0]],[()=>m(r).spellSlots],(ue,x)=>{zt(ue,17,()=>m(x),$n,(te,pe)=>{Ee(te,{row:!0,children:(he,Ce)=>{var xe=Ad(),Ne=O(xe);Ee(Ne,{cell:!0,right:!0,children:(ke,yt)=>{_e();var et=Me();ce(()=>Pe(et,m(pe).level)),E(ke,et)},$$slots:{default:!0}});var Oe=G(Ne,2);Ee(Oe,{cell:!0,children:(ke,yt)=>{Qa(ke,{get amount(){return m(pe).amount}})},$$slots:{default:!0}}),E(he,xe)},$$slots:{default:!0}})})}),E(ne,ve)},$$slots:{default:!0}})};Re(L,ee=>{m(K)&&ee(U)})}),ce(()=>Pe(B,m(r).name),void 0,void 0,[a[0]]),E(b,P)},$$slots:{default:!0}})},$$slots:{default:!0}}),N(_),yo([a[1]],()=>{lr(_,z=>ae(i,z),()=>m(i))});var R=G(_,2);pt(R,[a[1]],void 0,z=>{nt(R,{get onclick(){return n},children:(S,b)=>{_e();var Z=Me("Download");E(S,Z)},$$slots:{default:!0}})}),E(g,I)},$$slots:{default:!0}})},v=c=>{var g=Dd(),y=O(g),I=G(F(y)),_=F(I,!0);N(I),N(y);var C=G(y,2);Sr(C,R=>Zi?.(R)),ce(()=>Pe(_,t.params.slug),void 0,void 0,[a[0]]),E(c,g)};Re(u,c=>{m(d)?c(f):c(v,!1)})}),E(e,l),Se()}var Md=X('<div class="grid svelte-1hhz0mg"><div class="inner svelte-1hhz0mg"><!></div></div>');function Ud(e,t){var n=Md(),r=F(n),i=F(r);_t(i,()=>t.children??Xe),N(r),N(n),E(e,n)}var Qd=X('<h1 class="svelte-1udyrqm"> </h1> <!>',1),qd=X('<div class="padding svelte-1udyrqm"><!></div>'),Kd=X('<div class="children svelte-1udyrqm"><!></div>'),ev=X('<div class="inner svelte-1udyrqm"><!> <!></div>');function Ft(e,t){at(e,{get grid(){return t.grid},nopadding:!0,children:(n,r)=>{var i=ev(),a=F(i);{var l=u=>{var d=Qd(),f=O(d),v=F(f,!0);N(f);var c=G(f,2);ye(c,{}),ce(()=>Pe(v,t.title)),E(u,d)};Re(a,u=>{t.title&&u(l)})}var o=G(a,2);{var s=u=>{var d=Kd(),f=F(d);{var v=g=>{Ud(g,{children:(y,I)=>{var _=en(),C=O(_);_t(C,()=>t.children),E(y,_)}})},c=g=>{var y=qd(),I=F(y);_t(I,()=>t.children),N(y),E(g,y)};Re(f,g=>{t.grid?g(v):g(c,!1)})}N(d),E(u,d)};Re(o,u=>{t.children&&u(s)})}N(i),E(n,i)},$$slots:{default:!0}})}var tv=X("<span> </span>"),nv=X("<span> </span>"),rv=X("<p> </p> <p><!> <!></p>",1),iv=X("<span>View Sheet</span>"),av=X("<span>View mini sheet</span>"),lv=X('<a class="svelte-19e1lap"><!></a> <a class="svelte-19e1lap"><!></a>',1),ov=X("<!> <!>",1),sv=X('<!> <!> <!> <!> <div class="bottom svelte-19e1lap"><!></div>',1);function uv(e,t){we(t,!0),Ft(e,{get title(){return t.character.name},children:(n,r)=>{re(n,{column:!0,children:(i,a)=>{var l=sv(),o=O(l);at(o,{nopadding:!0,noshadow:!0,small:!0,children:(c,g)=>{Ua(c,{get avatar(){return t.character.avatar}})}});var s=G(o,2);re(s,{column:!0,children:(c,g)=>{var y=rv(),I=O(y),_=F(I);N(I);var C=G(I,2),R=F(C);{var z=Z=>{var P=tv(),V=F(P);N(P),ce(()=>Pe(V,`Class: ${t.character.class??""}`)),E(Z,P)};Re(R,Z=>{t.character.class&&Z(z)})}var S=G(R,2);{var b=Z=>{var P=nv(),V=F(P);N(P),ce(()=>Pe(V,`(${t.character.subclass??""})`)),E(Z,P)};Re(S,Z=>{t.character.subclass&&Z(b)})}N(C),ce(()=>Pe(_,`Level: ${t.character.level??""}`)),E(c,y)},$$slots:{default:!0}});var u=G(s,2);Wn(u);var d=G(u,2);ye(d,{});var f=G(d,2),v=F(f);re(v,{column:!0,justify:"start",children:(c,g)=>{var y=ov(),I=O(y);re(I,{children:(R,z)=>{var S=lv(),b=O(S),Z=F(b);Ei(Z,{children:(B,H)=>{var A=iv();E(B,A)}}),N(b),Sr(b,B=>Zi?.(B));var P=G(b,2),V=F(P);Ei(V,{children:(B,H)=>{var A=av();E(B,A)}}),N(P),Sr(P,B=>Zi?.(B)),ce((B,H)=>{Vt(b,"href",B),Vt(P,"href",H)},[()=>sn.characterSheet(t.character.slug),()=>sn.characterMiniSheet(t.character.slug)]),E(R,S)},$$slots:{default:!0}});var _=G(I,2);{var C=R=>{nt(R,{get onclick(){return t.onDelete},children:(z,S)=>{_e();var b=Me("Delete");E(z,b)},$$slots:{default:!0}})};Re(_,R=>{t.onDelete&&R(C)})}E(c,y)},$$slots:{default:!0}}),N(f),E(i,l)},$$slots:{default:!0}})}}),Se()}const ys=document.createElement("div");document.body.appendChild(ys);function cv(e){return ni().then(()=>{ys.appendChild(e)}),{destroy:()=>{e.remove()}}}var fv=X('<div class="wrapper svelte-1xzr1y2"><div class="inner svelte-1xzr1y2"><!></div></div>');function Yi(e,t){let n=We(null),r=We(null);var i=fv(),a=F(i),l=F(a);_t(l,()=>t.children??Xe),N(a),lr(a,o=>ae(r,o),()=>m(r)),N(i),lr(i,o=>ae(n,o),()=>m(n)),E(e,i)}var dv=X('<div class="child-wrapper svelte-ta60gp"><!></div>'),vv=X('<div><div class="inner svelte-ta60gp"><!></div></div>');function Is(e,t){we(t,!0);function n(o){o.key==="Escape"&&(o.stopPropagation(),o.preventDefault(),t.onclose?.())}var r=vv();cn("keydown",Ln,n);let i;var a=F(r),l=F(a);Ft(l,{get title(){return t.title},children:(o,s)=>{Yi(o,{children:(u,d)=>{var f=dv(),v=F(f);_t(v,()=>t.children??Xe),N(f),E(u,f)}})}}),N(a),N(r),Sr(r,o=>cv?.(o)),ce(()=>i=Bt(r,1,"modal svelte-ta60gp",null,i,{full:t.full})),E(e,r),Se()}var hv=X("<!> <!>",1),gv=X("<h2>Confirm Deletion</h2> <p>Are you sure you want to delete this character?</p> <!>",1),pv=X('<input required type="text" placeholder="New Character Name" class="svelte-1uilhb6"/> <!>',1),mv=X("<form><!></form>"),bv=X('<div class="grid svelte-1uilhb6"><!></div> <!> <div class="toolbar svelte-1uilhb6"><!></div>',1),_v=X("<!> <!> <!>",1);function yv(e,t){we(t,!0);async function n(){const y=m(s).trim();if(y.length===0)return;const I=pf(y);if(m(o).find(C=>C.slug===I)){ki("A character with that name already exists.","error");return}const _=await Cd(I,y);m(o).push(_),ae(s,""),ae(o,m(o),!0)}function r(y){ae(u,y,!0)}function i(){ae(u,null)}async function a(){if(!m(u))return;const y=m(u);ae(u,null),await Ed(y),ae(o,m(o).filter(I=>I.slug!==y),!0)}function l(y){y.preventDefault()}var o,s,u,d=zi([async()=>o=We(Pn(await kd())),()=>s=We(""),()=>u=We(null)]),f=_v(),v=O(f);Oi(v,{title:"Character select"});var c=G(v,2);pt(c,[d[2]],[()=>m(u)],(y,I)=>{var _=C=>{pt(C,[d[2]],void 0,R=>{Is(R,{get onclose(){return i},children:(z,S)=>{re(z,{column:!0,children:(b,Z)=>{var P=gv(),V=G(O(P),4);re(V,{children:(B,H)=>{var A=hv(),L=O(A);pt(L,[d[2]],void 0,U=>{nt(L,{get onclick(){return i},children:(ee,ne)=>{_e();var le=Me("Cancel");E(ee,le)},$$slots:{default:!0}})});var K=G(L,2);pt(K,[d[2]],void 0,U=>{nt(K,{get onclick(){return a},children:(ee,ne)=>{_e();var le=Me("Delete");E(ee,le)},$$slots:{default:!0}})}),E(B,A)},$$slots:{default:!0}}),E(b,P)},$$slots:{default:!0}})},$$slots:{default:!0}})})};Re(y,C=>{m(I)&&C(_)})});var g=G(c,2);re(g,{column:!0,children:(y,I)=>{var _=bv(),C=O(_),R=F(C);pt(R,[d[0]],[()=>m(o)],(Z,P)=>{zt(Z,17,()=>m(P),V=>V.slug,(V,B)=>{uv(V,{get character(){return m(B)},onDelete:()=>r(m(B).slug)})})}),N(C);var z=G(C,2);Wn(z);var S=G(z,2),b=F(S);hs(b,{children:(Z,P)=>{re(Z,{column:!0,xl:!0,children:(V,B)=>{re(V,{column:!0,align:"start",padding:!0,children:(H,A)=>{re(H,{children:(L,K)=>{var U=mv(),ee=F(U);re(ee,{children:(ne,le)=>{var ve=pv(),w=O(ve);tr(w);var fe=G(w,2);pt(fe,[d[2]],void 0,ue=>{nt(fe,{type:"submit",get onclick(){return n},children:(x,te)=>{_e();var pe=Me("Create New Character");E(x,pe)},$$slots:{default:!0}})}),yo([d[1]],()=>{nr(w,()=>m(s),ue=>ae(s,ue))}),E(ne,ve)},$$slots:{default:!0}}),N(U),cn("submit",U,l),E(L,U)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}}),N(S),E(y,_)}}),E(e,f),Se()}function Iv(e){const t=n=>{if(n!=null){if(typeof n=="string"){const r=n.trim();return r===""||r.toLowerCase()==="none"?void 0:n}if(typeof n=="number")return n===0?void 0:n;if(Array.isArray(n)){const r=n.map(i=>t(i)).filter(i=>i!==void 0);return r.length===0?void 0:r}if(typeof n=="object"){const r=Object.entries(n).map(([i,a])=>[i,t(a)]).filter(([,i])=>i!==void 0);return r.length===0?void 0:Object.fromEntries(r)}return n}};return t(e)??{}}async function wv(e){let t=structuredClone(e);return t=Iv(t),t=oa(t,"slug"),t.avatar&&(t.avatar.blob=null),t.spellSlots?.length===0&&(t=oa(t,"spellSlots")),t.weapons?.length===0&&(t=oa(t,"weapons")),(await ri(()=>import("./index--Ug0Gu6p.js"),[])).stringify(t)}var Sv=X('<span class="label"> </span>'),xv=X('<label class="wrapper svelte-136uhkj"><!> <div class="checkbox svelte-136uhkj"><!> <input type="checkbox" class="svelte-136uhkj"/></div></label>');function Nl(e,t){we(t,!0);const n=()=>Ae(rt,"$appSettings",r),[r,i]=Ke();let a=bt(t,"checked",15);var l=xv(),o=F(l);{var s=v=>{var c=Sv(),g=F(c,!0);N(c),ce(()=>Pe(g,t.label)),E(v,c)};Re(o,v=>{t.label&&v(s)})}var u=G(o,2),d=F(u);at(d,{nopadding:!0,absolute:!0,transparent:!0,small:!0,noshadow:!0});var f=G(d,2);tr(f),N(u),N(l),ce(()=>f.disabled=!n().edit),Dc(f,a),E(e,l),Se(),i()}var Bv=X("<div><!></div>");function Gv(e,t){const n=bt(t,"hide",3,!0);var r=Bv();let i;var a=F(r);_t(a,()=>t.children??Xe),N(r),ce(()=>i=Bt(r,1,"svelte-c0fsxz",null,i,{hide:n()})),E(e,r)}var kv=X('<input class="svelte-8ff5h4"/>'),Cv=X('<div class="svelte-8ff5h4"> </div>');function je(e,t){we(t,!0);const n=()=>Ae(rt,"$appSettings",r),[r,i]=Ke();let a=bt(t,"value",15);const l=Ye(()=>t.type??typeof a()=="number"?"number":"text"),o=Ye(()=>n().edit);var s=en(),u=O(s);{var d=v=>{var c=kv();tr(c),ce(()=>Vt(c,"type",m(l))),nr(c,a),E(v,c)},f=v=>{var c=Cv(),g=F(c,!0);N(c),ce(()=>Pe(g,t.displayValue??a())),E(v,c)};Re(u,v=>{m(o)?v(d):v(f,!1)})}E(e,s),Se(),i()}var Zv=X('<div class="value svelte-1ndak0x"><!></div> <button type="button">delete</button>',1),Ev=X("<!> <!>",1),Wv=X("<strong>Qty</strong>"),Yv=X("<strong>Item</strong>"),Rv=X("<strong>Notes</strong>"),Nv=X("<!> <!> <!>",1),$v=X('<span class="value svelte-1ndak0x"> </span>'),Fv=X('<span class="value svelte-1ndak0x"> </span>'),Xv=X('<span class="value svelte-1ndak0x"> </span>'),Pv=X("<!> <!> <!>",1),zv=X("<!> <!>",1),Vv=X('<div class="wrapper svelte-1ndak0x"><!></div>');function Hv(e,t){we(t,!0);const n=()=>Ae(t.character,"$character",i),r=()=>Ae(rt,"$appSettings",i),[i,a]=Ke(),l=Ye(()=>n().inventory.flatMap(c=>{if(!c.trim())return[];const g=c.trim().match(/^(\d+)\s+(.*)$/),y=g?Number(g[1]):1,I=g?g[2]:c.trim(),[_,C]=mf(I,"|");return{count:y,name:_,description:C}}));function o(){t.character.update(c=>(c.inventory.push(""),c))}function s(c){t.character.update(g=>(g.inventory.splice(c,1),g))}var u=Vv(),d=F(u);{var f=c=>{re(c,{column:!0,children:(g,y)=>{var I=Ev(),_=O(I);zt(_,1,()=>n().inventory,$n,(R,z,S)=>{re(R,{align:"center",children:(b,Z)=>{var P=Zv(),V=O(P),B=F(V);je(B,{get value(){return n().inventory[S]},set value(A){me(t.character,j(n).inventory[S]=A,j(n))}}),N(V);var H=G(V,2);H.__click=()=>s(S),E(b,P)},$$slots:{default:!0}})});var C=G(_,2);nt(C,{onclick:o,children:(R,z)=>{_e();var S=Me("Add item");E(R,S)},$$slots:{default:!0}}),E(g,I)}})},v=c=>{Ee(c,{cells:3,children:(g,y)=>{var I=zv(),_=O(I);Ee(_,{row:!0,children:(R,z)=>{var S=Nv(),b=O(S);Ee(b,{cell:!0,children:(V,B)=>{var H=Wv();E(V,H)},$$slots:{default:!0}});var Z=G(b,2);Ee(Z,{cell:!0,children:(V,B)=>{var H=Yv();E(V,H)},$$slots:{default:!0}});var P=G(Z,2);Ee(P,{cell:!0,children:(V,B)=>{var H=Rv();E(V,H)},$$slots:{default:!0}}),E(R,S)},$$slots:{default:!0}});var C=G(_,2);zt(C,17,()=>m(l),$n,(R,z)=>{Ee(R,{row:!0,children:(S,b)=>{var Z=Pv(),P=O(Z);Ee(P,{cell:!0,children:(H,A)=>{var L=$v(),K=F(L,!0);N(L),ce(()=>Pe(K,m(z).count)),E(H,L)},$$slots:{default:!0}});var V=G(P,2);Ee(V,{cell:!0,children:(H,A)=>{var L=Fv(),K=F(L,!0);N(L),ce(()=>Pe(K,m(z).name)),E(H,L)},$$slots:{default:!0}});var B=G(V,2);Ee(B,{cell:!0,children:(H,A)=>{var L=Xv(),K=F(L,!0);N(L),ce(()=>Pe(K,m(z).description)),E(H,L)},$$slots:{default:!0}}),E(S,Z)},$$slots:{default:!0}})}),E(g,I)},$$slots:{default:!0}})};Re(d,c=>{r().edit?c(f):c(v,!1)})}N(u),E(e,u),Se(),a()}Ht(["click"]);const $l=document.createElement("i");function ws(e){const t="&"+e+";";$l.innerHTML=t;const n=$l.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function wn(e,t,n,r){const i=e.length;let a=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(t,0),e.splice(...l),a+=1e4,t+=1e4}function mt(e,t){return e.length>0?(wn(e,e.length,0,t),e):t}const Ea={}.hasOwnProperty;function Av(e){const t={};let n=-1;for(;++n<e.length;)Tv(t,e[n]);return t}function Tv(e,t){let n;for(n in t){const i=(Ea.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a){Ea.call(i,l)||(i[l]=[]);const o=a[l];Lv(i[l],Array.isArray(o)?o:o?[o]:[])}}}function Lv(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);wn(e,0,0,r)}function jv(e){const t={};let n=-1;for(;++n<e.length;)Dv(t,e[n]);return t}function Dv(e,t){let n;for(n in t){const i=(Ea.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a)i[l]=a[l]}}function Ov(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}const Jv={'"':"quot","&":"amp","<":"lt",">":"gt"};function Ss(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+Jv[n]+";"}}function Mr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mn=On(/[A-Za-z]/),Xt=On(/[\dA-Za-z]/),Mv=On(/[#-'*+\--9=?A-Z^-~]/);function Wa(e){return e!==null&&(e<32||e===127)}const Ya=On(/\d/),Uv=On(/[\dA-Fa-f]/),Qv=On(/[!-/:-@[-`{-~]/);function de(e){return e!==null&&e<-2}function Et(e){return e!==null&&(e<0||e===32)}function $e(e){return e===-2||e===-1||e===32}const qv=On(new RegExp("\\p{P}|\\p{S}","u")),Kv=On(/\s/);function On(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function gi(e,t){const n=Ss(eh(e||""));if(!t)return n;const r=n.indexOf(":"),i=n.indexOf("?"),a=n.indexOf("#"),l=n.indexOf("/");return r<0||l>-1&&r>l||i>-1&&r>i||a>-1&&r>a||t.test(n.slice(0,r))?n:""}function eh(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let l="";if(a===37&&Xt(e.charCodeAt(n+1))&&Xt(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(l=String.fromCharCode(a,o),i=1):l="ï¿½"}else l=String.fromCharCode(a);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}const Fl={}.hasOwnProperty,Xl=/^(https?|ircs?|mailto|xmpp)$/i,th=/^https?$/i;function nh(e){const t=e||{};let n=!0;const r={},i=[[]],a=[],l=[],s=jv([{enter:{blockQuote:U,codeFenced:ve,codeFencedFenceInfo:I,codeFencedFenceMeta:I,codeIndented:ue,codeText:Qi,content:Le,definition:At,definitionDestinationString:vn,definitionLabelString:I,definitionTitleString:I,emphasis:Er,htmlFlow:It,htmlText:Jn,image:te,label:I,link:pe,listItemMarker:H,listItemValue:B,listOrdered:P,listUnordered:V,paragraph:ne,reference:I,resource:Ne,resourceDestinationString:Oe,resourceTitleString:I,setextHeading:gt,strong:Ui},exit:{atxHeading:Bn,atxHeadingSequence:ut,autolinkEmail:ea,autolinkProtocol:si,blockQuote:ee,characterEscapeValue:Gt,characterReferenceMarkerHexadecimal:oi,characterReferenceMarkerNumeric:oi,characterReferenceValue:Ki,codeFenced:x,codeFencedFence:fe,codeFencedFenceInfo:w,codeFencedFenceMeta:Z,codeFlowValue:ln,codeIndented:x,codeText:Wr,codeTextData:Gt,data:Gt,definition:Qe,definitionDestinationString:Tt,definitionLabelString:st,definitionTitleString:Te,emphasis:li,hardBreakEscape:Je,hardBreakTrailing:Je,htmlFlow:Wt,htmlFlowData:Gt,htmlText:Wt,htmlTextData:Gt,image:et,label:Ce,labelText:he,lineEnding:Ue,link:et,listOrdered:A,listUnordered:L,paragraph:le,reference:Z,referenceString:xe,resource:Z,resourceDestinationString:ke,resourceTitleString:yt,setextHeading:hn,setextHeadingLineSequence:Lt,setextHeadingText:an,strong:qi,thematicBreak:gn}},...t.htmlExtensions||[]]),u={definitions:r,tightStack:l},d={buffer:I,encode:b,getData:y,lineEndingIfNeeded:S,options:t,raw:R,resume:_,setData:g,tag:C};let f=t.defaultLineEnding;return v;function v(Q){let oe=-1,ct=0;const Yt=[];let jt=[],on=[];for(;++oe<Q.length;)!f&&(Q[oe][1].type==="lineEnding"||Q[oe][1].type==="lineEndingBlank")&&(f=Q[oe][2].sliceSerialize(Q[oe][1])),(Q[oe][1].type==="listOrdered"||Q[oe][1].type==="listUnordered")&&(Q[oe][0]==="enter"?Yt.push(oe):c(Q.slice(Yt.pop(),oe))),Q[oe][1].type==="definition"&&(Q[oe][0]==="enter"?(on=mt(on,Q.slice(ct,oe)),ct=oe):(jt=mt(jt,Q.slice(ct,oe+1)),ct=oe+1));jt=mt(jt,on),jt=mt(jt,Q.slice(ct)),oe=-1;const Dt=jt;for(s.enter.null&&s.enter.null.call(d);++oe<Q.length;){const ui=s[Dt[oe][0]],ci=Dt[oe][1].type,Yr=ui[ci];Fl.call(ui,ci)&&Yr&&Yr.call({sliceSerialize:Dt[oe][2].sliceSerialize,...d},Dt[oe][1])}return s.exit.null&&s.exit.null.call(d),i[0].join("")}function c(Q){const oe=Q.length;let ct=0,Yt=0,jt=!1,on;for(;++ct<oe;){const Dt=Q[ct];if(Dt[1]._container)on=void 0,Dt[0]==="enter"?Yt++:Yt--;else switch(Dt[1].type){case"listItemPrefix":{Dt[0]==="exit"&&(on=!0);break}case"linePrefix":break;case"lineEndingBlank":{Dt[0]==="enter"&&!Yt&&(on?on=void 0:jt=!0);break}default:on=void 0}}Q[0][1]._loose=jt}function g(Q,oe){u[Q]=oe}function y(Q){return u[Q]}function I(){i.push([])}function _(){return i.pop().join("")}function C(Q){n&&(g("lastWasTag",!0),i[i.length-1].push(Q))}function R(Q){g("lastWasTag"),i[i.length-1].push(Q)}function z(){R(f||`
`)}function S(){const Q=i[i.length-1],oe=Q[Q.length-1],ct=oe?oe.charCodeAt(oe.length-1):null;ct===10||ct===13||ct===null||z()}function b(Q){return y("ignoreEncode")?Q:Ss(Q)}function Z(){_()}function P(Q){l.push(!Q._loose),S(),C("<ol"),g("expectFirstItem",!0)}function V(Q){l.push(!Q._loose),S(),C("<ul"),g("expectFirstItem",!0)}function B(Q){if(y("expectFirstItem")){const oe=Number.parseInt(this.sliceSerialize(Q),10);oe!==1&&C(' start="'+b(String(oe))+'"')}}function H(){y("expectFirstItem")?C(">"):K(),S(),C("<li>"),g("expectFirstItem"),g("lastWasTag")}function A(){K(),l.pop(),z(),C("</ol>")}function L(){K(),l.pop(),z(),C("</ul>")}function K(){y("lastWasTag")&&!y("slurpAllLineEndings")&&S(),C("</li>"),g("slurpAllLineEndings")}function U(){l.push(!1),S(),C("<blockquote>")}function ee(){l.pop(),S(),C("</blockquote>"),g("slurpAllLineEndings")}function ne(){l[l.length-1]||(S(),C("<p>")),g("slurpAllLineEndings")}function le(){l[l.length-1]?g("slurpAllLineEndings",!0):C("</p>")}function ve(){S(),C("<pre><code"),g("fencesCount",0)}function w(){const Q=_();C(' class="language-'+Q+'"')}function fe(){const Q=y("fencesCount")||0;Q||(C(">"),g("slurpOneLineEnding",!0)),g("fencesCount",Q+1)}function ue(){S(),C("<pre><code>")}function x(){const Q=y("fencesCount");Q!==void 0&&Q<2&&u.tightStack.length>0&&!y("lastWasTag")&&z(),y("flowCodeSeenData")&&S(),C("</code></pre>"),Q!==void 0&&Q<2&&S(),g("flowCodeSeenData"),g("fencesCount"),g("slurpOneLineEnding")}function te(){a.push({image:!0}),n=void 0}function pe(){a.push({})}function he(Q){a[a.length-1].labelId=this.sliceSerialize(Q)}function Ce(){a[a.length-1].label=_()}function xe(Q){a[a.length-1].referenceId=this.sliceSerialize(Q)}function Ne(){I(),a[a.length-1].destination=""}function Oe(){I(),g("ignoreEncode",!0)}function ke(){a[a.length-1].destination=_(),g("ignoreEncode")}function yt(){a[a.length-1].title=_()}function et(){let Q=a.length-1;const oe=a[Q],ct=oe.referenceId||oe.labelId,Yt=oe.destination===void 0?r[Mr(ct)]:oe;for(n=!0;Q--;)if(a[Q].image){n=void 0;break}oe.image?(C('<img src="'+gi(Yt.destination,t.allowDangerousProtocol?void 0:th)+'" alt="'),R(oe.label),C('"')):C('<a href="'+gi(Yt.destination,t.allowDangerousProtocol?void 0:Xl)+'"'),C(Yt.title?' title="'+Yt.title+'"':""),oe.image?C(" />"):(C(">"),R(oe.label),C("</a>")),a.pop()}function At(){I(),a.push({})}function st(Q){_(),a[a.length-1].labelId=this.sliceSerialize(Q)}function vn(){I(),g("ignoreEncode",!0)}function Tt(){a[a.length-1].destination=_(),g("ignoreEncode")}function Te(){a[a.length-1].title=_()}function Qe(){const Q=a[a.length-1],oe=Mr(Q.labelId);_(),Fl.call(r,oe)||(r[oe]=a[a.length-1]),a.pop()}function Le(){g("slurpAllLineEndings",!0)}function ut(Q){y("headingRank")||(g("headingRank",this.sliceSerialize(Q).length),S(),C("<h"+y("headingRank")+">"))}function gt(){I(),g("slurpAllLineEndings")}function an(){g("slurpAllLineEndings",!0)}function Bn(){C("</h"+y("headingRank")+">"),g("headingRank")}function Lt(Q){g("headingRank",this.sliceSerialize(Q).charCodeAt(0)===61?1:2)}function hn(){const Q=_();S(),C("<h"+y("headingRank")+">"),R(Q),C("</h"+y("headingRank")+">"),g("slurpAllLineEndings"),g("headingRank")}function Gt(Q){R(b(this.sliceSerialize(Q)))}function Ue(Q){if(!y("slurpAllLineEndings")){if(y("slurpOneLineEnding")){g("slurpOneLineEnding");return}if(y("inCodeText")){R(" ");return}R(b(this.sliceSerialize(Q)))}}function ln(Q){R(b(this.sliceSerialize(Q))),g("flowCodeSeenData",!0)}function Je(){C("<br />")}function It(){S(),Jn()}function Wt(){g("ignoreEncode")}function Jn(){t.allowDangerousHtml&&g("ignoreEncode",!0)}function Er(){C("<em>")}function Ui(){C("<strong>")}function Qi(){g("inCodeText",!0),C("<code>")}function Wr(){g("inCodeText"),C("</code>")}function li(){C("</em>")}function qi(){C("</strong>")}function gn(){S(),C("<hr />")}function oi(Q){g("characterReferenceType",Q.type)}function Ki(Q){const oe=this.sliceSerialize(Q),ct=y("characterReferenceType")?Ov(oe,y("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):ws(oe);R(b(ct)),g("characterReferenceType")}function si(Q){const oe=this.sliceSerialize(Q);C('<a href="'+gi(oe,t.allowDangerousProtocol?void 0:Xl)+'">'),R(b(oe)),C("</a>")}function ea(Q){const oe=this.sliceSerialize(Q);C('<a href="'+gi("mailto:"+oe)+'">'),R(b(oe)),C("</a>")}}function De(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(s){return $e(s)?(e.enter(n),o(s)):t(s)}function o(s){return $e(s)&&a++<i?(e.consume(s),o):(e.exit(n),t(s))}}const rh={tokenize:ih};function ih(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),De(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,l(o)}function l(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return de(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),l)}}const ah={tokenize:lh},Pl={tokenize:oh};function lh(e){const t=this,n=[];let r=0,i,a,l;return o;function o(R){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,s,u)(R)}return u(R)}function s(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&C();const z=t.events.length;let S=z,b;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){b=t.events[S][1].end;break}_(r);let Z=z;for(;Z<t.events.length;)t.events[Z][1].end={...b},Z++;return wn(t.events,S+1,0,t.events.slice(z)),t.events.length=Z,u(R)}return o(R)}function u(R){if(r===n.length){if(!i)return v(R);if(i.currentConstruct&&i.currentConstruct.concrete)return g(R);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Pl,d,f)(R)}function d(R){return i&&C(),_(r),v(R)}function f(R){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,g(R)}function v(R){return t.containerState={},e.attempt(Pl,c,g)(R)}function c(R){return r++,n.push([t.currentConstruct,t.containerState]),v(R)}function g(R){if(R===null){i&&C(),_(0),e.consume(R);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),y(R)}function y(R){if(R===null){I(e.exit("chunkFlow"),!0),_(0),e.consume(R);return}return de(R)?(e.consume(R),I(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(R),y)}function I(R,z){const S=t.sliceStream(R);if(z&&S.push(null),R.previous=a,a&&(a.next=R),a=R,i.defineSkip(R.start),i.write(S),t.parser.lazy[R.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<l&&(!i.events[b][1].end||i.events[b][1].end.offset>l))return;const Z=t.events.length;let P=Z,V,B;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(V){B=t.events[P][1].end;break}V=!0}for(_(r),b=Z;b<t.events.length;)t.events[b][1].end={...B},b++;wn(t.events,P+1,0,t.events.slice(Z)),t.events.length=b}}function _(R){let z=n.length;for(;z-- >R;){const S=n[z];t.containerState=S[1],S[0].exit.call(t,e)}n.length=R}function C(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function oh(e,t,n){return De(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zl(e){if(e===null||Et(e)||Kv(e))return 1;if(qv(e))return 2}function qa(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Ra={name:"attention",resolveAll:sh,tokenize:uh};function sh(e,t){let n=-1,r,i,a,l,o,s,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},v={...e[n][1].start};Vl(f,-s),Vl(v,s),l={type:s>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:s>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},a={type:s>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:s>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},e[r][1].end={...l.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=mt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=mt(u,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",a,t]]),u=mt(u,qa(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=mt(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=mt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,wn(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function uh(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=zl(r);let a;return l;function l(s){return a=s,e.enter("attentionSequence"),o(s)}function o(s){if(s===a)return e.consume(s),o;const u=e.exit("attentionSequence"),d=zl(s),f=!d||d===2&&i||n.includes(s),v=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!v)),u._close=!!(a===42?v:v&&(d||!f)),t(s)}}function Vl(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const ch={name:"autolink",tokenize:fh};function fh(e,t,n){let r=0;return i;function i(c){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(c){return mn(c)?(e.consume(c),l):c===64?n(c):u(c)}function l(c){return c===43||c===45||c===46||Xt(c)?(r=1,o(c)):u(c)}function o(c){return c===58?(e.consume(c),r=0,s):(c===43||c===45||c===46||Xt(c))&&r++<32?(e.consume(c),o):(r=0,u(c))}function s(c){return c===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.exit("autolink"),t):c===null||c===32||c===60||Wa(c)?n(c):(e.consume(c),s)}function u(c){return c===64?(e.consume(c),d):Mv(c)?(e.consume(c),u):n(c)}function d(c){return Xt(c)?f(c):n(c)}function f(c){return c===46?(e.consume(c),r=0,d):c===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.exit("autolink"),t):v(c)}function v(c){if((c===45||Xt(c))&&r++<63){const g=c===45?v:f;return e.consume(c),g}return n(c)}}const Mi={partial:!0,tokenize:dh};function dh(e,t,n){return r;function r(a){return $e(a)?De(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||de(a)?t(a):n(a)}}const xs={continuation:{tokenize:hh},exit:gh,name:"blockQuote",tokenize:vh};function vh(e,t,n){const r=this;return i;function i(l){if(l===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return n(l)}function a(l){return $e(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function hh(e,t,n){const r=this;return i;function i(l){return $e(l)?De(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(xs,t,n)(l)}}function gh(e){e.exit("blockQuote")}const Bs={name:"characterEscape",tokenize:ph};function ph(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Qv(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const Gs={name:"characterReference",tokenize:mh};function mh(e,t,n){const r=this;let i=0,a,l;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),s}function s(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,l=Xt,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=Uv,d):(e.enter("characterReferenceValue"),a=7,l=Ya,d(f))}function d(f){if(f===59&&i){const v=e.exit("characterReferenceValue");return l===Xt&&!ws(r.sliceSerialize(v))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(f)&&i++<a?(e.consume(f),d):n(f)}}const Hl={partial:!0,tokenize:_h},Al={concrete:!0,name:"codeFenced",tokenize:bh};function bh(e,t,n){const r=this,i={partial:!0,tokenize:S};let a=0,l=0,o;return s;function s(b){return u(b)}function u(b){const Z=r.events[r.events.length-1];return a=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,o=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(b)}function d(b){return b===o?(l++,e.consume(b),d):l<3?n(b):(e.exit("codeFencedFenceSequence"),$e(b)?De(e,f,"whitespace")(b):f(b))}function f(b){return b===null||de(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(Hl,y,z)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(b))}function v(b){return b===null||de(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(b)):$e(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),De(e,c,"whitespace")(b)):b===96&&b===o?n(b):(e.consume(b),v)}function c(b){return b===null||de(b)?f(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===null||de(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(b)):b===96&&b===o?n(b):(e.consume(b),g)}function y(b){return e.attempt(i,z,I)(b)}function I(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),_}function _(b){return a>0&&$e(b)?De(e,C,"linePrefix",a+1)(b):C(b)}function C(b){return b===null||de(b)?e.check(Hl,y,z)(b):(e.enter("codeFlowValue"),R(b))}function R(b){return b===null||de(b)?(e.exit("codeFlowValue"),C(b)):(e.consume(b),R)}function z(b){return e.exit("codeFenced"),t(b)}function S(b,Z,P){let V=0;return B;function B(U){return b.enter("lineEnding"),b.consume(U),b.exit("lineEnding"),H}function H(U){return b.enter("codeFencedFence"),$e(U)?De(b,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):A(U)}function A(U){return U===o?(b.enter("codeFencedFenceSequence"),L(U)):P(U)}function L(U){return U===o?(V++,b.consume(U),L):V>=l?(b.exit("codeFencedFenceSequence"),$e(U)?De(b,K,"whitespace")(U):K(U)):P(U)}function K(U){return U===null||de(U)?(b.exit("codeFencedFence"),Z(U)):P(U)}}}function _h(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const ca={name:"codeIndented",tokenize:Ih},yh={partial:!0,tokenize:wh};function Ih(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),De(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?s(u):de(u)?e.attempt(yh,l,s)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||de(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),o)}function s(u){return e.exit("codeIndented"),t(u)}}function wh(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):de(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):De(e,a,"linePrefix",5)(l)}function a(l){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):de(l)?i(l):n(l)}}const Sh={name:"codeText",previous:Bh,resolve:xh,tokenize:Gh};function xh(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Bh(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Gh(e,t,n){let r=0,i,a;return l;function l(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),s(f))}function s(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),s):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):de(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||de(f)?(e.exit("codeTextData"),s(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class kh{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Fr(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Fr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Fr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Fr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Fr(this.left,n.reverse())}}}function Fr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ks(e){const t={};let n=-1,r,i,a,l,o,s,u;const d=new kh(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,a=0,a<s.length&&s[a][1].type==="lineEndingBlank"&&(a+=2),a<s.length&&s[a][1].type==="content"))for(;++a<s.length&&s[a][1].type!=="content";)s[a][1].type==="chunkText"&&(s[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ch(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(l=d.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return wn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Ch(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,s=[],u={};let d,f,v=-1,c=n,g=0,y=0;const I=[y];for(;c;){for(;e.get(++i)[1]!==c;);a.push(i),c._tokenizer||(d=r.sliceStream(c),c.next||d.push(null),f&&l.defineSkip(c.start),c._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),c._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),f=c,c=c.next}for(c=n;++v<o.length;)o[v][0]==="exit"&&o[v-1][0]==="enter"&&o[v][1].type===o[v-1][1].type&&o[v][1].start.line!==o[v][1].end.line&&(y=v+1,I.push(y),c._tokenizer=void 0,c.previous=void 0,c=c.next);for(l.events=[],c?(c._tokenizer=void 0,c.previous=void 0):I.pop(),v=I.length;v--;){const _=o.slice(I[v],I[v+1]),C=a.pop();s.push([C,C+_.length-1]),e.splice(C,2,_)}for(s.reverse(),v=-1;++v<s.length;)u[g+s[v][0]]=g+s[v][1],g+=s[v][1]-s[v][0]-1;return u}const Zh={resolve:Wh,tokenize:Yh},Eh={partial:!0,tokenize:Rh};function Wh(e){return ks(e),e}function Yh(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):de(o)?e.check(Eh,l,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function l(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Rh(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),De(e,a,"linePrefix")}function a(l){if(l===null||de(l))return n(l);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Cs(e,t,n,r,i,a,l,o,s){const u=s||Number.POSITIVE_INFINITY;let d=0;return f;function f(_){return _===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(_),e.exit(a),v):_===null||_===32||_===41||Wa(_)?n(_):(e.enter(r),e.enter(l),e.enter(o),e.enter("chunkString",{contentType:"string"}),y(_))}function v(_){return _===62?(e.enter(a),e.consume(_),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),c(_))}function c(_){return _===62?(e.exit("chunkString"),e.exit(o),v(_)):_===null||_===60||de(_)?n(_):(e.consume(_),_===92?g:c)}function g(_){return _===60||_===62||_===92?(e.consume(_),c):c(_)}function y(_){return!d&&(_===null||_===41||Et(_))?(e.exit("chunkString"),e.exit(o),e.exit(l),e.exit(r),t(_)):d<u&&_===40?(e.consume(_),d++,y):_===41?(e.consume(_),d--,y):_===null||_===32||_===40||Wa(_)?n(_):(e.consume(_),_===92?I:y)}function I(_){return _===40||_===41||_===92?(e.consume(_),y):y(_)}}function Zs(e,t,n,r,i,a){const l=this;let o=0,s;return u;function u(c){return e.enter(r),e.enter(i),e.consume(c),e.exit(i),e.enter(a),d}function d(c){return o>999||c===null||c===91||c===93&&!s||c===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?n(c):c===93?(e.exit(a),e.enter(i),e.consume(c),e.exit(i),e.exit(r),t):de(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(c))}function f(c){return c===null||c===91||c===93||de(c)||o++>999?(e.exit("chunkString"),d(c)):(e.consume(c),s||(s=!$e(c)),c===92?v:f)}function v(c){return c===91||c===92||c===93?(e.consume(c),o++,f):f(c)}}function Es(e,t,n,r,i,a){let l;return o;function o(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),l=v===40?41:v,s):n(v)}function s(v){return v===l?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(a),u(v))}function u(v){return v===l?(e.exit(a),s(l)):v===null?n(v):de(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),De(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(v))}function d(v){return v===l||v===null||de(v)?(e.exit("chunkString"),u(v)):(e.consume(v),v===92?f:d)}function f(v){return v===l||v===92?(e.consume(v),d):d(v)}}function Dr(e,t){let n;return r;function r(i){return de(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):$e(i)?De(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Nh={name:"definition",tokenize:Fh},$h={partial:!0,tokenize:Xh};function Fh(e,t,n){const r=this;let i;return a;function a(c){return e.enter("definition"),l(c)}function l(c){return Zs.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function o(c){return i=Mr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),c===58?(e.enter("definitionMarker"),e.consume(c),e.exit("definitionMarker"),s):n(c)}function s(c){return Et(c)?Dr(e,u)(c):u(c)}function u(c){return Cs(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(c)}function d(c){return e.attempt($h,f,f)(c)}function f(c){return $e(c)?De(e,v,"whitespace")(c):v(c)}function v(c){return c===null||de(c)?(e.exit("definition"),r.parser.defined.push(i),t(c)):n(c)}}function Xh(e,t,n){return r;function r(o){return Et(o)?Dr(e,i)(o):n(o)}function i(o){return Es(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return $e(o)?De(e,l,"whitespace")(o):l(o)}function l(o){return o===null||de(o)?t(o):n(o)}}const Ph={name:"hardBreakEscape",tokenize:zh};function zh(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return de(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Vh={name:"headingAtx",resolve:Hh,tokenize:Ah};function Hh(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},wn(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Ah(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&r++<6?(e.consume(d),l):d===null||Et(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),s(d)):d===null||de(d)?(e.exit("atxHeading"),t(d)):$e(d)?De(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function s(d){return d===35?(e.consume(d),s):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Et(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const Th=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Tl=["pre","script","style","textarea"],Lh={concrete:!0,name:"htmlFlow",resolveTo:Oh,tokenize:Jh},jh={partial:!0,tokenize:Uh},Dh={partial:!0,tokenize:Mh};function Oh(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Jh(e,t,n){const r=this;let i,a,l,o,s;return u;function u(x){return d(x)}function d(x){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(x),f}function f(x){return x===33?(e.consume(x),v):x===47?(e.consume(x),a=!0,y):x===63?(e.consume(x),i=3,r.interrupt?t:w):mn(x)?(e.consume(x),l=String.fromCharCode(x),I):n(x)}function v(x){return x===45?(e.consume(x),i=2,c):x===91?(e.consume(x),i=5,o=0,g):mn(x)?(e.consume(x),i=4,r.interrupt?t:w):n(x)}function c(x){return x===45?(e.consume(x),r.interrupt?t:w):n(x)}function g(x){const te="CDATA[";return x===te.charCodeAt(o++)?(e.consume(x),o===te.length?r.interrupt?t:A:g):n(x)}function y(x){return mn(x)?(e.consume(x),l=String.fromCharCode(x),I):n(x)}function I(x){if(x===null||x===47||x===62||Et(x)){const te=x===47,pe=l.toLowerCase();return!te&&!a&&Tl.includes(pe)?(i=1,r.interrupt?t(x):A(x)):Th.includes(l.toLowerCase())?(i=6,te?(e.consume(x),_):r.interrupt?t(x):A(x)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(x):a?C(x):R(x))}return x===45||Xt(x)?(e.consume(x),l+=String.fromCharCode(x),I):n(x)}function _(x){return x===62?(e.consume(x),r.interrupt?t:A):n(x)}function C(x){return $e(x)?(e.consume(x),C):B(x)}function R(x){return x===47?(e.consume(x),B):x===58||x===95||mn(x)?(e.consume(x),z):$e(x)?(e.consume(x),R):B(x)}function z(x){return x===45||x===46||x===58||x===95||Xt(x)?(e.consume(x),z):S(x)}function S(x){return x===61?(e.consume(x),b):$e(x)?(e.consume(x),S):R(x)}function b(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),s=x,Z):$e(x)?(e.consume(x),b):P(x)}function Z(x){return x===s?(e.consume(x),s=null,V):x===null||de(x)?n(x):(e.consume(x),Z)}function P(x){return x===null||x===34||x===39||x===47||x===60||x===61||x===62||x===96||Et(x)?S(x):(e.consume(x),P)}function V(x){return x===47||x===62||$e(x)?R(x):n(x)}function B(x){return x===62?(e.consume(x),H):n(x)}function H(x){return x===null||de(x)?A(x):$e(x)?(e.consume(x),H):n(x)}function A(x){return x===45&&i===2?(e.consume(x),ee):x===60&&i===1?(e.consume(x),ne):x===62&&i===4?(e.consume(x),fe):x===63&&i===3?(e.consume(x),w):x===93&&i===5?(e.consume(x),ve):de(x)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(jh,ue,L)(x)):x===null||de(x)?(e.exit("htmlFlowData"),L(x)):(e.consume(x),A)}function L(x){return e.check(Dh,K,ue)(x)}function K(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),U}function U(x){return x===null||de(x)?L(x):(e.enter("htmlFlowData"),A(x))}function ee(x){return x===45?(e.consume(x),w):A(x)}function ne(x){return x===47?(e.consume(x),l="",le):A(x)}function le(x){if(x===62){const te=l.toLowerCase();return Tl.includes(te)?(e.consume(x),fe):A(x)}return mn(x)&&l.length<8?(e.consume(x),l+=String.fromCharCode(x),le):A(x)}function ve(x){return x===93?(e.consume(x),w):A(x)}function w(x){return x===62?(e.consume(x),fe):x===45&&i===2?(e.consume(x),w):A(x)}function fe(x){return x===null||de(x)?(e.exit("htmlFlowData"),ue(x)):(e.consume(x),fe)}function ue(x){return e.exit("htmlFlow"),t(x)}}function Mh(e,t,n){const r=this;return i;function i(l){return de(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function Uh(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Mi,t,n)}}const Qh={name:"htmlText",tokenize:qh};function qh(e,t,n){const r=this;let i,a,l;return o;function o(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),s}function s(w){return w===33?(e.consume(w),u):w===47?(e.consume(w),S):w===63?(e.consume(w),R):mn(w)?(e.consume(w),P):n(w)}function u(w){return w===45?(e.consume(w),d):w===91?(e.consume(w),a=0,g):mn(w)?(e.consume(w),C):n(w)}function d(w){return w===45?(e.consume(w),c):n(w)}function f(w){return w===null?n(w):w===45?(e.consume(w),v):de(w)?(l=f,ne(w)):(e.consume(w),f)}function v(w){return w===45?(e.consume(w),c):f(w)}function c(w){return w===62?ee(w):w===45?v(w):f(w)}function g(w){const fe="CDATA[";return w===fe.charCodeAt(a++)?(e.consume(w),a===fe.length?y:g):n(w)}function y(w){return w===null?n(w):w===93?(e.consume(w),I):de(w)?(l=y,ne(w)):(e.consume(w),y)}function I(w){return w===93?(e.consume(w),_):y(w)}function _(w){return w===62?ee(w):w===93?(e.consume(w),_):y(w)}function C(w){return w===null||w===62?ee(w):de(w)?(l=C,ne(w)):(e.consume(w),C)}function R(w){return w===null?n(w):w===63?(e.consume(w),z):de(w)?(l=R,ne(w)):(e.consume(w),R)}function z(w){return w===62?ee(w):R(w)}function S(w){return mn(w)?(e.consume(w),b):n(w)}function b(w){return w===45||Xt(w)?(e.consume(w),b):Z(w)}function Z(w){return de(w)?(l=Z,ne(w)):$e(w)?(e.consume(w),Z):ee(w)}function P(w){return w===45||Xt(w)?(e.consume(w),P):w===47||w===62||Et(w)?V(w):n(w)}function V(w){return w===47?(e.consume(w),ee):w===58||w===95||mn(w)?(e.consume(w),B):de(w)?(l=V,ne(w)):$e(w)?(e.consume(w),V):ee(w)}function B(w){return w===45||w===46||w===58||w===95||Xt(w)?(e.consume(w),B):H(w)}function H(w){return w===61?(e.consume(w),A):de(w)?(l=H,ne(w)):$e(w)?(e.consume(w),H):V(w)}function A(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),i=w,L):de(w)?(l=A,ne(w)):$e(w)?(e.consume(w),A):(e.consume(w),K)}function L(w){return w===i?(e.consume(w),i=void 0,U):w===null?n(w):de(w)?(l=L,ne(w)):(e.consume(w),L)}function K(w){return w===null||w===34||w===39||w===60||w===61||w===96?n(w):w===47||w===62||Et(w)?V(w):(e.consume(w),K)}function U(w){return w===47||w===62||Et(w)?V(w):n(w)}function ee(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):n(w)}function ne(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),le}function le(w){return $e(w)?De(e,ve,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):ve(w)}function ve(w){return e.enter("htmlTextData"),l(w)}}const Ka={name:"labelEnd",resolveAll:ng,resolveTo:rg,tokenize:ig},Kh={tokenize:ag},eg={tokenize:lg},tg={tokenize:og};function ng(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&wn(e,0,e.length,n),e}function rg(e,t){let n=e.length,r=0,i,a,l,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const s={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[l-2][1].start}};return o=[["enter",s,t],["enter",u,t]],o=mt(o,e.slice(a+1,a+r+3)),o=mt(o,[["enter",d,t]]),o=mt(o,qa(t.parser.constructs.insideSpan.null,e.slice(a+r+4,l-3),t)),o=mt(o,[["exit",d,t],e[l-2],e[l-1],["exit",u,t]]),o=mt(o,e.slice(l+1)),o=mt(o,[["exit",s,t]]),wn(e,a,e.length,o),e}function ig(e,t,n){const r=this;let i=r.events.length,a,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(v){return a?a._inactive?f(v):(l=r.parser.defined.includes(Mr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),s):n(v)}function s(v){return v===40?e.attempt(Kh,d,l?d:f)(v):v===91?e.attempt(eg,d,l?u:f)(v):l?d(v):f(v)}function u(v){return e.attempt(tg,d,f)(v)}function d(v){return t(v)}function f(v){return a._balanced=!0,n(v)}}function ag(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Et(f)?Dr(e,a)(f):a(f)}function a(f){return f===41?d(f):Cs(e,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function l(f){return Et(f)?Dr(e,s)(f):d(f)}function o(f){return n(f)}function s(f){return f===34||f===39||f===40?Es(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Et(f)?Dr(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function lg(e,t,n){const r=this;return i;function i(o){return Zs.call(r,e,a,l,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(Mr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function l(o){return n(o)}}function og(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const sg={name:"labelStartImage",resolveAll:Ka.resolveAll,tokenize:ug};function ug(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),l):n(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const cg={name:"labelStartLink",resolveAll:Ka.resolveAll,tokenize:fg};function fg(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const fa={name:"lineEnding",tokenize:dg};function dg(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),De(e,t,"linePrefix")}}const _i={name:"thematicBreak",tokenize:vg};function vg(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),l(u)}function l(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),s(u)):r>=3&&(u===null||de(u))?(e.exit("thematicBreak"),t(u)):n(u)}function s(u){return u===i?(e.consume(u),r++,s):(e.exit("thematicBreakSequence"),$e(u)?De(e,o,"whitespace")(u):o(u))}}const kt={continuation:{tokenize:mg},exit:_g,name:"list",tokenize:pg},hg={partial:!0,tokenize:yg},gg={partial:!0,tokenize:bg};function pg(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return o;function o(c){const g=r.containerState.type||(c===42||c===43||c===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||c===r.containerState.marker:Ya(c)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),c===42||c===45?e.check(_i,n,u)(c):u(c);if(!r.interrupt||c===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(c)}return n(c)}function s(c){return Ya(c)&&++l<10?(e.consume(c),s):(!r.interrupt||l<2)&&(r.containerState.marker?c===r.containerState.marker:c===41||c===46)?(e.exit("listItemValue"),u(c)):n(c)}function u(c){return e.enter("listItemMarker"),e.consume(c),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||c,e.check(Mi,r.interrupt?n:d,e.attempt(hg,v,f))}function d(c){return r.containerState.initialBlankLine=!0,a++,v(c)}function f(c){return $e(c)?(e.enter("listItemPrefixWhitespace"),e.consume(c),e.exit("listItemPrefixWhitespace"),v):n(c)}function v(c){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(c)}}function mg(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Mi,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,De(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!$e(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(gg,t,l)(o))}function l(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,De(e,e.attempt(kt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function bg(e,t,n){const r=this;return De(e,i,"listItemIndent",r.containerState.size+1);function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(a):n(a)}}function _g(e){e.exit(this.containerState.type)}function yg(e,t,n){const r=this;return De(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const l=r.events[r.events.length-1];return!$e(a)&&l&&l[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const Ll={name:"setextUnderline",resolveTo:Ig,tokenize:wg};function Ig(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",l,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function wg(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),$e(u)?De(e,s,"lineSuffix")(u):s(u))}function s(u){return u===null||de(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Sg={tokenize:xg};function xg(e){const t=this,n=e.attempt(Mi,r,e.attempt(this.parser.constructs.flowInitial,i,De(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Zh,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Bg={resolveAll:Ys()},Gg=Ws("string"),kg=Ws("text");function Ws(e){return{resolveAll:Ys(e==="text"?Cg:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,l,o);return l;function l(d){return u(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),s}function s(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),s)}function u(d){if(d===null)return!0;const f=i[d];let v=-1;if(f)for(;++v<f.length;){const c=f[v];if(!c.previous||c.previous.call(r,r.previous))return!0}return!1}}}function Ys(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Cg(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,l=-1,o=0,s;for(;a--;){const u=i[a];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(u===-2)s=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||s||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Zg={42:kt,43:kt,45:kt,48:kt,49:kt,50:kt,51:kt,52:kt,53:kt,54:kt,55:kt,56:kt,57:kt,62:xs},Eg={91:Nh},Wg={[-2]:ca,[-1]:ca,32:ca},Yg={35:Vh,42:_i,45:[Ll,_i],60:Lh,61:Ll,95:_i,96:Al,126:Al},Rg={38:Gs,92:Bs},Ng={[-5]:fa,[-4]:fa,[-3]:fa,33:sg,38:Gs,42:Ra,60:[ch,Qh],91:cg,92:[Ph,Bs],93:Ka,95:Ra,96:Sh},$g={null:[Ra,Bg]},Fg={null:[42,95]},Xg={null:[]},Pg=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Fg,contentInitial:Eg,disable:Xg,document:Zg,flow:Yg,flowInitial:Wg,insideSpan:$g,string:Rg,text:Ng},Symbol.toStringTag,{value:"Module"}));function zg(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let l=[],o=[];const s={attempt:Z(S),check:Z(b),consume:C,enter:R,exit:z,interrupt:Z(b,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:e,previous:null,sliceSerialize:v,sliceStream:c,write:f};let d=t.tokenize.call(u,s);return t.resolveAll&&a.push(t),u;function f(H){return l=mt(l,H),I(),l[l.length-1]!==null?[]:(P(t,0),u.events=qa(a,u.events,u),u.events)}function v(H,A){return Hg(c(H),A)}function c(H){return Vg(l,H)}function g(){const{_bufferIndex:H,_index:A,line:L,column:K,offset:U}=r;return{_bufferIndex:H,_index:A,line:L,column:K,offset:U}}function y(H){i[H.line]=H.column,B()}function I(){let H;for(;r._index<l.length;){const A=l[r._index];if(typeof A=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<A.length;)_(A.charCodeAt(r._bufferIndex));else _(A)}}function _(H){d=d(H)}function C(H){de(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,B()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=H}function R(H,A){const L=A||{};return L.type=H,L.start=g(),u.events.push(["enter",L,u]),o.push(L),L}function z(H){const A=o.pop();return A.end=g(),u.events.push(["exit",A,u]),A}function S(H,A){P(H,A.from)}function b(H,A){A.restore()}function Z(H,A){return L;function L(K,U,ee){let ne,le,ve,w;return Array.isArray(K)?ue(K):"tokenize"in K?ue([K]):fe(K);function fe(he){return Ce;function Ce(xe){const Ne=xe!==null&&he[xe],Oe=xe!==null&&he.null,ke=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return ue(ke)(xe)}}function ue(he){return ne=he,le=0,he.length===0?ee:x(he[le])}function x(he){return Ce;function Ce(xe){return w=V(),ve=he,he.partial||(u.currentConstruct=he),he.name&&u.parser.constructs.disable.null.includes(he.name)?pe():he.tokenize.call(A?Object.assign(Object.create(u),A):u,s,te,pe)(xe)}}function te(he){return H(ve,w),U}function pe(he){return w.restore(),++le<ne.length?x(ne[le]):ee}}}function P(H,A){H.resolveAll&&!a.includes(H)&&a.push(H),H.resolve&&wn(u.events,A,u.events.length-A,H.resolve(u.events.slice(A),u)),H.resolveTo&&(u.events=H.resolveTo(u.events,u))}function V(){const H=g(),A=u.previous,L=u.currentConstruct,K=u.events.length,U=Array.from(o);return{from:K,restore:ee};function ee(){r=H,u.previous=A,u.currentConstruct=L,u.events.length=K,o=U,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Vg(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,a)];else{if(l=e.slice(n,i),r>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(r):l.shift()}a>0&&l.push(e[i].slice(0,a))}return l}function Hg(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(a)}i=a===-2,r.push(l)}return r.join("")}function Ag(e){const r={constructs:Av([Pg,...(e||{}).extensions||[]]),content:i(rh),defined:[],document:i(ah),flow:i(Sg),lazy:{},string:i(Gg),text:i(kg)};return r;function i(a){return l;function l(o){return zg(r,a,o)}}}function Tg(e){for(;!ks(e););return e}const jl=/[\0\t\n\r]/g;function Lg(){let e=1,t="",n=!0,r;return i;function i(a,l,o){const s=[];let u,d,f,v,c;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(jl.lastIndex=f,u=jl.exec(a),v=u&&u.index!==void 0?u.index:a.length,c=a.charCodeAt(v),!u){t=a.slice(f);break}if(c===10&&f===v&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),f<v&&(s.push(a.slice(f,v)),e+=v-f),c){case 0:{s.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,s.push(-2);e++<d;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:r=!0,e=1}f=v+1}return o&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}function jg(e,t,n){return typeof t!="string"&&(n=t,t=void 0),nh(n)(Tg(Ag(n).document().write(Lg()(e,t,!0))))}const da={none:"",left:' align="left"',right:' align="right"',center:' align="center"'};function Dg(){return{enter:{table(e){const t=e._align;this.lineEndingIfNeeded(),this.tag("<table>"),this.setData("tableAlign",t)},tableBody(){this.tag("<tbody>")},tableData(){const e=this.getData("tableAlign"),t=this.getData("tableColumn"),n=da[e[t]];n===void 0?this.buffer():(this.lineEndingIfNeeded(),this.tag("<td"+n+">"))},tableHead(){this.lineEndingIfNeeded(),this.tag("<thead>")},tableHeader(){const e=this.getData("tableAlign"),t=this.getData("tableColumn"),n=da[e[t]];this.lineEndingIfNeeded(),this.tag("<th"+n+">")},tableRow(){this.setData("tableColumn",0),this.lineEndingIfNeeded(),this.tag("<tr>")}},exit:{codeTextData(e){let t=this.sliceSerialize(e);this.getData("tableAlign")&&(t=t.replace(/\\([\\|])/g,Og)),this.raw(this.encode(t))},table(){this.setData("tableAlign"),this.setData("slurpAllLineEndings"),this.lineEndingIfNeeded(),this.tag("</table>")},tableBody(){this.lineEndingIfNeeded(),this.tag("</tbody>")},tableData(){const e=this.getData("tableAlign"),t=this.getData("tableColumn");t in e?(this.tag("</td>"),this.setData("tableColumn",t+1)):this.resume()},tableHead(){this.lineEndingIfNeeded(),this.tag("</thead>")},tableHeader(){const e=this.getData("tableColumn");this.tag("</th>"),this.setData("tableColumn",e+1)},tableRow(){const e=this.getData("tableAlign");let t=this.getData("tableColumn");for(;t<e.length;)this.lineEndingIfNeeded(),this.tag("<td"+da[e[t]]+"></td>"),t++;this.setData("tableColumn",t),this.lineEndingIfNeeded(),this.tag("</tr>")}}}}function Og(e,t){return t==="|"?t:e}function pi(e){return e!==null&&e<-2}function Dl(e){return e!==null&&(e<0||e===32)}function Mn(e){return e===-2||e===-1||e===32}function Xr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(s){return Mn(s)?(e.enter(n),o(s)):t(s)}function o(s){return Mn(s)&&a++<i?(e.consume(s),o):(e.exit(n),t(s))}}class Jg{constructor(){this.map=[]}add(t,n,r){Mg(this,t,n,r)}consume(t){if(this.map.sort(function(a,l){return a[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Mg(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Ug(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Qg(){return{flow:{null:{name:"table",tokenize:qg,resolveAll:Kg}}}}function qg(e,t,n){const r=this;let i=0,a=0,l;return o;function o(B){let H=r.events.length-1;for(;H>-1;){const K=r.events[H][1].type;if(K==="lineEnding"||K==="linePrefix")H--;else break}const A=H>-1?r.events[H][1].type:null,L=A==="tableHead"||A==="tableRow"?b:s;return L===b&&r.parser.lazy[r.now().line]?n(B):L(B)}function s(B){return e.enter("tableHead"),e.enter("tableRow"),u(B)}function u(B){return B===124||(l=!0,a+=1),d(B)}function d(B){return B===null?n(B):pi(B)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),c):n(B):Mn(B)?Xr(e,d,"whitespace")(B):(a+=1,l&&(l=!1,i+=1),B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),l=!0,d):(e.enter("data"),f(B)))}function f(B){return B===null||B===124||Dl(B)?(e.exit("data"),d(B)):(e.consume(B),B===92?v:f)}function v(B){return B===92||B===124?(e.consume(B),f):f(B)}function c(B){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(B):(e.enter("tableDelimiterRow"),l=!1,Mn(B)?Xr(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):g(B))}function g(B){return B===45||B===58?I(B):B===124?(l=!0,e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),y):S(B)}function y(B){return Mn(B)?Xr(e,I,"whitespace")(B):I(B)}function I(B){return B===58?(a+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),_):B===45?(a+=1,_(B)):B===null||pi(B)?z(B):S(B)}function _(B){return B===45?(e.enter("tableDelimiterFiller"),C(B)):S(B)}function C(B){return B===45?(e.consume(B),C):B===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(B))}function R(B){return Mn(B)?Xr(e,z,"whitespace")(B):z(B)}function z(B){return B===124?g(B):B===null||pi(B)?!l||i!==a?S(B):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(B)):S(B)}function S(B){return n(B)}function b(B){return e.enter("tableRow"),Z(B)}function Z(B){return B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),Z):B===null||pi(B)?(e.exit("tableRow"),t(B)):Mn(B)?Xr(e,Z,"whitespace")(B):(e.enter("data"),P(B))}function P(B){return B===null||B===124||Dl(B)?(e.exit("data"),Z(B)):(e.consume(B),B===92?V:P)}function V(B){return B===92||B===124?(e.consume(B),P):P(B)}}function Kg(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],l=[0,0,0,0],o=!1,s=0,u,d,f;const v=new Jg;for(;++n<e.length;){const c=e[n],g=c[1];c[0]==="enter"?g.type==="tableHead"?(o=!1,s!==0&&(Ol(v,t,s,u,d),d=void 0,s=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},v.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],l=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},v.add(n,0,[["enter",d,t]])),i=g.type==="tableDelimiterRow"?2:d?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(a[1]!==0&&(l[0]=l[1],f=mi(v,t,a,i,void 0,f),a=[0,0,0,0]),l[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(l[0]=l[1],f=mi(v,t,a,i,void 0,f)),a=l,l=[a[1],n,0,0])):g.type==="tableHead"?(o=!0,s=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(s=n,a[1]!==0?(l[0]=l[1],f=mi(v,t,a,i,n,f)):l[1]!==0&&(f=mi(v,t,l,i,n,f)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(l[3]=n)}for(s!==0&&Ol(v,t,s,u,d),v.consume(t.events),n=-1;++n<t.events.length;){const c=t.events[n];c[0]==="enter"&&c[1].type==="table"&&(c[1]._align=Ug(t.events,n))}return e}function mi(e,t,n,r,i,a){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},pr(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const s=pr(t.events,n[1]);if(a={type:l,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=pr(t.events,n[2]),d=pr(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const v=t.events[n[2]],c=t.events[n[3]];if(v[1].end=Object.assign({},c[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,y=n[3]-n[2]-1;e.add(g,y,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},pr(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Ol(e,t,n,r,i){const a=[],l=pr(t.events,n);i&&(i.end=Object.assign({},l),a.push(["exit",i,t])),r.end=Object.assign({},l),a.push(["exit",r,t]),e.add(n+1,0,a)}function pr(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}var ep=X('<div class="content svelte-z28whr"><!></div>');function el(e,t){we(t,!0);const n=Ye(()=>jg(t.code,{extensions:[Qg()],htmlExtensions:[Dg()]}));var r=ep(),i=F(r);{var a=l=>{var o=en(),s=O(o);Wc(s,()=>m(n)),E(l,o)};Re(i,l=>{m(n)&&l(a)})}N(r),E(e,r),Se()}var tp=X("<textarea></textarea>"),np=X("<div> </div>");function Jl(e,t){we(t,!0);const n=()=>Ae(rt,"$appSettings",r),[r,i]=Ke();let a=bt(t,"value",15),l=We(null);const o=()=>{m(l)&&(m(l).style.height="auto",m(l).style.minHeight=`${m(l).scrollHeight}px`)};yn(()=>{o(),t.autofocus&&m(l)?.focus({preventScroll:!0})});var s=en();cn("resize",Ln,o);var u=O(s);{var d=v=>{var c=tp();oc(c),c.__input=o;let g;lr(c,y=>ae(l,y),()=>m(l)),ce(()=>g=Bt(c,1,"textarea svelte-1ilrf3m",null,g,{nopadding:t.nopadding})),nr(c,a),E(v,c)},f=v=>{var c=np();let g;var y=F(c,!0);N(c),ce(()=>{g=Bt(c,1,"textarea svelte-1ilrf3m",null,g,{nopadding:t.nopadding}),Pe(y,a())}),E(v,c)};Re(u,v=>{n().edit?v(d):v(f,!1)})}E(e,s),Se(),i()}Ht(["input"]);var rp=X('<form method="dialog"><button type="submit">Close</button></form> <!>',1),ip=X('<div class="content svelte-1wy3hso"><button type="button" class="svelte-1wy3hso">â¶</button> <!></div> <dialog class="svelte-1wy3hso"><!></dialog>',1);function mr(e,t){we(t,!0);const n=()=>Ae(rt,"$appSettings",r),[r,i]=Ke();let a=bt(t,"code",15),l=Ye(()=>n().edit),o=We(null);function s(){m(o)&&m(o).showModal()}function u(g){if(m(o)){var y=m(o).getBoundingClientRect(),I=y.top<=g.clientY&&g.clientY<=y.top+y.height&&y.left<=g.clientX&&g.clientX<=y.left+y.width;I||m(o).close()}}var d=en(),f=O(d);{var v=g=>{var y=ip(),I=O(y),_=F(I);_.__click=s;var C=G(_,2);Jl(C,{autofocus:!0,get value(){return a()},set value(S){a(S)}}),N(I);var R=G(I,2);R.__click=u;var z=F(R);re(z,{column:!0,align:"end",children:(S,b)=>{var Z=rp(),P=G(O(Z),2);Jl(P,{autofocus:!0,get value(){return a()},set value(V){a(V)}}),E(S,Z)}}),N(R),lr(R,S=>ae(o,S),()=>m(o)),E(g,y)},c=g=>{el(g,{get code(){return a()}})};Re(f,g=>{m(l)?g(v):g(c,!1)})}E(e,d),Se(),i()}Ht(["click"]);function tl(e,t){we(t,!0);const n=Ye(()=>ns(t.modifier));_e();var r=Me();ce(()=>Pe(r,m(n))),E(e,r),Se()}var ap=X('<div class="container"><div><div class="inner svelte-37b3kl"><!></div></div></div>');function Rs(e,t){var n=ap(),r=F(n);let i;var a=F(r),l=F(a);_t(l,()=>t.children??Xe),N(a),N(r),N(n),ce(()=>i=Bt(r,1,"page svelte-37b3kl",null,i,{multiple:t.multiple})),E(e,n)}const lp="data:application/json;base64,W3siaWQiOiJBaXIgQnViYmxlfEFBRyIsIm5hbWUiOiJBaXIgQnViYmxlIiwic291cmNlIjoiQUFHIiwibGV2ZWwiOjIsInJhbmdlIjoiNjAgZmVldCIsImNsYXNzZXMiOlsiZHJ1aWQiLCJyYW5nZXIiLCJzb3JjZXJlciIsIndpemFyZCIsImFydGlmaWNlciIsImRydWlkIiwicmFuZ2VyIiwic29yY2VyZXIiLCJ3aXphcmQiXSwiZGVzY3JpcHRpb24iOiJZb3UgY3JlYXRlIGEgc3BlY3RyYWwgZ2xvYmUgYXJvdW5kIHRoZSBoZWFkIG9mIGEgd2lsbGluZyBjcmVhdHVyZSB5b3UgY2FuIHNlZSB3aXRoaW4gcmFuZ2UuIFRoZSBnbG9iZSBpcyBmaWxsZWQgd2l0aCBmcmVzaCBhaXIgdGhhdCBsYXN0cyB1bnRpbCB0aGUgc3BlbGwgZW5kcy4gSWYgdGhlIGNyZWF0dXJlIGhhcyBtb3JlIHRoYW4gb25lIGhlYWQsIHRoZSBnbG9iZSBvZiBhaXIgYXBwZWFycyBhcm91bmQgb25seSBvbmUgb2YgaXRzIGhlYWRzICh3aGljaCBpcyBhbGwgdGhlIGNyZWF0dXJlIG5lZWRzIHRvIGF2b2lkIHN1ZmZvY2F0aW9uLCBhc3N1bWluZyB0aGF0IGFsbCBpdHMgaGVhZHMgc2hhcmUgdGhlIHNhbWUgcmVzcGlyYXRvcnkgc3lzdGVtKS5cbiJ9LHsiaWQiOiJDcmVhdGUgU3BlbGxqYW1taW5nIEhlbG18QUFHIiwibmFtZSI6IkNyZWF0ZSBTcGVsbGphbW1pbmcgSGVsbSIsInNvdXJjZSI6IkFBRyIsImxldmVsIjo1LCJyYW5nZSI6InRvdWNoIiwiY2xhc3NlcyI6WyJ3aXphcmQiLCJhcnRpZmljZXIiLCJ3aXphcmQiXSwiZGVzY3JpcHRpb24iOiJIb2xkaW5nIHRoZSByb2QgdXNlZCBpbiB0aGUgY2FzdGluZyBvZiB0aGUgc3BlbGwsIHlvdSB0b3VjaCBhIExhcmdlIG9yIHNtYWxsZXIgY2hhaXIgdGhhdCBpcyB1bm9jY3VwaWVkLiBUaGUgcm9kIGRpc2FwcGVhcnMsIGFuZCB0aGUgY2hhaXIgaXMgdHJhbnNmb3JtZWQgaW50byBhIHNwZWxsamFtbWluZyBoZWxtLlxuIn1d",op=Object.freeze(Object.defineProperty({__proto__:null,default:lp},Symbol.toStringTag,{value:"Module"})),sp="/dnd-character-sheet/assets/spells-AI-BN1HqxS6.json",up=Object.freeze(Object.defineProperty({__proto__:null,default:sp},Symbol.toStringTag,{value:"Module"})),cp="data:application/json;base64,W3siaWQiOiJMaW5rZWQgR2x5cGhzfEFpdEZSLUFWVCIsIm5hbWUiOiJMaW5rZWQgR2x5cGhzIiwic291cmNlIjoiQWl0RlItQVZUIiwibGV2ZWwiOjMsInJhbmdlIjoidG91Y2giLCJjbGFzc2VzIjpbImJhcmQiLCJjbGVyaWMiLCJ3aXphcmQiLCJhcnRpZmljZXIiLCJiYXJkIiwiY2xlcmljIiwid2l6YXJkIl0sImRlc2NyaXB0aW9uIjoiV2hlbiB5b3UgY2FzdCB0aGlzIHNwZWxsLCB5b3UgaW5zY3JpYmUgYSBkZXRlY3Rpb24gZ2x5cGggdGhhdCBsYXRlciBhY3RpdmF0ZXMgYSBtYWdpY2FsIGVmZmVjdCBhdCB0aGUgc2l0ZSBvZiBhIHNlcGFyYXRlLCBsaW5rZWQgZ2x5cGguIFlvdSBpbnNjcmliZSB0aGUgZGV0ZWN0aW9uIGdseXBoIGVpdGhlciBvbiBhIHN1cmZhY2UgKHN1Y2ggYXMgYSB0YWJsZSBvciBhIHNlY3Rpb24gb2YgZmxvb3Igb3Igd2FsbCkgb3Igd2l0aGluIGFuIG9iamVjdCB0aGF0IGNhbiBiZSBjbG9zZWQgKHN1Y2ggYXMgYSBib29rLCBhIHNjcm9sbCwgb3IgYSB0cmVhc3VyZSBjaGVzdCkgdG8gY29uY2VhbCB0aGUgZ2x5cGguIFRoZSBnbHlwaCBjYW4gY292ZXIgYW4gYXJlYSBubyBsYXJnZXIgdGhhbiAxMCBmZWV0IGluIGRpYW1ldGVyLiBJZiB0aGUgc3VyZmFjZSBvciBvYmplY3QgaXMgbW92ZWQgbW9yZSB0aGFuIDEwIGZlZXQgZnJvbSB3aGVyZSB5b3UgY2FzdCB0aGlzIHNwZWxsLCB0aGUgZGV0ZWN0aW9uIGdseXBoIGlzIGJyb2tlbiwgYW5kIHRoZSBzcGVsbCBlbmRzIHdpdGhvdXQgYmVpbmcgdHJpZ2dlcmVkLlxuXG5Cb3RoIGdseXBocyBhcmUgbmVhcmx5IGludmlzaWJsZSwgYW5kIGZpbmRpbmcgZWl0aGVyIHJlcXVpcmVzIGEgc3VjY2Vzc2Z1bCBJbnRlbGxpZ2VuY2UgKEludmVzdGlnYXRpb24pIGNoZWNrIGFnYWluc3QgeW91ciBzcGVsbCBzYXZlIERDLlxuXG5Zb3UgZGVjaWRlIHdoYXQgdHJpZ2dlcnMgdGhlIGRldGVjdGlvbiBnbHlwaCB3aGVuIHlvdSBjYXN0IHRoaXMgc3BlbGwuIEZvciBnbHlwaHMgaW5zY3JpYmVkIG9uIGEgc3VyZmFjZSwgdGhlIG1vc3QgdHlwaWNhbCB0cmlnZ2VycyBpbmNsdWRlIHRvdWNoaW5nIG9yIHN0YW5kaW5nIG9uIHRoZSBnbHlwaCwgcmVtb3ZpbmcgYW5vdGhlciBvYmplY3QgY292ZXJpbmcgdGhlIGdseXBoLCBhcHByb2FjaGluZyB3aXRoaW4gYSBjZXJ0YWluIGRpc3RhbmNlIG9mIHRoZSBnbHlwaCwgb3IgbWFuaXB1bGF0aW5nIHRoZSBvYmplY3Qgb24gd2hpY2ggdGhlIGdseXBoIGlzIGluc2NyaWJlZC4gRm9yIGdseXBocyBpbnNjcmliZWQgd2l0aGluIGFuIG9iamVjdCwgdGhlIG1vc3QgY29tbW9uIHRyaWdnZXJzIGluY2x1ZGUgb3BlbmluZyB0aGF0IG9iamVjdCwgYXBwcm9hY2hpbmcgd2l0aGluIGEgY2VydGFpbiBkaXN0YW5jZSBvZiB0aGUgb2JqZWN0LCBvciBzZWVpbmcgb3IgcmVhZGluZyB0aGUgZ2x5cGguIE9uY2UgYSBnbHlwaCBpcyB0cmlnZ2VyZWQsIHRoaXMgc3BlbGwgZW5kcy5cblxuWW91IGNhbiBmdXJ0aGVyIHJlZmluZSB0aGUgdHJpZ2dlciBzbyB0aGUgc3BlbGwgYWN0aXZhdGVzIG9ubHkgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzIG9yIGFjY29yZGluZyB0byBwaHlzaWNhbCBjaGFyYWN0ZXJpc3RpY3MgKHN1Y2ggYXMgaGVpZ2h0IG9yIHdlaWdodCksIGNyZWF0dXJlIGtpbmQgKGZvciBleGFtcGxlLCB0aGUgd2FyZCBjb3VsZCBiZSBzZXQgdG8gYWZmZWN0IGFiZXJyYXRpb25zIG9yIGRyb3cpLCBvciBhbGlnbm1lbnQuIFlvdSBjYW4gYWxzbyBzZXQgY29uZGl0aW9ucyBmb3IgY3JlYXR1cmVzIHRoYXQgZG9uJ3QgdHJpZ2dlciB0aGUgZ2x5cGgsIHN1Y2ggYXMgdGhvc2Ugd2hvIHNheSBhIGNlcnRhaW4gcGFzc3dvcmQuXG5cbldoZW4geW91IGluc2NyaWJlIHRoZSBkZXRlY3Rpb24gZ2x5cGgsIGNob29zZSBhbiBhbGFybSBnbHlwaCBvciBzcGVsbCBnbHlwaCB0byBsaW5rIHRvIGl0LlxuXG5Zb3UgY3JlYXRlIGFuZCBtYWdpY2FsbHkgbGluayB0d28gZ2x5cGhzOiBhIGRldGVjdGlvbiBnbHlwaCBhbmQgYW4gZWZmZWN0IGdseXBoLiBFYWNoIG9mIHRoZXNlIHR3byBnbHlwaHMgbXVzdCBzdGF5IHdpdGhpbiAxMDAgbWlsZXMgb2YgdGhlIG90aGVyIG9yIHRoZSBzcGVsbCBlZmZlY3QgZW5kcy4gV2hlbiB0aGUgZGV0ZWN0aW9uIGdseXBoIGlzIHRyaWdnZXJlZCwgdGhlIGVmZmVjdCBnbHlwaCByZWFjdHMgbGlrZSBhbiBhbGFybSBzcGVsbCwgY3JlYXRpbmcgYSBtZW50YWwgcGluZyBpbiB5b3VyIG1pbmQgaWYgeW91IGFyZSB3aXRoaW4gMSBtaWxlIG9mIHRoZSBlZmZlY3QgZ2x5cGguIFRoaXMgcGluZyBhd2FrZW5zIHlvdSBpZiB5b3UgYXJlIHNsZWVwaW5nLlxuXG5Zb3UgY3JlYXRlIGFuZCBtYWdpY2FsbHkgbGluayB0d28gZ2x5cGhzOiBhIGRldGVjdGlvbiBnbHlwaCBhbmQgYW4gZWZmZWN0IGdseXBoLiBUaGVzZSB0d28gZ2x5cGhzIG11c3QgYmUgd2l0aGluIDEwMCBmZWV0IG9mIGVhY2ggb3RoZXIuIFlvdSBjYW4gc3RvcmUgYSBwcmVwYXJlZCBzcGVsbCBvZiA0dGggbGV2ZWwgb3IgbG93ZXIgaW4gdGhlIGVmZmVjdCBnbHlwaCBieSBjYXN0aW5nIGl0IGFzIHBhcnQgb2YgY3JlYXRpbmcgdGhlIGdseXBocy4gVGhlIHNwZWxsIG11c3QgdGFyZ2V0IGEgc2luZ2xlIGNyZWF0dXJlIG9yIGFuIGFyZWEuIFRoZSBzcGVsbCBiZWluZyBzdG9yZWQgaGFzIG5vIGltbWVkaWF0ZSBlZmZlY3Qgd2hlbiBjYXN0IGluIHRoaXMgd2F5LiBXaGVuIHRoZSBkZXRlY3Rpb24gZ2x5cGggaXMgdHJpZ2dlcmVkLCB0aGUgc3BlbGwgc3RvcmVkIGluIHRoZSBlZmZlY3QgZ2x5cGggaXMgY2FzdC4gSWYgdGhlIHNwZWxsIGhhcyBhIHRhcmdldCwgaXQgdGFyZ2V0cyB0aGUgY3JlYXR1cmUgdGhhdCB0cmlnZ2VyZWQgdGhlIGdseXBoLiBJZiB0aGUgc3BlbGwgYWZmZWN0cyBhbiBhcmVhLCB0aGUgYXJlYSBpcyBjZW50ZXJlZCBvbiB0aGUgZWZmZWN0IGdseXBoLiBJZiB0aGUgc3BlbGwgc3VtbW9ucyBob3N0aWxlIGNyZWF0dXJlcyBvciBjcmVhdGVzIGhhcm1mdWwgb2JqZWN0cyBvciB0cmFwcywgdGhleSBhcHBlYXIgYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gdGhlIGVmZmVjdCBnbHlwaC4gSWYgdGhlIHNwZWxsIHJlcXVpcmVzIGNvbmNlbnRyYXRpb24sIGl0IGxhc3RzIHVudGlsIHRoZSBlbmQgb2YgaXRzIGZ1bGwgZHVyYXRpb24uXG4ifV0=",fp=Object.freeze(Object.defineProperty({__proto__:null,default:cp},Symbol.toStringTag,{value:"Module"})),dp="data:application/json;base64,W3siaWQiOiJBbnRhZ29uaXplfEJNVCIsIm5hbWUiOiJBbnRhZ29uaXplIiwic291cmNlIjoiQk1UIiwibGV2ZWwiOjMsInJhbmdlIjoiMzAgZmVldCIsImNsYXNzZXMiOltdLCJkZXNjcmlwdGlvbiI6IllvdSB3aGlzcGVyIG1hZ2ljYWwgd29yZHMgdGhhdCBhbnRhZ29uaXplIG9uZSBjcmVhdHVyZSBvZiB5b3VyIGNob2ljZSB3aXRoaW4gcmFuZ2UuIFRoZSB0YXJnZXQgbXVzdCBtYWtlIGEgV2lzZG9tIHNhdmluZyB0aHJvdy4gT24gYSBmYWlsZWQgc2F2ZSwgdGhlIHRhcmdldCB0YWtlcyA0ZDQgcHN5Y2hpYyBkYW1hZ2UgYW5kIG11c3QgaW1tZWRpYXRlbHkgdXNlIGl0cyByZWFjdGlvbiB0byBtYWtlIGEgbWVsZWUgYXR0YWNrIGFnYWluc3QgYW5vdGhlciBjcmVhdHVyZSBvZiB5b3VyIGNob2ljZSB0aGF0IHlvdSBjYW4gc2VlLiBJZiB0aGUgdGFyZ2V0IGNhbid0IG1ha2UgdGhpcyBhdHRhY2sgKGZvciBleGFtcGxlLCBiZWNhdXNlIHRoZXJlIGlzIG5vIG9uZSB3aXRoaW4gaXRzIHJlYWNoIG9yIGJlY2F1c2UgaXRzIHJlYWN0aW9uIGlzIHVuYXZhaWxhYmxlKSwgdGhlIHRhcmdldCBpbnN0ZWFkIGhhcyBkaXNhZHZhbnRhZ2Ugb24gdGhlIG5leHQgYXR0YWNrIHJvbGwgaXQgbWFrZXMgYmVmb3JlIHRoZSBzdGFydCBvZiB5b3VyIG5leHQgdHVybi4gT24gYSBzdWNjZXNzZnVsIHNhdmUsIHRoZSB0YXJnZXQgdGFrZXMgaGFsZiBhcyBtdWNoIGRhbWFnZSBvbmx5LlxuIn0seyJpZCI6IlNwaXJpdCBvZiBEZWF0aHxCTVQiLCJuYW1lIjoiU3Bpcml0IG9mIERlYXRoIiwic291cmNlIjoiQk1UIiwibGV2ZWwiOjQsInJhbmdlIjoiNjAgZmVldCIsImNsYXNzZXMiOltdLCJkZXNjcmlwdGlvbiI6IllvdSBjYWxsIGZvcnRoIGEgc3Bpcml0IHRoYXQgZW1ib2RpZXMgZGVhdGguIFRoZSBzcGlyaXQgbWFuaWZlc3RzIGluIGFuIHVub2NjdXBpZWQgc3BhY2UgeW91IGNhbiBzZWUgd2l0aGluIHJhbmdlIGFuZCB1c2VzIHRoZSByZWFwZXIgc3Bpcml0IHN0YXQgYmxvY2suIFRoZSBzcGlyaXQgZGlzYXBwZWFycyB3aGVuIGl0IGlzIHJlZHVjZWQgdG8gMCBoaXQgcG9pbnRzIG9yIHdoZW4gdGhlIHNwZWxsIGVuZHMuXG5cblRoZSBzcGlyaXQgaXMgYW4gYWxseSB0byB5b3UgYW5kIHlvdXIgY29tcGFuaW9ucy4gSW4gY29tYmF0LCB0aGUgc3Bpcml0IHNoYXJlcyB5b3VyIGluaXRpYXRpdmUgY291bnQgYW5kIHRha2VzIGl0cyB0dXJuIGltbWVkaWF0ZWx5IGFmdGVyIHlvdXJzLiBJdCBvYmV5cyB5b3VyIHZlcmJhbCBjb21tYW5kcyAobm8gYWN0aW9uIHJlcXVpcmVkIGJ5IHlvdSkuIElmIHlvdSBkb24ndCBpc3N1ZSB0aGUgc3Bpcml0IGFueSBjb21tYW5kcywgaXQgdGFrZXMgdGhlIERvZGdlIGFjdGlvbiBhbmQgdXNlcyBpdHMgbW92ZW1lbnQgdG8gYXZvaWQgZGFuZ2VyLlxuIn0seyJpZCI6IlNwcmF5IG9mIENhcmRzfEJNVCIsIm5hbWUiOiJTcHJheSBvZiBDYXJkcyIsInNvdXJjZSI6IkJNVCIsImxldmVsIjoyLCJyYW5nZSI6IjE1IGZlZXQiLCJjbGFzc2VzIjpbXSwiZGVzY3JpcHRpb24iOiJZb3Ugc3ByYXkgYSAxNS1mb290IGNvbmUgb2Ygc3BlY3RyYWwgY2FyZHMuIEVhY2ggY3JlYXR1cmUgaW4gdGhhdCBhcmVhIG11c3QgbWFrZSBhIERleHRlcml0eSBzYXZpbmcgdGhyb3cuIE9uIGEgZmFpbGVkIHNhdmUsIGEgY3JlYXR1cmUgdGFrZXMgMmQxMCBmb3JjZSBkYW1hZ2UgYW5kIGhhcyB0aGUgYmxpbmRlZCBjb25kaXRpb24gdW50aWwgdGhlIGVuZCBvZiBpdHMgbmV4dCB0dXJuLiBPbiBhIHN1Y2Nlc3NmdWwgc2F2ZSwgYSBjcmVhdHVyZSB0YWtlcyBoYWxmIGFzIG11Y2ggZGFtYWdlIG9ubHkuXG4ifV0=",vp=Object.freeze(Object.defineProperty({__proto__:null,default:dp},Symbol.toStringTag,{value:"Module"})),hp="data:application/json;base64,W3siaWQiOiJIb211bmN1bHVzIFNlcnZhbnR8RUZBIiwibmFtZSI6IkhvbXVuY3VsdXMgU2VydmFudCIsInNvdXJjZSI6IkVGQSIsImxldmVsIjoyLCJyYW5nZSI6IjEwIGZlZXQiLCJjbGFzc2VzIjpbImFydGlmaWNlciJdLCJkZXNjcmlwdGlvbiI6IllvdSBzdW1tb24gYSBzcGVjaWFsIGhvbXVuY3VsdXMgaW4gYW4gdW5vY2N1cGllZCBzcGFjZSB3aXRoaW4gcmFuZ2UuIFRoaXMgY3JlYXR1cmUgdXNlcyB0aGUgSG9tdW5jdWx1cyBTZXJ2YW50IHN0YXQgYmxvY2suIElmIHlvdSBhbHJlYWR5IGhhdmUgYSBob211bmN1bHVzIGZyb20gdGhpcyBzcGVsbCwgdGhlIGhvbXVuY3VsdXMgaXMgcmVwbGFjZWQgYnkgdGhlIG5ldyBvbmUuIFlvdSBkZXRlcm1pbmUgdGhlIGhvbXVuY3VsdXMncyBhcHBlYXJhbmNlLCBzdWNoIGFzIGEgbWVjaGFuaWNhbC1sb29raW5nIGJpcmQsIHdpbmdlZCB2aWFsLCBvciBtaW5pYXR1cmUgYW5pbWF0ZSBjYXVsZHJvbi5cblxuVGhlIGhvbXVuY3VsdXMgaXMgYW4gYWxseSB0byB5b3UgYW5kIHlvdXIgYWxsaWVzLiBJbiBjb21iYXQsIGl0IHNoYXJlcyB5b3VyIEluaXRpYXRpdmUgY291bnQsIGJ1dCBpdCB0YWtlcyBpdHMgdHVybiBpbW1lZGlhdGVseSBhZnRlciB5b3Vycy4gSXQgb2JleXMgeW91ciBjb21tYW5kcyAobm8gYWN0aW9uIHJlcXVpcmVkIGJ5IHlvdSkuIElmIHlvdSBkb24ndCBpc3N1ZSBhbnksIGl0IHRha2VzIHRoZSBEb2RnZSBhY3Rpb24gYW5kIHVzZXMgaXRzIG1vdmVtZW50IHRvIGF2b2lkIGRhbmdlci5cbiJ9XQ==",gp=Object.freeze(Object.defineProperty({__proto__:null,default:hp},Symbol.toStringTag,{value:"Module"})),pp="/dnd-character-sheet/assets/spells-EGW-D55XA5GB.json",mp=Object.freeze(Object.defineProperty({__proto__:null,default:pp},Symbol.toStringTag,{value:"Module"})),bp="/dnd-character-sheet/assets/spells-FRHoF-BdwDDXlm.json",_p=Object.freeze(Object.defineProperty({__proto__:null,default:bp},Symbol.toStringTag,{value:"Module"})),yp="/dnd-character-sheet/assets/spells-FTD-Cbk6kyEu.json",Ip=Object.freeze(Object.defineProperty({__proto__:null,default:yp},Symbol.toStringTag,{value:"Module"})),wp="data:application/json;base64,W3siaWQiOiJFbmNvZGUgVGhvdWdodHN8R0dSIiwibmFtZSI6IkVuY29kZSBUaG91Z2h0cyIsInNvdXJjZSI6IkdHUiIsImxldmVsIjowLCJyYW5nZSI6InNlbGYiLCJjbGFzc2VzIjpbXSwiZGVzY3JpcHRpb24iOiJQdXR0aW5nIGEgZmluZ2VyIHRvIHlvdXIgaGVhZCwgeW91IHB1bGwgYSBtZW1vcnksIGFuIGlkZWEsIG9yIGEgbWVzc2FnZSBmcm9tIHlvdXIgbWluZCBhbmQgdHJhbnNmb3JtIGl0IGludG8gYSB0YW5naWJsZSBzdHJpbmcgb2YgZ2xvd2luZyBlbmVyZ3kgY2FsbGVkIGEgdGhvdWdodCBzdHJhbmQsIHdoaWNoIHBlcnNpc3RzIGZvciB0aGUgZHVyYXRpb24gb3IgdW50aWwgeW91IGNhc3QgdGhpcyBzcGVsbCBhZ2Fpbi4gVGhlIHRob3VnaHQgc3RyYW5kIGFwcGVhcnMgaW4gYW4gdW5vY2N1cGllZCBzcGFjZSB3aXRoaW4gNSBmZWV0IG9mIHlvdSBhcyBhIFRpbnksIHdlaWdodGxlc3MsIHNlbWlzb2xpZCBvYmplY3QgdGhhdCBjYW4gYmUgaGVsZCBhbmQgY2FycmllZCBsaWtlIGEgcmliYm9uLiBJdCBpcyBvdGhlcndpc2Ugc3RhdGlvbmFyeS5cblxuSWYgeW91IGNhc3QgdGhpcyBzcGVsbCB3aGlsZSBjb25jZW50cmF0aW9uIG9uIGEgc3BlbGwgb3IgYW4gYWJpbGl0eSB0aGF0IGFsbG93cyB5b3UgdG8gcmVhZCBvciBtYW5pcHVsYXRlIHRoZSB0aG91Z2h0cyBvZiBvdGhlcnMgKHN1Y2ggYXMgZGV0ZWN0IHRob3VnaHRzIG9yIG1vZGlmeSBtZW1vcnkpLCB5b3UgY2FuIHRyYW5zZm9ybSB0aGUgdGhvdWdodHMgb3IgbWVtb3JpZXMgeW91IHJlYWQsIHJhdGhlciB0aGFuIHlvdXIgb3duLCBpbnRvIGEgdGhvdWdodCBzdHJhbmQuXG5cbkNhc3RpbmcgdGhpcyBzcGVsbCB3aGlsZSBob2xkaW5nIGEgdGhvdWdodCBzdHJhbmQgYWxsb3dzIHlvdSB0byBpbnN0YW50bHkgcmVjZWl2ZSB3aGF0ZXZlciBtZW1vcnksIGlkZWEsIG9yIG1lc3NhZ2UgdGhlIHRob3VnaHQgc3RyYW5kIGNvbnRhaW5zLiAoQ2FzdGluZyBkZXRlY3QgdGhvdWdodHMgb24gdGhlIHN0cmFuZCBoYXMgdGhlIHNhbWUgZWZmZWN0LilcbiJ9XQ==",Sp=Object.freeze(Object.defineProperty({__proto__:null,default:wp},Symbol.toStringTag,{value:"Module"})),xp="data:application/json;base64,W3siaWQiOiJDcmVhdGUgTWFnZW58SURSb3RGIiwibmFtZSI6IkNyZWF0ZSBNYWdlbiIsInNvdXJjZSI6IklEUm90RiIsImxldmVsIjo3LCJyYW5nZSI6InRvdWNoIiwiY2xhc3NlcyI6WyJ3aXphcmQiLCJ3aXphcmQiXSwiZGVzY3JpcHRpb24iOiJXaGlsZSBjYXN0aW5nIHRoZSBzcGVsbCwgeW91IHBsYWNlIGEgdmlhbCBvZiBxdWlja3NpbHZlciBpbiB0aGUgY2hlc3Qgb2YgYSBsaWZlLXNpemVkIGh1bWFuIGRvbGwgc3R1ZmZlZCB3aXRoIGFzaCBvciBkdXN0LiBZb3UgdGhlbiBzdGl0Y2ggdXAgdGhlIGRvbGwgYW5kIGRyaXAgeW91ciBibG9vZCBvbiBpdC4gQXQgdGhlIGVuZCBvZiB0aGUgY2FzdGluZywgeW91IHRhcCB0aGUgZG9sbCB3aXRoIGEgY3J5c3RhbCByb2QsIHRyYW5zZm9ybWluZyBpdCBpbnRvIGEgbWFnZW4gY2xvdGhlZCBpbiB3aGF0ZXZlciB0aGUgZG9sbCB3YXMgd2VhcmluZy4gVGhlIHR5cGUgb2YgbWFnZW4gaXMgY2hvc2VuIGJ5IHlvdSBkdXJpbmcgdGhlIGNhc3Rpbmcgb2YgdGhlIHNwZWxsLiBTZWUgYXBwZW5kaXggQyBmb3IgZGlmZmVyZW50IGtpbmRzIG9mIG1hZ2VuIGFuZCB0aGVpciBzdGF0aXN0aWNzLlxuXG5XaGVuIHRoZSBtYWdlbiBhcHBlYXJzLCB5b3VyIGhpdCBwb2ludCBtYXhpbXVtIGRlY3JlYXNlcyBieSBhbiBhbW91bnQgZXF1YWwgdG8gdGhlIG1hZ2VuJ3MgY2hhbGxlbmdlIHJhdGluZyAobWluaW11bSByZWR1Y3Rpb24gb2YgMSkuIE9ubHkgYSB3aXNoIHNwZWxsIGNhbiB1bmRvIHRoaXMgcmVkdWN0aW9uIHRvIHlvdXIgaGl0IHBvaW50IG1heGltdW0uXG5cbkFueSBtYWdlbiB5b3UgY3JlYXRlIHdpdGggdGhpcyBzcGVsbCBvYmV5cyB5b3VyIGNvbW1hbmRzIHdpdGhvdXQgcXVlc3Rpb24uXG4ifSx7ImlkIjoiRnJvc3QgRmluZ2Vyc3xJRFJvdEYiLCJuYW1lIjoiRnJvc3QgRmluZ2VycyIsInNvdXJjZSI6IklEUm90RiIsImxldmVsIjoxLCJyYW5nZSI6IjE1IGZlZXQiLCJjbGFzc2VzIjpbIndpemFyZCIsIndpemFyZCJdLCJkZXNjcmlwdGlvbiI6IkZyZWV6aW5nIGNvbGQgYmxhc3RzIGZyb20geW91ciBmaW5nZXJ0aXBzIGluIGEgMTUtZm9vdCBjb25lLiBFYWNoIGNyZWF0dXJlIGluIHRoYXQgYXJlYSBtdXN0IG1ha2UgYSBDb25zdGl0dXRpb24gc2F2aW5nIHRocm93LCB0YWtpbmcgMmQ4IGNvbGQgZGFtYWdlIG9uIGEgZmFpbGVkIHNhdmUsIG9yIGhhbGYgYXMgbXVjaCBkYW1hZ2Ugb24gYSBzdWNjZXNzZnVsIG9uZS5cblxuVGhlIGNvbGQgZnJlZXplcyBub25tYWdpY2FsIGxpcXVpZHMgaW4gdGhlIGFyZWEgdGhhdCBhcmVuJ3QgYmVpbmcgd29ybiBvciBjYXJyaWVkLlxuIn1d",Bp=Object.freeze(Object.defineProperty({__proto__:null,default:xp},Symbol.toStringTag,{value:"Module"})),Gp="/dnd-character-sheet/assets/spells-LLK-DpSYJp66.json",kp=Object.freeze(Object.defineProperty({__proto__:null,default:Gp},Symbol.toStringTag,{value:"Module"})),Cp="/dnd-character-sheet/assets/spells-PHB-45f72GJX.json",Zp=Object.freeze(Object.defineProperty({__proto__:null,default:Cp},Symbol.toStringTag,{value:"Module"})),Ep="data:application/json;base64,W3siaWQiOiJCb3Jyb3dlZCBLbm93bGVkZ2V8U0NDIiwibmFtZSI6IkJvcnJvd2VkIEtub3dsZWRnZSIsInNvdXJjZSI6IlNDQyIsImxldmVsIjoyLCJyYW5nZSI6InNlbGYiLCJjbGFzc2VzIjpbImJhcmQiLCJjbGVyaWMiLCJ3YXJsb2NrIiwid2l6YXJkIiwiYmFyZCIsImNsZXJpYyIsIndhcmxvY2siLCJ3aXphcmQiXSwiZGVzY3JpcHRpb24iOiJZb3UgZHJhdyBvbiBrbm93bGVkZ2UgZnJvbSBzcGlyaXRzIG9mIHRoZSBwYXN0LiBDaG9vc2Ugb25lIHNraWxsIGluIHdoaWNoIHlvdSBsYWNrIHByb2ZpY2llbmN5LiBGb3IgdGhlIHNwZWxsJ3MgZHVyYXRpb24sIHlvdSBoYXZlIHByb2ZpY2llbmN5IGluIHRoZSBjaG9zZW4gc2tpbGwuIFRoZSBzcGVsbCBlbmRzIGVhcmx5IGlmIHlvdSBjYXN0IGl0IGFnYWluLlxuIn0seyJpZCI6IktpbmV0aWMgSmF1bnR8U0NDIiwibmFtZSI6IktpbmV0aWMgSmF1bnQiLCJzb3VyY2UiOiJTQ0MiLCJsZXZlbCI6MiwicmFuZ2UiOiJzZWxmIiwiY2xhc3NlcyI6WyJiYXJkIiwic29yY2VyZXIiLCJ3aXphcmQiLCJhcnRpZmljZXIiLCJiYXJkIiwic29yY2VyZXIiLCJ3aXphcmQiXSwiZGVzY3JpcHRpb24iOiJZb3UgbWFnaWNhbGx5IGVtcG93ZXIgeW91ciBtb3ZlbWVudCB3aXRoIGRhbmNlLWxpa2Ugc3RlcHMsIGdpdmluZyB5b3Vyc2VsZiB0aGUgZm9sbG93aW5nIGJlbmVmaXRzIGZvciB0aGUgZHVyYXRpb24uXG5cbi0gWW91ciB3YWxraW5nIHNwZWVkIGluY3JlYXNlcyBieSAxMCBmZWV0LlxuXG4tIFlvdSBkb24ndCBwcm92b2tlIG9wcG9ydHVuaXR5IGF0dGFja3MuXG5cbi0gWW91IGNhbiBtb3ZlIHRocm91Z2ggdGhlIHNwYWNlIG9mIGFub3RoZXIgY3JlYXR1cmUsIGFuZCBpdCBkb2Vzbid0IGNvdW50IGFzIGRpZmZpY3VsdCB0ZXJyYWluLiBJZiB5b3UgZW5kIHlvdXIgdHVybiBpbiBhbm90aGVyIGNyZWF0dXJlJ3Mgc3BhY2UsIHlvdSBhcmUgc2h1bnRlZCB0byB0aGUgbGFzdCB1bm9jY3VwaWVkIHNwYWNlIHlvdSBvY2N1cGllZCwgYW5kIHlvdSB0YWtlIDFkOCBmb3JjZSBkYW1hZ2UuXG4ifSx7ImlkIjoiU2lsdmVyeSBCYXJic3xTQ0MiLCJuYW1lIjoiU2lsdmVyeSBCYXJicyIsInNvdXJjZSI6IlNDQyIsImxldmVsIjoxLCJyYW5nZSI6IjYwIGZlZXQiLCJjbGFzc2VzIjpbImJhcmQiLCJzb3JjZXJlciIsIndpemFyZCIsImJhcmQiLCJzb3JjZXJlciIsIndpemFyZCJdLCJkZXNjcmlwdGlvbiI6IllvdSBtYWdpY2FsbHkgZGlzdHJhY3QgdGhlIHRyaWdnZXJpbmcgY3JlYXR1cmUgYW5kIHR1cm4gaXRzIG1vbWVudGFyeSB1bmNlcnRhaW50eSBpbnRvIGVuY291cmFnZW1lbnQgZm9yIGFub3RoZXIgY3JlYXR1cmUuIFRoZSB0cmlnZ2VyaW5nIGNyZWF0dXJlIG11c3QgcmVyb2xsIHRoZSBkMjAgYW5kIHVzZSB0aGUgbG93ZXIgcm9sbC5cblxuWW91IGNhbiB0aGVuIGNob29zZSBhIGRpZmZlcmVudCBjcmVhdHVyZSB5b3UgY2FuIHNlZSB3aXRoaW4gcmFuZ2UgKHlvdSBjYW4gY2hvb3NlIHlvdXJzZWxmKS4gVGhlIGNob3NlbiBjcmVhdHVyZSBoYXMgYWR2YW50YWdlIG9uIHRoZSBuZXh0IGF0dGFjayByb2xsLCBhYmlsaXR5IGNoZWNrLCBvciBzYXZpbmcgdGhyb3cgaXQgbWFrZXMgd2l0aGluIDEgbWludXRlLiBBIGNyZWF0dXJlIGNhbiBiZSBlbXBvd2VyZWQgYnkgb25seSBvbmUgdXNlIG9mIHRoaXMgc3BlbGwgYXQgYSB0aW1lLlxuIn0seyJpZCI6IlZvcnRleCBXYXJwfFNDQyIsIm5hbWUiOiJWb3J0ZXggV2FycCIsInNvdXJjZSI6IlNDQyIsImxldmVsIjoyLCJyYW5nZSI6IjkwIGZlZXQiLCJjbGFzc2VzIjpbInNvcmNlcmVyIiwid2l6YXJkIiwiYXJ0aWZpY2VyIiwic29yY2VyZXIiLCJ3aXphcmQiXSwiZGVzY3JpcHRpb24iOiJZb3UgbWFnaWNhbGx5IHR3aXN0IHNwYWNlIGFyb3VuZCBhbm90aGVyIGNyZWF0dXJlIHlvdSBjYW4gc2VlIHdpdGhpbiByYW5nZS4gVGhlIHRhcmdldCBtdXN0IHN1Y2NlZWQgb24gYSBDb25zdGl0dXRpb24gc2F2aW5nIHRocm93ICh0aGUgdGFyZ2V0IGNhbiBjaG9vc2UgdG8gZmFpbCksIG9yIHRoZSB0YXJnZXQgaXMgdGVsZXBvcnRlZCB0byBhbiB1bm9jY3VwaWVkIHNwYWNlIG9mIHlvdXIgY2hvaWNlIHRoYXQgeW91IGNhbiBzZWUgd2l0aGluIHJhbmdlLiBUaGUgY2hvc2VuIHNwYWNlIG11c3QgYmUgb24gYSBzdXJmYWNlIG9yIGluIGEgbGlxdWlkIHRoYXQgY2FuIHN1cHBvcnQgdGhlIHRhcmdldCB3aXRob3V0IHRoZSB0YXJnZXQgaGF2aW5nIHRvIHNxdWVlemUuXG4ifSx7ImlkIjoiV2l0aGVyIGFuZCBCbG9vbXxTQ0MiLCJuYW1lIjoiV2l0aGVyIGFuZCBCbG9vbSIsInNvdXJjZSI6IlNDQyIsImxldmVsIjoyLCJyYW5nZSI6IjYwIGZlZXQiLCJjbGFzc2VzIjpbImRydWlkIiwic29yY2VyZXIiLCJ3aXphcmQiLCJkcnVpZCIsInNvcmNlcmVyIiwid2l6YXJkIl0sImRlc2NyaXB0aW9uIjoiWW91IGludm9rZSBib3RoIGRlYXRoIGFuZCBsaWZlIHVwb24gYSAxMC1mb290LXJhZGl1cyBzcGhlcmUgY2VudGVyZWQgb24gYSBwb2ludCB3aXRoaW4gcmFuZ2UuIEVhY2ggY3JlYXR1cmUgb2YgeW91ciBjaG9pY2UgaW4gdGhhdCBhcmVhIG11c3QgbWFrZSBhIENvbnN0aXR1dGlvbiBzYXZpbmcgdGhyb3csIHRha2luZyAyZDYgbmVjcm90aWMgZGFtYWdlIG9uIGEgZmFpbGVkIHNhdmUsIG9yIGhhbGYgYXMgbXVjaCBkYW1hZ2Ugb24gYSBzdWNjZXNzZnVsIG9uZS4gTm9ubWFnaWNhbCB2ZWdldGF0aW9uIGluIHRoYXQgYXJlYSB3aXRoZXJzLlxuXG5JbiBhZGRpdGlvbiwgb25lIGNyZWF0dXJlIG9mIHlvdXIgY2hvaWNlIGluIHRoYXQgYXJlYSBjYW4gc3BlbmQgYW5kIHJvbGwgb25lIG9mIGl0cyB1bnNwZW50IEhpdCBEaWNlIGFuZCByZWdhaW4gYSBudW1iZXIgb2YgaGl0IHBvaW50cyBlcXVhbCB0byB0aGUgcm9sbCBwbHVzIHlvdXIgc3BlbGxjYXN0aW5nIGFiaWxpdHkgbW9kaWZpZXIuXG4ifV0=",Wp=Object.freeze(Object.defineProperty({__proto__:null,default:Ep},Symbol.toStringTag,{value:"Module"})),Yp="data:application/json;base64,W3siaWQiOiJHYXRlIFNlYWx8U2F0TyIsIm5hbWUiOiJHYXRlIFNlYWwiLCJzb3VyY2UiOiJTYXRPIiwibGV2ZWwiOjQsInJhbmdlIjoiNjAgZmVldCIsImNsYXNzZXMiOlsic29yY2VyZXIiLCJ3YXJsb2NrIiwid2l6YXJkIiwic29yY2VyZXIiLCJ3YXJsb2NrIiwid2l6YXJkIl0sImRlc2NyaXB0aW9uIjoiWW91IGZvcnRpZnkgdGhlIGZhYnJpYyBvZiB0aGUgcGxhbmVzIGluIGEgMzAtZm9vdCBjdWJlIHlvdSBjYW4gc2VlIHdpdGhpbiByYW5nZS4gV2l0aGluIHRoYXQgYXJlYSwgcG9ydGFscyBjbG9zZSBhbmQgY2FuJ3QgYmUgb3BlbmVkIGZvciB0aGUgZHVyYXRpb24uIFNwZWxscyBhbmQgb3RoZXIgZWZmZWN0cyB0aGF0IGFsbG93IHBsYW5hciB0cmF2ZWwgb3Igb3BlbiBwb3J0YWxzLCBzdWNoIGFzIGdhdGUgb3IgcGxhbmUgc2hpZnQsIGZhaWwgaWYgdXNlZCB0byBlbnRlciBvciBsZWF2ZSB0aGUgYXJlYS4gVGhlIGN1YmUgaXMgc3RhdGlvbmFyeS5cbiJ9LHsiaWQiOiJXYXJwIFNlbnNlfFNhdE8iLCJuYW1lIjoiV2FycCBTZW5zZSIsInNvdXJjZSI6IlNhdE8iLCJsZXZlbCI6MiwicmFuZ2UiOiJzZWxmIiwiY2xhc3NlcyI6WyJzb3JjZXJlciIsIndhcmxvY2siLCJ3aXphcmQiLCJzb3JjZXJlciIsIndhcmxvY2siLCJ3aXphcmQiXSwiZGVzY3JpcHRpb24iOiJGb3IgdGhlIGR1cmF0aW9uLCB5b3Ugc2Vuc2UgdGhlIHByZXNlbmNlIG9mIHBvcnRhbHMsIGV2ZW4gaW5hY3RpdmUgb25lcywgd2l0aGluIDMwIGZlZXQgb2YgeW91cnNlbGYuXG5cbklmIHlvdSBkZXRlY3QgYSBwb3J0YWwgaW4gdGhpcyB3YXksIHlvdSBjYW4gdXNlIHlvdXIgYWN0aW9uIHRvIHN0dWR5IGl0LiBNYWtlIGEgMTUgYWJpbGl0eSBjaGVjayB1c2luZyB5b3VyIHNwZWxsY2FzdGluZyBhYmlsaXR5LiBPbiBhIHN1Y2Nlc3NmdWwgY2hlY2ssIHlvdSBsZWFybiB0aGUgZGVzdGluYXRpb24gcGxhbmUgb2YgdGhlIHBvcnRhbCBhbmQgd2hhdCBwb3J0YWwga2V5IGl0IHJlcXVpcmVzLCB0aGVuIHRoZSBzcGVsbCBlbmRzLiBPbiBhIGZhaWxlZCBjaGVjaywgeW91IGxlYXJuIG5vdGhpbmcgYW5kIGNhbid0IHN0dWR5IHRoYXQgcG9ydGFsIGFnYWluIHVzaW5nIHRoaXMgc3BlbGwgdW50aWwgeW91IGNhc3QgaXQgYWdhaW4uXG5cblRoZSBzcGVsbCBjYW4gcGVuZXRyYXRlIG1vc3QgYmFycmllcnMgYnV0IGlzIGJsb2NrZWQgYnkgMSBmb290IG9mIHN0b25lLCAxIGluY2ggb2YgY29tbW9uIG1ldGFsLCBhIHRoaW4gc2hlZXQgb2YgbGVhZCwgb3IgMyBmZWV0IG9mIHdvb2Qgb3IgZGlydC5cbiJ9XQ==",Rp=Object.freeze(Object.defineProperty({__proto__:null,default:Yp},Symbol.toStringTag,{value:"Module"})),Np="/dnd-character-sheet/assets/spells-TCE-Cgc1OJca.json",$p=Object.freeze(Object.defineProperty({__proto__:null,default:Np},Symbol.toStringTag,{value:"Module"})),Fp="/dnd-character-sheet/assets/spells-XGE-6Mi3OeZt.json",Xp=Object.freeze(Object.defineProperty({__proto__:null,default:Fp},Symbol.toStringTag,{value:"Module"})),Pp="/dnd-character-sheet/assets/spells-XPHB-DhGcxa_p.json",zp=Object.freeze(Object.defineProperty({__proto__:null,default:Pp},Symbol.toStringTag,{value:"Module"})),Vp=Object.fromEntries(Object.entries(Object.assign({"./data/spells-AAG.json":op,"./data/spells-AI.json":up,"./data/spells-AitFR-AVT.json":fp,"./data/spells-BMT.json":vp,"./data/spells-EFA.json":gp,"./data/spells-EGW.json":mp,"./data/spells-FRHoF.json":_p,"./data/spells-FTD.json":Ip,"./data/spells-GGR.json":Sp,"./data/spells-IDRotF.json":Bp,"./data/spells-LLK.json":kp,"./data/spells-PHB.json":Zp,"./data/spells-SCC.json":Wp,"./data/spells-SatO.json":Rp,"./data/spells-TCE.json":$p,"./data/spells-XGE.json":Xp,"./data/spells-XPHB.json":zp})).map(([e,t])=>[e.split("/").pop().replace("spells-","").replace(".json",""),t.default]));async function Hp(e){return await(await fetch(e)).json()}function Ap(e,t){const n=e.level-t.level;return n!==0?n:e.name.localeCompare(t.name)}async function Tp(e){return(await Promise.all(e.flatMap(r=>{const i=Vp[r];return i?Hp(i):[]}))).flat().sort(Ap)}const Lp=Oa([],e=>{Tp(["XPHB"]).then(e)});var jp=X('<p style="flex-shrink: 0;">Search by name</p> <input type="text"/>',1),Dp=X("<!> <!>",1),Op=X("<label><!></label> <!> <!>",1),Jp=X("<p> </p> <p> </p> <p> </p> <!>",1),Mp=X("<!> <!>",1),Up=X('<div class="filter-bar svelte-yiy6dj"><!></div> <div class="padding svelte-yiy6dj"></div>',1);function Ns(e,t){we(t,!0);const n=()=>Ae(Lp,"$spellCollection",r),[r,i]=Ke(),a="All",l="All",o=Ye(()=>ff([a].concat(n().flatMap(y=>y.classes).sort()))),s=Ye(()=>n().map(y=>y.level).pop()??0),u=Ye(()=>[l].concat(Array.from({length:m(s)+1},(y,I)=>I)));let d=We(a),f=We(l),v=We("");const c=Ye(()=>m(v).trim().toLocaleLowerCase()),g=Ye(()=>n().filter(y=>!(m(c)&&!y.name.toLowerCase().includes(m(c))||m(d)!==a&&!y.classes.includes(m(d))||m(f)!==l&&y.level!==m(f))));re(e,{column:!0,justify:"start",children:(y,I)=>{var _=Up(),C=O(_),R=F(C);re(R,{column:!0,children:(S,b)=>{var Z=Op(),P=O(Z),V=F(P);re(V,{children:(A,L)=>{var K=jp(),U=G(O(K),2);tr(U),nr(U,()=>m(v),ee=>ae(v,ee)),E(A,K)},$$slots:{default:!0}}),N(P);var B=G(P,2);re(B,{justify:"start",children:(A,L)=>{var K=Dp(),U=O(K);Ca(U,{label:"Classbook",get options(){return m(o)},get value(){return m(d)},set value(ne){ae(d,ne,!0)}});var ee=G(U,2);Ca(ee,{label:"Spell level",get options(){return m(u)},get value(){return m(f)},set value(ne){ae(f,ne,!0)}}),E(A,K)},$$slots:{default:!0}});var H=G(B,2);ye(H,{}),E(S,Z)},$$slots:{default:!0}}),N(C);var z=G(C,2);zt(z,21,()=>m(g),S=>S.id,(S,b)=>{Ft(S,{get title(){return m(b).name},children:(Z,P)=>{re(Z,{column:!0,children:(V,B)=>{var H=Mp(),A=O(H);re(A,{padding:!0,column:!0,children:(U,ee)=>{var ne=Jp(),le=O(ne),ve=F(le);N(le);var w=G(le,2),fe=F(w);N(w);var ue=G(w,2),x=F(ue);N(ue);var te=G(ue,2);el(te,{get code(){return m(b).description}}),ce(pe=>{Pe(ve,`Level: ${(m(b).level||"Cantrip")??""}`),Pe(fe,`Range: ${m(b).range??""}`),Pe(x,`For: ${pe??""}`)},[()=>m(b).classes.join(", ")]),E(U,ne)},$$slots:{default:!0}});var L=G(A,2);{var K=U=>{nt(U,{onclick:()=>{t.onSpellSelection(m(b))},children:(ee,ne)=>{_e();var le=Me("Add");E(ee,le)},$$slots:{default:!0}})};Re(L,U=>{t.onSpellSelection&&U(K)})}E(V,H)},$$slots:{default:!0}})}})}),N(z),E(y,_)},$$slots:{default:!0}}),Se(),i()}function Qp(e,t){we(t,!0),Is(e,{title:"Add spell from collection",get onclose(){return t.onclose},full:!0,children:(n,r)=>{Ns(n,{onSpellSelection:i=>{t.onSpellSelection(i),t.onclose()}})},$$slots:{default:!0}}),Se()}var qp=X("<!> <!>",1);function Kp(e,t){let n=We(!1);function r(){ae(n,!0)}function i(){ae(n,!1)}var a=qp(),l=O(a);nt(l,{onclick:r,children:(u,d)=>{_e();var f=Me("Add from collection");E(u,f)},$$slots:{default:!0}});var o=G(l,2);{var s=u=>{Qp(u,{onclose:i,get onSpellSelection(){return t.onSpellSelection}})};Re(o,u=>{m(n)&&u(s)})}E(e,a)}var em=X('<button type="button">delete</button>'),tm=X('<div class="line svelte-19rqkn5"><div class="value svelte-19rqkn5"><!></div> <!> <div class="value svelte-19rqkn5"><!></div> <!></div> <!>',1),nm=X('<div class="line svelte-19rqkn5"><span>Level</span> <!> <span>Slots</span></div> <!> <!> <!>',1);function rm(e,t){we(t,!0);const n=()=>Ae(t.character,"$character",i),r=()=>Ae(rt,"$appSettings",i),[i,a]=Ke();function l(){n().spellSlots.push({level:1,amount:0}),me(t.character,j(n).spellSlots=n().spellSlots,j(n))}function o(s){n().spellSlots.splice(s,1),me(t.character,j(n).spellSlots=n().spellSlots,j(n))}re(e,{column:!0,sm:!0,children:(s,u)=>{var d=nm(),f=O(d),v=G(F(f),2);ye(v,{vertical:!0}),_e(2),N(f);var c=G(f,2);ye(c,{});var g=G(c,2);zt(g,1,()=>n().spellSlots,$n,(_,C,R)=>{var z=tm(),S=O(z),b=F(S),Z=F(b);je(Z,{get value(){return m(C).level},set value(ee){m(C).level=ee,$t(i,"$character")}}),N(b);var P=G(b,2);ye(P,{vertical:!0});var V=G(P,2),B=F(V);{var H=ee=>{je(ee,{type:"number",get value(){return m(C).amount},set value(ne){m(C).amount=ne,$t(i,"$character")}})},A=ee=>{Qa(ee,{sm:!0,get amount(){return m(C).amount}})};Re(B,ee=>{r().edit?ee(H):ee(A,!1)})}N(V);var L=G(V,2);{var K=ee=>{var ne=em();ne.__click=()=>o(R),E(ee,ne)};Re(L,ee=>{r().edit&&ee(K)})}N(S);var U=G(S,2);ye(U,{}),E(_,z)});var y=G(g,2);{var I=_=>{nt(_,{onclick:l,children:(C,R)=>{_e();var z=Me("Add spellslot level");E(C,z)},$$slots:{default:!0}})};Re(y,_=>{r().edit&&_(I)})}E(s,d)},$$slots:{default:!0}}),Se(),a()}Ht(["click"]);var im=X('<p>Spell DC</p> <!> <p class="value big svelte-1a9pigq"> </p>',1),am=X('<p>Spellcasting</p> <!> <p class="value big svelte-1a9pigq"><!></p>',1),lm=X("<!> <!> <!> <!> <div><!></div>",1),om=X("<span>Prepared</span>"),sm=X("<span>Spell Name</span>"),um=X("<span>Spell Level</span>"),cm=X("<span>Range</span>"),fm=X("<span>Notes</span>"),dm=X("<!> <!> <!> <!> <!>",1),vm=X('<div class="value svelte-1a9pigq"><!></div>'),hm=X('<div class="value svelte-1a9pigq"><!></div>'),gm=X('<div class="value svelte-1a9pigq"><!></div>'),pm=X('<div class="value svelte-1a9pigq"><!></div>'),mm=X('<button type="button">delete</button>'),bm=X("<!> <!> <!> <!> <!> <!>",1),_m=X("<!> <!>",1),ym=X("<!> <!>",1),Im=X("<!> <!>",1),wm=X("<!> <!> <!>",1),Sm=X("<!> <!> <!>",1),xm=X('<div class="spells svelte-1a9pigq"><!></div>'),Bm=X('<div class="side svelte-1a9pigq"><!></div>'),Gm=X('<div class="wrapper svelte-1a9pigq"><!> <div class="inventory svelte-1a9pigq"><!></div></div>');function km(e,t){we(t,!0);const n=()=>Ae(t.character,"$character",i),r=()=>Ae(rt,"$appSettings",i),[i,a]=Ke(),l=Ye(()=>{const v=n().spellcastingAbility;return v==="none"?0:ji(n().abilityScores[v])}),o=Ye(()=>8+m(l)+n().proficiencyBonus);function s(){t.character.update(v=>(v.spells.push(Ci(Za,{})),v))}function u(v){t.character.update(c=>(c.spells.splice(v,1),c))}function d(v){t.character.update(c=>(c.spells.push(Ci(Za,v)),c))}function f(){t.character.update(v=>(v.spells.sort((c,g)=>{const y=c.level-g.level;return y!==0?y:c.name.localeCompare(g.name)}),v))}Rs(e,{children:(v,c)=>{var g=Gm(),y=F(g);{let C=Ye(()=>n().spells.length===0);Gv(y,{get hide(){return m(C)},children:(R,z)=>{var S=Bm(),b=F(S);re(b,{column:!0,children:(Z,P)=>{var V=xm(),B=F(V);Ft(B,{title:"Spells",children:(H,A)=>{Yi(H,{children:(L,K)=>{re(L,{column:!0,children:(U,ee)=>{re(U,{column:!0,justify:"start",align:"start",children:(ne,le)=>{var ve=Sm(),w=O(ve);re(w,{nogrow:!0,padding:!0,children:(te,pe)=>{at(te,{noshadow:!0,small:!0,children:(he,Ce)=>{re(he,{sm:!0,children:(xe,Ne)=>{var Oe=lm(),ke=O(Oe);re(ke,{column:!0,align:"center",sm:!0,children:(Tt,Te)=>{var Qe=im(),Le=G(O(Qe),2);ye(Le,{});var ut=G(Le,2),gt=F(ut,!0);N(ut),ce(()=>Pe(gt,m(o))),E(Tt,Qe)},$$slots:{default:!0}});var yt=G(ke,2);ye(yt,{vertical:!0});var et=G(yt,2);re(et,{column:!0,align:"center",sm:!0,children:(Tt,Te)=>{var Qe=am(),Le=G(O(Qe),2);ye(Le,{});var ut=G(Le,2),gt=F(ut);tl(gt,{get modifier(){return m(l)}}),N(ut),E(Tt,Qe)},$$slots:{default:!0}});var At=G(et,2);ye(At,{vertical:!0});var st=G(At,2),vn=F(st);rm(vn,{get character(){return t.character}}),N(st),E(xe,Oe)},$$slots:{default:!0}})}})},$$slots:{default:!0}});var fe=G(w,2);{let te=Ye(()=>r().edit?6:5);Ee(fe,{get cells(){return m(te)},fillCell:5,children:(pe,he)=>{var Ce=Im(),xe=O(Ce);Ee(xe,{row:!0,children:(Oe,ke)=>{var yt=dm(),et=O(yt);Ee(et,{cell:!0,children:(Te,Qe)=>{var Le=om();E(Te,Le)},$$slots:{default:!0}});var At=G(et,2);Ee(At,{cell:!0,children:(Te,Qe)=>{var Le=sm();E(Te,Le)},$$slots:{default:!0}});var st=G(At,2);Ee(st,{cell:!0,children:(Te,Qe)=>{var Le=um();E(Te,Le)},$$slots:{default:!0}});var vn=G(st,2);Ee(vn,{cell:!0,children:(Te,Qe)=>{var Le=cm();E(Te,Le)},$$slots:{default:!0}});var Tt=G(vn,2);Ee(Tt,{cell:!0,children:(Te,Qe)=>{var Le=fm();E(Te,Le)},$$slots:{default:!0}}),E(Oe,yt)},$$slots:{default:!0}});var Ne=G(xe,2);zt(Ne,3,()=>n().spells,Oe=>Oe.id,(Oe,ke,yt)=>{var et=ym(),At=O(et);Ee(At,{row:!0,children:(Te,Qe)=>{var Le=bm(),ut=O(Le);Ee(ut,{cell:!0,centered:!0,children:(Ue,ln)=>{Nl(Ue,{get checked(){return m(ke).prepared},set checked(Je){m(ke).prepared=Je,$t(i,"$character")}})},$$slots:{default:!0}});var gt=G(ut,2);Ee(gt,{cell:!0,children:(Ue,ln)=>{var Je=vm(),It=F(Je);je(It,{get value(){return m(ke).name},set value(Wt){m(ke).name=Wt,$t(i,"$character")}}),N(Je),E(Ue,Je)},$$slots:{default:!0}});var an=G(gt,2);Ee(an,{cell:!0,children:(Ue,ln)=>{var Je=hm(),It=F(Je);{let Wt=Ye(()=>m(ke).level||"Cantrip");je(It,{type:"number",get displayValue(){return m(Wt)},get value(){return m(ke).level},set value(Jn){m(ke).level=Jn,$t(i,"$character")}})}N(Je),E(Ue,Je)},$$slots:{default:!0}});var Bn=G(an,2);Ee(Bn,{cell:!0,children:(Ue,ln)=>{var Je=gm(),It=F(Je);je(It,{type:"text",get value(){return m(ke).range},set value(Wt){m(ke).range=Wt,$t(i,"$character")}}),N(Je),E(Ue,Je)},$$slots:{default:!0}});var Lt=G(Bn,2);Ee(Lt,{cell:!0,children:(Ue,ln)=>{var Je=pm(),It=F(Je);je(It,{get value(){return m(ke).notes},set value(Wt){m(ke).notes=Wt,$t(i,"$character")}}),N(Je),E(Ue,Je)},$$slots:{default:!0}});var hn=G(Lt,2);{var Gt=Ue=>{Ee(Ue,{cell:!0,children:(ln,Je)=>{var It=mm();It.__click=()=>u(m(yt)),E(ln,It)},$$slots:{default:!0}})};Re(hn,Ue=>{r().edit&&Ue(Gt)})}E(Te,Le)},$$slots:{default:!0}});var st=G(At,2);{var vn=Te=>{Ee(Te,{row:!0,children:(Qe,Le)=>{Ee(Qe,{cell:!0,spread:!0,children:(ut,gt)=>{re(ut,{padding:!0,column:!0,children:(an,Bn)=>{var Lt=_m(),hn=O(Lt);Nl(hn,{label:"Show description",get checked(){return m(ke).showDescription},set checked(Ue){m(ke).showDescription=Ue,$t(i,"$character")}});var Gt=G(hn,2);mr(Gt,{get code(){return m(ke).description},set code(Ue){m(ke).description=Ue,$t(i,"$character")}}),E(an,Lt)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},Tt=Te=>{var Qe=en(),Le=O(Qe);{var ut=gt=>{Ee(gt,{row:!0,children:(an,Bn)=>{Ee(an,{cell:!0,spread:!0,children:(Lt,hn)=>{re(Lt,{padding:!0,column:!0,children:(Gt,Ue)=>{el(Gt,{get code(){return m(ke).description}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Re(Le,gt=>{m(ke).showDescription&&m(ke).description.trim()&&gt(ut)},!0)}E(Te,Qe)};Re(st,Te=>{r().edit?Te(vn):Te(Tt,!1)})}E(Oe,et)}),E(pe,Ce)},$$slots:{default:!0}})}var ue=G(fe,2);{var x=te=>{re(te,{padding:!0,children:(pe,he)=>{var Ce=wm(),xe=O(Ce);nt(xe,{onclick:s,children:(ke,yt)=>{_e();var et=Me("Add spell");E(ke,et)},$$slots:{default:!0}});var Ne=G(xe,2);nt(Ne,{onclick:f,children:(ke,yt)=>{_e();var et=Me("Sort spells");E(ke,et)},$$slots:{default:!0}});var Oe=G(Ne,2);Kp(Oe,{onSpellSelection:d}),E(pe,Ce)},$$slots:{default:!0}})};Re(ue,te=>{r().edit&&te(x)})}E(ne,ve)},$$slots:{default:!0}})},$$slots:{default:!0}})}})}}),N(V),E(Z,V)},$$slots:{default:!0}}),N(S),E(R,S)},$$slots:{default:!0}})}var I=G(y,2),_=F(I);Ft(_,{title:"Inventory",children:(C,R)=>{Hv(C,{get character(){return t.character}})}}),N(I),N(g),E(v,g)}}),Se(),a()}Ht(["click"]);var Cm=X('<div><input type="range" min="0" max="1" step="0.01"/></div> <div><input type="range" min="0" max="1" step="0.01"/></div> <div><input type="range" min="0" max="1" step="0.01"/></div> <input type="file" accept="image/*"/>',1),Zm=X('<div class="controls svelte-112qgxv"><!></div>'),Em=X('<div class="container svelte-112qgxv"><div class="canvas" role="img" aria-label="Character avatar canvas"><!></div> <!></div>');function Wm(e,t){we(t,!0);const n=()=>Ae(rt,"$appSettings",i),r=()=>Ae(t.character,"$character",i),[i,a]=Ke();let l=Ye(()=>n().edit),o=We(null),s=We(null);function u(c){m(l)&&ae(s,{x:r().avatar.x,y:r().avatar.y,pointerX:c.clientX,pointerY:c.clientY},!0)}function d(c){if(!m(l)||!m(s)||!m(o))return;const g=c.clientX-m(s).pointerX,y=c.clientY-m(s).pointerY,I=Lr/jr*r().avatar.scale;me(t.character,j(r).avatar.x=m(s).x+g*I,j(r)),me(t.character,j(r).avatar.y=m(s).y+y*I,j(r))}function f(){m(l)&&ae(s,null)}function v(c){if(!m(l)||(c.preventDefault(),!m(o)))return;const g=r().avatar.scale,y=Math.min(Math.max(.1,g-c.deltaY/1e3),10),I=m(o).getBoundingClientRect(),_=c.clientX-I.left,C=c.clientY-I.top,R=_/m(o).offsetWidth*jr,z=C/m(o).offsetHeight*Lr,S=(R-r().avatar.x)/g,b=(z-r().avatar.y)/g;me(t.character,j(r).avatar.scale=y,j(r)),me(t.character,j(r).avatar.x=R-S*y,j(r)),me(t.character,j(r).avatar.y=z-b*y,j(r))}cn("mouseup",Ln,f),cn("pointermove",Ln,d),at(e,{nopadding:!0,children:(c,g)=>{var y=Em(),I=F(y);I.__pointerdown=u;var _=F(I);{let z=Ye(()=>m(s)!==null);Ua(_,{get avatar(){return r().avatar},get disableEffects(){return m(z)}})}N(I),lr(I,z=>ae(o,z),()=>m(o));var C=G(I,2);{var R=z=>{var S=Zm(),b=F(S);Ft(b,{children:(Z,P)=>{re(Z,{column:!0,sm:!0,children:(V,B)=>{var H=Cm(),A=O(H),L=F(A);tr(L),N(A);var K=G(A,2),U=F(K);tr(U),N(K);var ee=G(K,2),ne=F(ee);tr(ne),N(ee);var le=G(ee,2);le.__input=async ve=>{const w=ve.currentTarget.files?.[0];if(w){const fe=await ms(w,jr,Lr);me(t.character,j(r).avatar.blob=w,j(r)),me(t.character,j(r).avatar.x=fe.x,j(r)),me(t.character,j(r).avatar.y=fe.y,j(r)),me(t.character,j(r).avatar.scale=fe.scale,j(r))}ve.currentTarget.value=""},nr(L,()=>r().avatar.contrast,ve=>me(t.character,j(r).avatar.contrast=ve,j(r))),nr(U,()=>r().avatar.gray,ve=>me(t.character,j(r).avatar.gray=ve,j(r))),nr(ne,()=>r().avatar.black,ve=>me(t.character,j(r).avatar.black=ve,j(r))),E(V,H)},$$slots:{default:!0}})}}),N(S),E(z,S)};Re(C,z=>{n().edit&&z(R)})}N(y),cn("wheel",I,v),E(c,y)}}),Se(),a()}Ht(["pointerdown","input"]);var Ym=X("<!> <span>current</span>",1),Rm=X('<div class="value svelte-10uhbq3"><!></div> <!> <span>max</span>',1),Nm=X("<!> <!> <!>",1),$m=X('<div class="label svelte-10uhbq3">Hitpoints</div> <!>',1),Fm=X('<div style="height:3em;"></div> <!> <span>spend</span>',1),Xm=X('<div class="value svelte-10uhbq3"><!></div> <!> <span>current</span>',1),Pm=X('<div class="label svelte-10uhbq3">Hit Dice</div> <!> <!> <!>',1),zm=X('<div class="label svelte-10uhbq3">Death<br/>Saves</div> <!> <!> <!>',1),Vm=X('<div class="inner svelte-10uhbq3"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!> <!> <!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div>'),Hm=X('<div class="container svelte-10uhbq3"><div class="armor svelte-10uhbq3"><div class="inner svelte-10uhbq3"><div class="label svelte-10uhbq3">Armor<br/>Class</div> <!> <div class="value svelte-10uhbq3"><!></div></div></div> <!></div>');function Am(e,t){we(t,!0);const n=()=>Ae(t.character,"$character",r),[r,i]=Ke();var a=Hm(),l=F(a),o=F(l),s=G(F(o),2);ye(s,{});var u=G(s,2),d=F(u);je(d,{get value(){return n().armorClass},set value(v){me(t.character,j(n).armorClass=v,j(n))}}),N(u),N(o),N(l);var f=G(l,2);Ft(f,{children:(v,c)=>{var g=Vm(),y=F(g);vl(y,()=>({"--flex-grow":"1"})),re(y.lastChild,{column:!0,align:"center",children:(z,S)=>{var b=$m(),Z=G(O(b),2);re(Z,{full:!0,children:(P,V)=>{var B=Nm(),H=O(B);re(H,{column:!0,align:"center",justify:"end",full:!0,children:(K,U)=>{var ee=Ym(),ne=O(ee);ye(ne,{}),_e(2),E(K,ee)},$$slots:{default:!0}});var A=G(H,2);ye(A,{vertical:!0});var L=G(A,2);re(L,{column:!0,align:"center",justify:"end",full:!0,children:(K,U)=>{var ee=Rm(),ne=O(ee),le=F(ne);je(le,{get value(){return n().hitPoints},set value(w){me(t.character,j(n).hitPoints=w,j(n))}}),N(ne);var ve=G(ne,2);ye(ve,{}),_e(2),E(K,ee)},$$slots:{default:!0}}),E(P,B)},$$slots:{default:!0}}),E(z,b)},$$slots:{default:!0}}),N(y);var I=G(y,2);ye(I,{vertical:!0});var _=G(I,2);re(_,{column:!0,align:"center",sm:!0,children:(z,S)=>{var b=Pm(),Z=G(O(b),2);Wn(Z);var P=G(Z,2);re(P,{column:!0,full:!0,children:(B,H)=>{var A=Fm(),L=G(O(A),2);ye(L,{}),_e(2),E(B,A)},$$slots:{default:!0}});var V=G(P,2);re(V,{column:!0,full:!0,children:(B,H)=>{var A=Xm(),L=O(A),K=F(L);je(K,{get value(){return n().hitDice},set value(ee){me(t.character,j(n).hitDice=ee,j(n))}}),N(L);var U=G(L,2);ye(U,{}),_e(2),E(B,A)},$$slots:{default:!0}}),E(z,b)},$$slots:{default:!0}});var C=G(_,2);ye(C,{vertical:!0});var R=G(C,2);vl(R,()=>({"--flex-grow":"0"})),re(R.lastChild,{column:!0,children:(z,S)=>{var b=zm(),Z=G(O(b),2);Wn(Z);var P=G(Z,2);Wi(P,{label:"successes"});var V=G(P,2);Wi(V,{label:"failures"}),E(z,b)},$$slots:{default:!0}}),N(R),N(g),E(v,g)}}),N(a),E(e,a),Se(),i()}var Tm=X('<div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Level</div>',1),Lm=X('<div class="inner svelte-q5a7vm"><div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Player name</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Alignment</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Background</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Class</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Species</div></div> <div class="field svelte-q5a7vm"><div class="value svelte-q5a7vm"><!></div> <!> <div class="label svelte-q5a7vm">Subclass</div></div> <div class="level svelte-q5a7vm"><!></div></div>');function jm(e,t){we(t,!0);const n=()=>Ae(t.character,"$character",r),[r,i]=Ke();at(e,{children:(a,l)=>{var o=Lm(),s=F(o),u=F(s),d=F(u);je(d,{get value(){return n().playerName},set value(le){me(t.character,j(n).playerName=le,j(n))}}),N(u);var f=G(u,2);ye(f,{}),_e(2),N(s);var v=G(s,2),c=F(v),g=F(c);je(g,{get value(){return n().alignment},set value(le){me(t.character,j(n).alignment=le,j(n))}}),N(c);var y=G(c,2);ye(y,{}),_e(2),N(v);var I=G(v,2),_=F(I),C=F(_);je(C,{get value(){return n().background},set value(le){me(t.character,j(n).background=le,j(n))}}),N(_);var R=G(_,2);ye(R,{}),_e(2),N(I);var z=G(I,2),S=F(z),b=F(S);je(b,{get value(){return n().class},set value(le){me(t.character,j(n).class=le,j(n))}}),N(S);var Z=G(S,2);ye(Z,{}),_e(2),N(z);var P=G(z,2),V=F(P),B=F(V);je(B,{get value(){return n().species},set value(le){me(t.character,j(n).species=le,j(n))}}),N(V);var H=G(V,2);ye(H,{}),_e(2),N(P);var A=G(P,2),L=F(A),K=F(L);je(K,{get value(){return n().subclass},set value(le){me(t.character,j(n).subclass=le,j(n))}}),N(L);var U=G(L,2);ye(U,{}),_e(2),N(A);var ee=G(A,2),ne=F(ee);re(ne,{column:!0,sm:!0,align:"center",children:(le,ve)=>{var w=Tm(),fe=O(w),ue=F(fe);je(ue,{get value(){return n().level},set value(te){me(t.character,j(n).level=te,j(n))}}),N(fe);var x=G(fe,2);ye(x,{}),_e(2),E(le,w)},$$slots:{default:!0}}),N(ee),N(o),E(a,o)}}),Se(),i()}var Dm=X('<span class="label svelte-xov0bq">Inspiration</span> <div style="min-height: 1.4em"></div>',1),Om=X('<span class="label svelte-xov0bq">Size</span> <span class="value svelte-xov0bq"><!></span>',1),Jm=X('<span class="label svelte-xov0bq">Initiative</span> <span class="value svelte-xov0bq"> </span>',1),Mm=X('<span class="label svelte-xov0bq">Speed</span> <span class="value svelte-xov0bq"><!></span>',1),Um=X('<span class="label svelte-xov0bq">Proficiency Bonus</span> <span class="value svelte-xov0bq"><!></span>',1),Qm=X("<!> <!> <!> <!> <!>",1);function qm(e,t){we(t,!0);const n=()=>Ae(t.character,"$character",r),[r,i]=Ke();re(e,{column:!0,justify:"between",sm:!0,children:(a,l)=>{var o=Qm(),s=O(o);at(s,{nogrow:!0,children:(c,g)=>{re(c,{column:!0,sm:!0,children:(y,I)=>{var _=Dm();_e(2),E(y,_)},$$slots:{default:!0}})}});var u=G(s,2);at(u,{nogrow:!0,children:(c,g)=>{re(c,{column:!0,sm:!0,children:(y,I)=>{var _=Om(),C=G(O(_),2),R=F(C);je(R,{get value(){return n().size},set value(z){me(t.character,j(n).size=z,j(n))}}),N(C),E(y,_)},$$slots:{default:!0}})}});var d=G(u,2);at(d,{nogrow:!0,children:(c,g)=>{re(c,{column:!0,sm:!0,children:(y,I)=>{var _=Jm(),C=G(O(_),2),R=F(C,!0);N(C),ce(z=>Pe(R,z),[()=>ns(ji(n().abilityScores.dex))]),E(y,_)},$$slots:{default:!0}})}});var f=G(d,2);at(f,{nogrow:!0,children:(c,g)=>{re(c,{column:!0,sm:!0,children:(y,I)=>{var _=Mm(),C=G(O(_),2),R=F(C);je(R,{get value(){return n().speed},set value(z){me(t.character,j(n).speed=z,j(n))}}),N(C),E(y,_)},$$slots:{default:!0}})}});var v=G(f,2);at(v,{nogrow:!0,children:(c,g)=>{re(c,{column:!0,sm:!0,children:(y,I)=>{var _=Um(),C=G(O(_),2),R=F(C);je(R,{get value(){return n().proficiencyBonus},set value(z){me(t.character,j(n).proficiencyBonus=z,j(n))}}),N(C),E(y,_)},$$slots:{default:!0}})}}),E(a,o)},$$slots:{default:!0}}),Se(),i()}const Km={acrobatics:"Acrobatics",animalHandling:"Animal Handling",arcana:"Arcana",athletics:"Athletics",deception:"Deception",history:"History",insight:"Insight",intimidation:"Intimidation",investigation:"Investigation",medicine:"Medicine",nature:"Nature",perception:"Perception",performance:"Performance",persuasion:"Persuasion",religion:"Religion",sleightOfHand:"Sleight of Hand",stealth:"Stealth",survival:"Survival",str:"Strength",dex:"Dexterity",con:"Constitution",int:"Intelligence",wis:"Wisdom",cha:"Charisma",none:"None",savingThrow:"Saving Throw"};function $s(e){return Km[e]}var eb=X('<div class="item svelte-1wvd7v4"><div class="name svelte-1wvd7v4"> </div> <div class="modifier svelte-1wvd7v4"><!></div> <span class="score svelte-1wvd7v4"><!> <div class="input svelte-1wvd7v4"><!></div></span></div>');function tb(e,t){we(t,!0);const n=()=>Ae(t.character,"$character",r),[r,i]=Ke(),a=Ye(()=>n().abilityScores[t.ability]);var l=eb(),o=F(l),s=F(o,!0);N(o);var u=G(o,2),d=F(u);{let y=Ye(()=>ji(m(a)));tl(d,{get modifier(){return m(y)}})}N(u);var f=G(u,2),v=F(f);at(v,{rounded:!0,absolute:!0,noshadow:!0,small:!0});var c=G(v,2),g=F(c);je(g,{get value(){return n().abilityScores[t.ability]},set value(y){me(t.character,j(n).abilityScores[t.ability]=y,j(n))}}),N(c),N(f),N(l),ce(y=>Pe(s,y),[()=>$s(t.ability)]),E(e,l),Se(),i()}var nb=X('<button aria-label="Proficiency"></button>');function rb(e,t){we(t,!0);const n=()=>Ae(rt,"$appSettings",r),[r,i]=Ke();let a=bt(t,"value",15);const l=Ye(()=>n().edit),o=["none","proficient","double","half"];function s(){const v=(o.indexOf(a()??"none")+1)%o.length;a(o[v])}var u=nb();u.__click=s;let d;ce(()=>{u.disabled=!m(l),d=Bt(u,1,"svelte-1vb6rvd",null,d,{"is-proficient":a()==="proficient","is-double":a()==="double","is-half":a()==="half"})}),E(e,u),Se(),i()}Ht(["click"]);var ib=X('<div class="wrapper svelte-1jy7427"><!> <span class="modifier svelte-1jy7427"><!></span> <span class="skill"> </span></div>');function Ml(e,t){we(t,!0);const n=()=>Ae(t.character,"$character",i),r=()=>Ae(rt,"$appSettings",i),[i,a]=Ke(),l=Ye(()=>t.skill==="savingThrow"?n().abilityProficiencies.includes(t.ability)?"proficient":"none":n().skillProficiencies[t.skill]??"none"),o=Ye(()=>vf(n().abilityScores[t.ability]??0,n().proficiencyBonus,m(l)));var s=ib(),u=F(s),d=()=>m(l),f=I=>{r().edit&&(t.skill==="savingThrow"?me(t.character,j(n).abilityProficiencies=gf(n().abilityProficiencies,t.ability),j(n)):me(t.character,j(n).skillProficiencies[t.skill]=I,j(n)))};rb(u,{get value(){return d()},set value(I){f(I)}});var v=G(u,2),c=F(v);tl(c,{get modifier(){return m(o)}}),N(v);var g=G(v,2),y=F(g,!0);N(g),N(s),ce(I=>Pe(y,I),[()=>$s(t.skill)]),E(e,s),Se(),a()}var ab=X("<!> <!>",1),lb=X('<div class="inner svelte-1ftln1h"><!> <!> <!> <!></div>');function vr(e,t){we(t,!0);const n=Ye(()=>hf(Id).flatMap(([r,i])=>t.ability!==i?[]:{skill:r,ability:i}));at(e,{children:(r,i)=>{var a=lb(),l=F(a);tb(l,{get ability(){return t.ability},get character(){return t.character}});var o=G(l,2);ye(o,{});var s=G(o,2);Ml(s,{skill:"savingThrow",get ability(){return t.ability},get character(){return t.character}});var u=G(s,2);{var d=f=>{var v=ab(),c=O(v);ye(c,{});var g=G(c,2);zt(g,17,()=>m(n),$n,(y,I)=>{Ml(y,{get skill(){return m(I).skill},get ability(){return t.ability},get character(){return t.character}})}),E(f,v)};Re(u,f=>{m(n).length>0&&f(d)})}N(a),E(r,a)}}),Se()}var ob=X('<span>+</span> <div class="hit"><!></div>',1),sb=X('<button class="delete-button" type="button">delete</button>'),ub=X('<div class="seperator svelte-120kl8r"><!></div> <div class="line svelte-120kl8r"><div class="cell name svelte-120kl8r"><!></div> <!> <div class="cell svelte-120kl8r"><!></div> <!> <div class="cell damage svelte-120kl8r"><!></div> <!> <div class="cell details svelte-120kl8r"><!></div> <!></div>',1),cb=X("<span>Add line</span>"),fb=X('<div><div class="line heading svelte-120kl8r"><div class="cell name svelte-120kl8r">Name</div> <!> <div class="cell hit svelte-120kl8r">Hit</div> <!> <div class="cell damage svelte-120kl8r">Damage</div> <!> <div class="cell details svelte-120kl8r">Details</div></div> <!> <!></div>');function db(e,t){we(t,!0);const n=()=>Ae(rt,"$appSettings",i),r=()=>Ae(t.character,"$character",i),[i,a]=Ke(),l=Ye(()=>n().edit),o=()=>{r().weapons.push({name:"",hit:0,damage:"",details:""}),me(t.character,j(r).weapons=r().weapons,j(r))},s=u=>{const d=r().weapons.indexOf(u);r().weapons.splice(d,1),me(t.character,j(r).weapons=r().weapons,j(r))};Ft(e,{children:(u,d)=>{var f=fb();let v;var c=F(f),g=G(F(c),2);ye(g,{vertical:!0});var y=G(g,4);ye(y,{vertical:!0});var I=G(y,4);ye(I,{vertical:!0}),_e(2),N(c);var _=G(c,2);zt(_,1,()=>r().weapons,$n,(z,S,b)=>{var Z=ub(),P=O(Z),V=F(P);ye(V,{}),N(P);var B=G(P,2),H=F(B),A=F(H);je(A,{get value(){return m(S).name},set value(te){m(S).name=te,$t(i,"$character")}}),N(H);var L=G(H,2);ye(L,{vertical:!0});var K=G(L,2),U=F(K);re(U,{align:"center",nogap:!0,children:(te,pe)=>{var he=ob(),Ce=G(O(he),2),xe=F(Ce);je(xe,{get value(){return m(S).hit},set value(Ne){m(S).hit=Ne,$t(i,"$character")}}),N(Ce),E(te,he)}}),N(K);var ee=G(K,2);ye(ee,{vertical:!0});var ne=G(ee,2),le=F(ne);je(le,{get value(){return m(S).damage},set value(te){m(S).damage=te,$t(i,"$character")}}),N(ne);var ve=G(ne,2);ye(ve,{vertical:!0});var w=G(ve,2),fe=F(w);je(fe,{get value(){return m(S).details},set value(te){m(S).details=te,$t(i,"$character")}}),N(w);var ue=G(w,2);{var x=te=>{var pe=sb();pe.__click=()=>s(m(S)),E(te,pe)};Re(ue,te=>{m(l)&&te(x)})}N(B),E(z,Z)});var C=G(_,2);{var R=z=>{re(z,{children:(S,b)=>{nt(S,{onclick:o,children:(Z,P)=>{var V=cb();E(Z,V)},$$slots:{default:!0}})},$$slots:{default:!0}})};Re(C,z=>{m(l)&&z(R)})}N(f),ce(()=>v=Bt(f,1,"items svelte-120kl8r",null,v,{edit:m(l)})),E(u,f)}}),Se(),a()}Ht(["click"]);var vb=X('<span class="languages svelte-1icsswg"><!></span>'),hb=X('<div class="inner svelte-1icsswg"><div class="side svelte-1icsswg"><h1 class="name svelte-1icsswg"><!></h1> <div class="avatar svelte-1icsswg"><!></div> <div class="abilities svelte-1icsswg"><div class="line svelte-1icsswg"><!> <!> <!> <!> <!></div> <div class="line svelte-1icsswg"><!> <!> <!></div></div></div> <div class="main svelte-1icsswg"><div class="heading svelte-1icsswg"><!></div> <div class="combat svelte-1icsswg"><!></div> <div class="other svelte-1icsswg"><!></div> <div class="weapons svelte-1icsswg"><!></div> <div class="feats svelte-1icsswg"><!></div> <div class="species svelte-1icsswg"><!></div> <div class="class svelte-1icsswg"><!></div></div></div>');function gb(e,t){we(t,!0);const n=()=>Ae(t.character,"$character",r),[r,i]=Ke();Rs(e,{children:(a,l)=>{var o=hb(),s=F(o),u=F(s),d=F(u);je(d,{get value(){return n().name},set value(x){me(t.character,j(n).name=x,j(n))}}),N(u);var f=G(u,2),v=F(f);Wm(v,{get character(){return t.character}}),N(f);var c=G(f,2),g=F(c),y=F(g);vr(y,{ability:"str",get character(){return t.character}});var I=G(y,2);vr(I,{ability:"dex",get character(){return t.character}});var _=G(I,2);vr(_,{ability:"con",get character(){return t.character}});var C=G(_,2);Ft(C,{title:"Proficiencies",children:(x,te)=>{mr(x,{get code(){return n().proficienies},set code(pe){me(t.character,j(n).proficienies=pe,j(n))}})}});var R=G(C,2);Ft(R,{title:"Languages",children:(x,te)=>{var pe=vb(),he=F(pe);mr(he,{get code(){return n().languages},set code(Ce){me(t.character,j(n).languages=Ce,j(n))}}),N(pe),E(x,pe)}}),N(g);var z=G(g,2),S=F(z);vr(S,{ability:"int",get character(){return t.character}});var b=G(S,2);vr(b,{ability:"wis",get character(){return t.character}});var Z=G(b,2);vr(Z,{ability:"cha",get character(){return t.character}}),N(z),N(c),N(s);var P=G(s,2),V=F(P),B=F(V);jm(B,{get character(){return t.character}}),N(V);var H=G(V,2),A=F(H);Am(A,{get character(){return t.character}}),N(H);var L=G(H,2),K=F(L);qm(K,{get character(){return t.character}}),N(L);var U=G(L,2),ee=F(U);db(ee,{get character(){return t.character}}),N(U);var ne=G(U,2),le=F(ne);Ft(le,{grid:!0,title:"Feats",children:(x,te)=>{mr(x,{get code(){return n().features.feats},set code(pe){me(t.character,j(n).features.feats=pe,j(n))}})}}),N(ne);var ve=G(ne,2),w=F(ve);Ft(w,{grid:!0,title:"Species",children:(x,te)=>{Yi(x,{children:(pe,he)=>{mr(pe,{get code(){return n().features.species},set code(Ce){me(t.character,j(n).features.species=Ce,j(n))}})}})}}),N(ve);var fe=G(ve,2),ue=F(fe);Ft(ue,{grid:!0,title:"Class",children:(x,te)=>{Yi(x,{children:(pe,he)=>{mr(pe,{get code(){return n().features.class},set code(Ce){me(t.character,j(n).features.class=Ce,j(n))}})}})}}),N(fe),N(P),N(o),E(a,o)}}),Se(),i()}const Fs="character.json",Xs="avatar.";async function pb(e){const{BlobReader:t,BlobWriter:n,TextReader:r,ZipWriter:i}=await ri(async()=>{const{BlobReader:f,BlobWriter:v,TextReader:c,ZipWriter:g}=await import("./index-NmetT060.js");return{BlobReader:f,BlobWriter:v,TextReader:c,ZipWriter:g}},[]),a=new n,l=new i(a);let o=structuredClone(e);o.avatar.blob=null;const s=JSON.stringify(o);await l.add(Fs,new r(s));const u=e.avatar?.blob;if(u instanceof Blob){let f=u.type?.split("/")[1]||"bin";f==="jpeg"&&(f="jpg");const v=`${Xs}${f}`;await l.add(v,new t(u))}await l.close();const d=await a.getData();return new File([d],`${e.slug}.zip`)}async function mb(e){const{BlobReader:t,BlobWriter:n,TextWriter:r,ZipReader:i}=await ri(async()=>{const{BlobReader:f,BlobWriter:v,TextWriter:c,ZipReader:g}=await import("./index-NmetT060.js");return{BlobReader:f,BlobWriter:v,TextWriter:c,ZipReader:g}},[]),a=new i(new t(e)),l=await a.getEntries(),o=l.find(f=>f.directory===!1&&f.filename.startsWith(Xs)),s=l.find(f=>f.directory===!1&&f.filename===Fs);if(!s)throw new Error("Invalid save data: missing character.json");const[u,d]=await Promise.all([(async()=>{const f=new r;await s.getData(f);const v=await f.getData();return Ji(JSON.parse(v))})(),(async()=>{if(!o)return null;const f=new n;return await o.getData(f),await f.getData()})()]);return u.avatar.blob=d,await a.close(),u}var bb=X('<input type="file" class="svelte-ozss1q"/> <!>',1),_b=X("<label><!></label>");function yb(e,t){we(t,!0);var n=_b(),r=F(n);Ei(r,{children:(i,a)=>{var l=bb(),o=O(l);o.__change=u=>{const d=u.currentTarget.files?.[0]??null;t.onchange?.(d),u.currentTarget.value=""};var s=G(o,2);_t(s,()=>t.children??Xe),ce(()=>Vt(o,"accept",t.accept)),E(i,l)}}),N(n),E(e,n),Se()}Ht(["change"]);var va,Ul;function Ib(){return Ul||(Ul=1,va=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var l=a[i];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),va}var wb=Ib();const Sb=bs(wb);function xb(e,t){return Sb(e,t)}var Bb=X("<!> <!>",1),Gb=X("<!> <!> <!> <!> <!> <!> <!> <!>",1),kb=X('<!> <!> <div class="toolbar hide-print svelte-ocym4h"><!></div>',1),Cb=X("<div><!></div>");function Zb(e,t){we(t,!0);const n=()=>Ae(rt,"$appSettings",i),r=()=>Ae(m(o),"$character",i),[i,a]=Ke();let l=bt(t,"characterData",15),o=We(Pn(rr(structuredClone(l()))));yn(()=>{Sl(ae(o,rr(structuredClone(l())),!0),"$character",i)});const s=Ye(()=>n().hasChanges);yn(()=>{me(rt,j(n).hasChanges=!xb(l(),r()),j(n))});const u=()=>{me(rt,j(n).edit=!n().edit,j(n))};async function d(){const _=await pb(r());await is(_,_.name)}async function f(_){try{if(!_)return;const C=await mb(_);m(o).set(C)}catch(C){console.error(C),ki("Something went wrong with importing.")}}async function v(){await Zd(r()),l(r())}async function c(){confirm("Are you sure you want to revert?")&&Sl(ae(o,rr(structuredClone(l())),!0),"$character",i)}var g=Cb();let y;var I=F(g);re(I,{column:!0,xl:!0,children:(_,C)=>{var R=kb(),z=O(R);gb(z,{get character(){return m(o)}});var S=G(z,2);km(S,{get character(){return m(o)}});var b=G(S,2),Z=F(b);hs(Z,{children:(P,V)=>{re(P,{padding:!0,justify:"start",children:(B,H)=>{var A=Gb(),L=O(A);nt(L,{onclick:u,children:(ue,x)=>{_e();var te=Me();ce(()=>Pe(te,n().edit?"Done":"Edit")),E(ue,te)},$$slots:{default:!0}});var K=G(L,2);{var U=ue=>{var x=Bb(),te=O(x);nt(te,{onclick:v,children:(he,Ce)=>{_e();var xe=Me("Save");E(he,xe)},$$slots:{default:!0}});var pe=G(te,2);nt(pe,{onclick:c,children:(he,Ce)=>{_e();var xe=Me("Revert");E(he,xe)},$$slots:{default:!0}}),E(ue,x)};Re(K,ue=>{m(s)&&ue(U)})}var ee=G(K,2);Wn(ee);var ne=G(ee,2);nt(ne,{onclick:d,children:(ue,x)=>{_e();var te=Me("Export");E(ue,te)},$$slots:{default:!0}});var le=G(ne,2);yb(le,{accept:"application/zip",onchange:f,children:(ue,x)=>{_e();var te=Me("Import");E(ue,te)},$$slots:{default:!0}});var ve=G(le,2);nt(ve,{onclick:async()=>{const ue=await wv(r());await navigator.clipboard.writeText(ue),ki("Copied to clipboard")},children:(ue,x)=>{_e();var te=Me("Export to yaml");E(ue,te)},$$slots:{default:!0}});var w=G(ve,2);nt(w,{type:"button",onclick:async()=>{const ue=n().edit;me(rt,j(n).edit=!1,j(n)),await ni(),window.print(),me(rt,j(n).edit=ue,j(n))},children:(ue,x)=>{_e();var te=Me("Print");E(ue,te)},$$slots:{default:!0}});var fe=G(w,2);nt(fe,{onclick:async()=>{await Wd(r().slug,m(o))},children:(ue,x)=>{_e();var te=Me("Load Example");E(ue,te)},$$slots:{default:!0}}),E(B,A)},$$slots:{default:!0}})}}),N(b),E(_,R)}}),N(g),ce(()=>y=Bt(g,1,"svelte-ocym4h",null,y,{showEditables:!n().edit})),E(e,g),Se(),a()}var Eb=X('<h1>No character found for slug: <code> </code></h1> <a href="/">Go back to character select</a>',1),Wb=X("<!> <!>",1);function Yb(e,t){we(t,!0);var n,r=zi([async()=>n=await Vi(()=>_s(t.params.slug))]),i=Wb(),a=O(i);pt(a,[r[0]],void 0,o=>{let s=Ye(()=>m(n)?`${m(n).name}`:"Not Found");Oi(a,{get title(){return m(s)}})});var l=G(a,2);pt(l,[r[0]],[()=>m(n)],(o,s)=>{var u=f=>{pt(f,[r[0]],void 0,v=>{Zb(v,{get characterData(){return m(n)},set characterData(c){ae(n,c)}})})},d=f=>{var v=Eb(),c=O(v),g=G(F(c)),y=F(g,!0);N(g),N(c);var I=G(c,2);Sr(I,_=>Zi?.(_)),ce(()=>Pe(y,t.params.slug),void 0,void 0,[r[0]]),E(f,v)};Re(o,f=>{m(s)?f(u):f(d,!1)})}),E(e,i),Se()}function Rb(e){const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("unable to get canvas");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),{canvas:t,destroy(){t.width=0,t.height=0}}}var Nb=X('<label><span>Size</span> <input name="size" type="number"/></label> <label><span>Columns</span> <input name="x" type="number"/></label> <label><span>Rows</span> <input name="y" type="number"/></label> <label><span>Stroke width</span> <input name="stroke" type="number"/></label> <!>',1),$b=X('<div class="wrapper svelte-1g22s45"><form class="svelte-1g22s45"><!></form> <!> <div class="canvas svelte-1g22s45"><!></div></div>');function Fb(e,t){we(t,!0);let n=We(null),r=We(null),i=We(2),a=We(10),l=We(8),o=We(100),s=30;yn(()=>{if(!m(n)||!m(r))return;m(n).width=s*2+m(a)*m(o),m(n).height=s*2+m(l)*m(o),m(r).clearRect(0,0,m(n).width,m(n).height),m(r).lineWidth=m(i);for(let _=1;_<m(a);_++){m(r).beginPath();const C=s+_*m(o);m(r).moveTo(C,s),m(r).lineTo(C,m(n).height-s),m(r).stroke()}for(let _=1;_<m(l);_++){m(r).beginPath();const C=s+_*m(o);m(r).moveTo(s,C),m(r).lineTo(m(n).width-s,C),m(r).stroke()}m(r).lineWidth=m(i)*1.5,m(r).beginPath(),m(r).roundRect(s,s,m(n).width-s*2,m(n).height-s*2,m(i)*5),m(r).stroke();const I=Rb(m(n));m(r).filter="url(#pencil)",m(r).drawImage(I.canvas,0,0),I.destroy()});const u=I=>{I.preventDefault();const _=new FormData(I.currentTarget),C=parseInt(_.get("x")?.toString()||"")||m(a),R=parseInt(_.get("y")?.toString()||"")||m(l),z=parseInt(_.get("size")?.toString()||"")||m(o);Math.sqrt(C*R*z*z)>4e3&&!confirm("The grid will be pretty large and can cause issues, are you sure?")||(ae(a,C,!0),ae(l,R,!0),ae(o,z,!0),ae(i,parseInt(_.get("stroke")?.toString()||"")||m(i),!0))};var d=$b(),f=F(d),v=F(f);re(v,{column:!0,children:(I,_)=>{var C=Nb(),R=O(C),z=G(F(R),2);N(R);var S=G(R,2),b=G(F(S),2);N(S);var Z=G(S,2),P=G(F(Z),2);N(Z);var V=G(Z,2),B=G(F(V),2);N(V);var H=G(V,2);nt(H,{type:"submit",children:(A,L)=>{_e();var K=Me("Generate");E(A,K)},$$slots:{default:!0}}),ce(()=>{z.defaultValue=m(o),b.defaultValue=m(a),P.defaultValue=m(l),B.defaultValue=m(i)}),E(I,C)}}),N(f);var c=G(f,2);ye(c,{vertical:!0});var g=G(c,2),y=F(g);vs(y,{get canvas(){return m(n)},set canvas(I){ae(n,I,!0)},get context(){return m(r)},set context(I){ae(r,I,!0)}}),N(g),N(d),cn("submit",f,u),E(e,d),Se()}var Xb=X("<!> <!>",1);function Pb(e){var t=Xb(),n=O(t);Oi(n,{title:"Grid generator"});var r=G(n,2);Fb(r,{}),E(e,t)}var zb=X("<h1>Spells</h1> <!>",1);function Vb(e){re(e,{column:!0,padding:!0,children:(t,n)=>{var r=zb(),i=G(O(r),2);Ns(i,{}),E(t,r)}})}const sn={characterSelect:()=>"/",characterSheet:e=>`/sheet/${e}`,characterMiniSheet:e=>`/sheet/mini/${e}`,gridGenerator:()=>"/generate-grid",spells:()=>"/spells"},Hb={[sn.characterSelect()]:yv,[sn.characterSheet(":slug")]:Yb,[sn.characterMiniSheet(":slug")]:Jd,[sn.gridGenerator()]:Pb,[sn.spells()]:Vb},yi=[];let Ps;function zs(e){const t=e.pattern.test(Ps);Ql(e,e.className,t),Ql(e,e.inactiveClassName,!t)}function Ql(e,t,n){(t||"").split(" ").forEach(r=>{r&&(e.node.classList.remove(r),n&&e.node.classList.add(r))})}Di.subscribe(e=>{Ps=e.location+(e.querystring?"?"+e.querystring:""),yi.map(zs)});function Ab(e,t){if(t&&(typeof t=="string"||typeof t=="object"&&t instanceof RegExp)?t={path:t}:t=t||{},!t.path&&e.hasAttribute("href")&&(t.path=e.getAttribute("href"),t.path&&t.path.length>1&&t.path.charAt(0)=="#"&&(t.path=t.path.substring(1))),t.className||(t.className="active"),!t.path||typeof t.path=="string"&&(t.path.length<1||t.path.charAt(0)!="/"&&t.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof t.path=="string"?ds(t.path):{pattern:t.path},r={node:e,className:t.className,inactiveClassName:t.inactiveClassName,pattern:n};return yi.push(r),zs(r),{destroy(){yi.splice(yi.indexOf(r),1)}}}var Tb=X("<a><!></a>");function ql(e,t){we(t,!0);const n=()=>Ae(rt,"$appSettings",r),[r,i]=Ke(),a=Ye(()=>n().hasChanges);function l(u){u.preventDefault(),(!m(a)||window.confirm("There are unsaved changed, these will get lost if you continue"))&&Jf(t.href)}var o=Tb();o.__click=l;var s=F(o);_t(s,()=>t.children??Xe),N(o),Sr(o,u=>Ab?.(u)),ce(()=>Vt(o,"href",t.href)),E(e,o),Se(),i()}Ht(["click"]);var Lb=X('<h1><!></h1> <!> <nav class="svelte-a8kxe2"></nav>',1),jb=X('<header class="hide-print svelte-a8kxe2"><div class="inner svelte-a8kxe2"><!></div> <!></header>');function Db(e,t){we(t,!1);const n=[{href:sn.characterSelect(),label:"Character select"},{href:sn.gridGenerator(),label:"Grid generator"},{href:sn.spells(),label:"Spells"}];ja();var r=jb(),i=F(r),a=F(i);re(a,{align:"center",children:(o,s)=>{var u=Lb(),d=O(u),f=F(d);{let g=Hi(()=>sn.characterSelect());ql(f,{get href(){return m(g)},children:(y,I)=>{_e();var _=Me("D&D Character Sheet creator");E(y,_)},$$slots:{default:!0}})}N(d);var v=G(d,2);Wn(v);var c=G(v,2);zt(c,5,()=>n,$n,(g,y)=>{let I=()=>m(y).href,_=()=>m(y).label;ql(g,{get href(){return I()},children:(C,R)=>{_e();var z=Me();ce(()=>Pe(z,_())),E(C,z)},$$slots:{default:!0}})}),N(c),E(o,u)}}),N(i);var l=G(i,2);ye(l,{}),N(r),E(e,r),Se()}var Ob=X('<!> <main class="svelte-1n46o8q"><!></main> <!> <!>',1),Jb=X("<!> <!>",1);function Mb(e){var t=Jb(),n=O(t);Ef(n);var r=G(n,2);sf(r,{children:(i,a)=>{var l=Ob(),o=O(l);Db(o,{});var s=G(o,2),u=F(s);Qf(u,{get routes(){return Hb}}),N(s);var d=G(s,2);Cf(d);var f=G(d,2);Of(f,{}),E(i,l)}}),E(e,t)}const Ub=document.getElementById("app");Bc(Mb,{target:Ub});
